
> @codeflyai/codefly-a2a-server@0.24.0-nightly.20251227.37be16243 test
> vitest run


 RUN  v3.2.4 /Users/robinx/code/codefly-cli/packages/a2a-server
      Coverage enabled with v8

 âœ“ src/config/config.test.ts (2 tests) 4ms
 âœ“ src/commands/extensions.test.ts (8 tests) 4ms
 âœ“ src/commands/command-registry.test.ts (6 tests) 3ms
(node:74375) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 model-changed listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
 âœ“ src/commands/memory.test.ts (7 tests) 4ms
 âœ“ src/commands/init.test.ts (5 tests) 7ms
 âœ“ src/persistence/gcs.test.ts (12 tests) 11ms
 âœ“ src/commands/restore.test.ts (6 tests) 3ms
 âœ“ src/config/settings.test.ts (6 tests) 8ms
 âœ“ src/http/endpoints.test.ts (5 tests) 38ms
 âœ“ src/agent/task.test.ts (17 tests) 31ms
 âœ“ src/http/app.test.ts (20 tests) 77ms

 Test Files  11 passed (11)
      Tests  94 passed (94)
   Start at  10:15:47
   Duration  4.51s (transform 2.94s, setup 0ms, collect 36.59s, tests 191ms, environment 4ms, prepare 906ms)

JUNIT report written to /Users/robinx/code/codefly-cli/packages/a2a-server/junit.xml
 % Coverage report from v8

> @codeflyai/codefly@0.27.0-nightly.20260124.37be16243 test
> vitest run


 RUN  v3.2.4 /Users/robinx/code/codefly-cli/packages/cli
      Coverage enabled with v8

stdout | src/ui/hooks/atCommandProcessor.test.ts > handleAtCommand > git-aware filtering > should skip git-ignored files in @ commands
Ignored 1 files:
Git-ignored: /var/folders/gg/kcq66g8s00q1cckyxtqfr0pr0000gn/T/folder-structure-test-znI97e/node_modules/package.json

stdout | src/ui/hooks/atCommandProcessor.test.ts > handleAtCommand > git-aware filtering > should handle mixed git-ignored and valid files
Ignored 1 files:
Git-ignored: /var/folders/gg/kcq66g8s00q1cckyxtqfr0pr0000gn/T/folder-structure-test-3I28wz/.env

stdout | src/ui/hooks/atCommandProcessor.test.ts > handleAtCommand > git-aware filtering > should always ignore .git directory files
Ignored 1 files:
Git-ignored: /var/folders/gg/kcq66g8s00q1cckyxtqfr0pr0000gn/T/folder-structure-test-5NMaj8/.git/config

stdout | src/ui/hooks/atCommandProcessor.test.ts > handleAtCommand > gemini-ignore filtering > should skip gemini-ignored files in @ commands
Ignored 1 files:
Gemini-ignored: /var/folders/gg/kcq66g8s00q1cckyxtqfr0pr0000gn/T/folder-structure-test-pQv7em/build/output.js

stdout | src/ui/hooks/atCommandProcessor.test.ts > handleAtCommand > should handle mixed gemini-ignored and valid files
Ignored 1 files:
Gemini-ignored: /var/folders/gg/kcq66g8s00q1cckyxtqfr0pr0000gn/T/folder-structure-test-FyZhdm/dist/bundle.js

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > renders the initial "main" view correctly
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > renders "main" view with preview options when preview features are enabled
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `auto-gemini-3`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > switches to "manual" view when "Manual" is selected
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > switches to "manual" view when "Manual" is selected
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/hooks/atCommandProcessor.test.ts > handleAtCommand > MCP resource attachments > returns an error if MCP client is unavailable
[
  [32m"Error reading resource resource://server-1/logs: MCP client for server 'server-1' is not available or not connected."[39m
]

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > switches to "manual" view when "Manual" is selected
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > switches to "manual" view when "Manual" is selected
An update to ModelDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `gemini-3-flash-preview`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > switches to "manual" view when "Manual" is selected
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `gemini-3-flash-preview`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > renders "manual" view with preview options when preview features are enabled
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `auto-gemini-3`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > renders "manual" view with preview options when preview features are enabled
Encountered two children with the same key, `auto-gemini-3`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > renders "manual" view with preview options when preview features are enabled
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `auto-gemini-3`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

 âœ“ src/ui/hooks/atCommandProcessor.test.ts (45 tests) 478ms
 âœ“ src/ui/hooks/useApprovalModeIndicator.test.ts (18 tests) 32ms
stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > renders "manual" view with preview options when preview features are enabled
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > renders "manual" view with preview options when preview features are enabled
Encountered two children with the same key, `auto-gemini-3`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > renders "manual" view with preview options when preview features are enabled
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `auto-gemini-3`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > renders "manual" view with preview options when preview features are enabled
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > renders "manual" view with preview options when preview features are enabled
Encountered two children with the same key, `auto-gemini-3`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > renders "manual" view with preview options when preview features are enabled
An update to ModelDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `gemini-3-flash-preview`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.
Encountered two children with the same key, `gemini-3-flash-preview`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > renders "manual" view with preview options when preview features are enabled
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `gemini-3-flash-preview`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.
Encountered two children with the same key, `gemini-3-flash-preview`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > sets model and closes when a model is selected in "main" view
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > sets model and closes when a model is selected in "main" view
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/hooks/slashCommandProcessor.test.tsx (35 tests) 253ms
 âœ“ src/ui/hooks/useShellHistory.test.ts (7 tests) 551ms
stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > sets model and closes when a model is selected in "manual" view
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > sets model and closes when a model is selected in "manual" view
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/hooks/useSlashCompletion.test.ts (25 tests) 475ms
stdout | src/ui/components/SettingsDialog.test.tsx > SettingsDialog > Settings Toggling > should toggle setting with Enter key
[DEBUG SettingsDialog] Saving general.enableAutoUpdate immediately with value: [33mfalse[39m

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > sets model and closes when a model is selected in "manual" view
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > sets model and closes when a model is selected in "manual" view
An update to ModelDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `gemini-3-flash-preview`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > sets model and closes when a model is selected in "manual" view
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `gemini-3-flash-preview`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

 â¯ src/ui/utils/MarkdownDisplay.test.tsx (30 tests | 10 failed) 671ms
   âœ“ <MarkdownDisplay /> > renders nothing for empty text 16ms
   âœ“ <MarkdownDisplay /> > renders a simple paragraph 8ms
   âœ“ <MarkdownDisplay /> > with 'Windows' line endings > renders headers with correct levels 19ms
   Ã— <MarkdownDisplay /> > with 'Windows' line endings > renders a fenced code block with a language 43ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   Ã— <MarkdownDisplay /> > with 'Windows' line endings > renders a fenced code block without a language 97ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   âœ“ <MarkdownDisplay /> > with 'Windows' line endings > handles unclosed (pending) code blocks 110ms
   âœ“ <MarkdownDisplay /> > with 'Windows' line endings > renders unordered lists with different markers 51ms
   âœ“ <MarkdownDisplay /> > with 'Windows' line endings > renders nested unordered lists 3ms
   âœ“ <MarkdownDisplay /> > with 'Windows' line endings > renders ordered lists 2ms
   âœ“ <MarkdownDisplay /> > with 'Windows' line endings > renders horizontal rules 2ms
   âœ“ <MarkdownDisplay /> > with 'Windows' line endings > renders tables correctly 5ms
   âœ“ <MarkdownDisplay /> > with 'Windows' line endings > handles a table at the end of the input 2ms
   âœ“ <MarkdownDisplay /> > with 'Windows' line endings > inserts a single space between paragraphs 2ms
   Ã— <MarkdownDisplay /> > with 'Windows' line endings > correctly parses a mix of markdown elements 24ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   Ã— <MarkdownDisplay /> > with 'Windows' line endings > hides line numbers in code blocks when showLineNumbers is false 35ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   Ã— <MarkdownDisplay /> > with 'Windows' line endings > shows line numbers in code blocks by default 22ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   âœ“ <MarkdownDisplay /> > with 'Unix' line endings > renders headers with correct levels 13ms
   Ã— <MarkdownDisplay /> > with 'Unix' line endings > renders a fenced code block with a language 35ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   Ã— <MarkdownDisplay /> > with 'Unix' line endings > renders a fenced code block without a language 36ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   âœ“ <MarkdownDisplay /> > with 'Unix' line endings > handles unclosed (pending) code blocks 20ms
   âœ“ <MarkdownDisplay /> > with 'Unix' line endings > renders unordered lists with different markers 2ms
   âœ“ <MarkdownDisplay /> > with 'Unix' line endings > renders nested unordered lists 2ms
   âœ“ <MarkdownDisplay /> > with 'Unix' line endings > renders ordered lists 2ms
   âœ“ <MarkdownDisplay /> > with 'Unix' line endings > renders horizontal rules 2ms
   âœ“ <MarkdownDisplay /> > with 'Unix' line endings > renders tables correctly 2ms
   âœ“ <MarkdownDisplay /> > with 'Unix' line endings > handles a table at the end of the input 2ms
   âœ“ <MarkdownDisplay /> > with 'Unix' line endings > inserts a single space between paragraphs 1ms
   Ã— <MarkdownDisplay /> > with 'Unix' line endings > correctly parses a mix of markdown elements 36ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   Ã— <MarkdownDisplay /> > with 'Unix' line endings > hides line numbers in code blocks when showLineNumbers is false 47ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   Ã— <MarkdownDisplay /> > with 'Unix' line endings > shows line numbers in code blocks by default 28ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > sets model and closes when a model is selected in "manual" view
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > sets model and closes when a model is selected in "manual" view
Encountered two children with the same key, `gemini-3-flash-preview`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > sets model and closes when a model is selected in "manual" view
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `gemini-3-flash-preview`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

 âœ“ src/ui/components/messages/DiffRenderer.test.tsx (26 tests) 576ms
 âœ“ src/ui/components/messages/ToolGroupMessage.test.tsx (21 tests) 461ms
stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > toggles persist mode with Tab key
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to ModelDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > toggles persist mode with Tab key
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > toggles persist mode with Tab key
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > closes dialog on escape in "main" view
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/IdeIntegrationNudge.test.tsx (6 tests) 1515ms
   âœ“ IdeIntegrationNudge > handles "No" selection  323ms
   âœ“ IdeIntegrationNudge > handles "Dismiss" selection  433ms
stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > goes back to "main" view on escape in "manual" view
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > goes back to "main" view on escape in "manual" view
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > goes back to "main" view on escape in "manual" view
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > goes back to "main" view on escape in "manual" view
An update to ModelDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `gemini-3-flash-preview`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > goes back to "main" view on escape in "manual" view
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `gemini-3-flash-preview`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > goes back to "main" view on escape in "manual" view
An update to ModelDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > goes back to "main" view on escape in "manual" view
An update to BaseSelectionList inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > Preview Logic > should NOT show preview options if user has no access
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > Preview Logic > should NOT show preview options if user has access but preview features are disabled
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > Preview Logic > should show preview options if user has access AND preview features are enabled
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `auto-gemini-3`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > Preview Logic > should show "Gemini 3 is now available" header if user has access but preview features disabled
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > Preview Logic > should show "Gemini 3 is coming soon" header if user has no access
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > Preview Logic > should NOT show header/subheader if preview options are shown
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
Encountered two children with the same key, `auto-gemini-3`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.

stdout | src/ui/components/SettingsDialog.test.tsx > SettingsDialog > Settings Toggling > enum values > 'toggles to next value'
[DEBUG SettingsDialog] Saving ui.theme immediately with value: baz

stdout | src/ui/components/SettingsDialog.test.tsx > SettingsDialog > Settings Toggling > enum values > 'loops back to first value when at end'
[DEBUG SettingsDialog] Saving ui.theme immediately with value: foo

stdout | src/ui/components/SettingsDialog.test.tsx > SettingsDialog > Settings Toggling > should handle vim mode setting specially
[DEBUG SettingsDialog] Saving general.previewFeatures immediately with value: [33mtrue[39m

 âœ“ src/ui/hooks/useAtCompletion.test.ts (15 tests) 1864ms
stdout | src/ui/components/SettingsDialog.test.tsx > SettingsDialog > Error Handling > should handle vim mode toggle errors gracefully
[DEBUG SettingsDialog] Saving general.previewFeatures immediately with value: [33mtrue[39m

stdout | src/ui/components/SettingsDialog.test.tsx > SettingsDialog > Complex State Management > should track modified settings correctly
[DEBUG SettingsDialog] Saving general.previewFeatures immediately with value: [33mtrue[39m
[DEBUG SettingsDialog] Saving general.previewFeatures immediately with value: [33mtrue[39m

stdout | src/ui/components/SettingsDialog.test.tsx > SettingsDialog > VimMode Integration > should sync with VimModeContext when vim mode is toggled
[DEBUG SettingsDialog] Saving general.previewFeatures immediately with value: [33mtrue[39m

stdout | src/ui/components/SettingsDialog.test.tsx > SettingsDialog > Specific Settings Behavior > should handle immediate settings save for non-restart-required settings
[DEBUG SettingsDialog] Saving general.previewFeatures immediately with value: [33mtrue[39m

stdout | src/ui/components/SettingsDialog.test.tsx > SettingsDialog > Race Condition Regression Tests > should 'not reset sibling settings when togglâ€¦'
[DEBUG SettingsDialog] Saving tools.shell.showColor immediately with value: [33mtrue[39m
[DEBUG SettingsDialog] Saving tools.shell.showColor immediately with value: [33mfalse[39m
[DEBUG SettingsDialog] Saving tools.shell.showColor immediately with value: [33mtrue[39m
[DEBUG SettingsDialog] Saving tools.shell.showColor immediately with value: [33mfalse[39m
[DEBUG SettingsDialog] Saving tools.shell.showColor immediately with value: [33mtrue[39m

stdout | src/ui/components/SettingsDialog.test.tsx > SettingsDialog > Race Condition Regression Tests > should 'preserve multiple sibling settings inâ€¦'
[DEBUG SettingsDialog] Saving tools.shell.showColor immediately with value: [33mtrue[39m
[DEBUG SettingsDialog] Saving tools.shell.showColor immediately with value: [33mfalse[39m
[DEBUG SettingsDialog] Saving tools.shell.showColor immediately with value: [33mtrue[39m

stdout | src/ui/components/SettingsDialog.test.tsx > SettingsDialog > Complex User Interactions > should allow changing multiple settings without losing pending changes
[DEBUG SettingsDialog] Saving general.previewFeatures immediately with value: [33mtrue[39m
[DEBUG SettingsDialog] Saving general.previewFeatures immediately with value: [33mtrue[39m
[DEBUG SettingsDialog] Saving general.previewFeatures immediately with value: [33mtrue[39m

stdout | src/ui/components/SettingsDialog.test.tsx > SettingsDialog > String Settings Editing > should allow editing and committing a string setting
[DEBUG SettingsDialog] Saving general.vimMode immediately with value: [33mtrue[39m
[DEBUG SettingsDialog] Saving general.vimMode immediately with value: [33mtrue[39m

 â¯ src/ui/components/ModelDialog.test.tsx (15 tests | 2 failed) 2369ms
   âœ“ <ModelDialog /> > renders the initial "main" view correctly 26ms
   âœ“ <ModelDialog /> > renders "main" view with preview options when preview features are enabled 3ms
   âœ“ <ModelDialog /> > switches to "manual" view when "Manual" is selected  329ms
   âœ“ <ModelDialog /> > renders "manual" view with preview options when preview features are enabled  460ms
   âœ“ <ModelDialog /> > sets model and closes when a model is selected in "main" view 155ms
   âœ“ <ModelDialog /> > sets model and closes when a model is selected in "manual" view  458ms
   âœ“ <ModelDialog /> > toggles persist mode with Tab key  306ms
   âœ“ <ModelDialog /> > closes dialog on escape in "main" view 154ms
   âœ“ <ModelDialog /> > goes back to "main" view on escape in "manual" view  456ms
   Ã— <ModelDialog /> > Preview Logic > should NOT show preview options if user has no access 9ms
     â†’ expected 'â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¦' not to contain 'Auto (Preview)'
   Ã— <ModelDialog /> > Preview Logic > should NOT show preview options if user has access but preview features are disabled 5ms
     â†’ expected 'â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¦' not to contain 'Auto (Preview)'
   âœ“ <ModelDialog /> > Preview Logic > should show preview options if user has access AND preview features are enabled 2ms
   âœ“ <ModelDialog /> > Preview Logic > should show "Gemini 3 is now available" header if user has access but preview features disabled 2ms
   âœ“ <ModelDialog /> > Preview Logic > should show "Gemini 3 is coming soon" header if user has no access 2ms
   âœ“ <ModelDialog /> > Preview Logic > should NOT show header/subheader if preview options are shown 2ms
 â¯ src/ui/components/SettingsDialog.test.tsx (55 tests | 1 failed) 2651ms
   âœ“ SettingsDialog > Initial Rendering > should render the settings dialog with default state 59ms
   âœ“ SettingsDialog > Initial Rendering > should accept availableTerminalHeight prop without errors 8ms
   âœ“ SettingsDialog > Initial Rendering > should render settings list with visual indicators 14ms
   âœ“ SettingsDialog > Setting Descriptions > should render descriptions for settings that have them 25ms
   âœ“ SettingsDialog > Settings Navigation > should navigate with 'arrow keys' 69ms
   âœ“ SettingsDialog > Settings Navigation > should navigate with 'vim keys (j/k)' 223ms
   âœ“ SettingsDialog > Settings Navigation > wraps around when at the top of the list 23ms
   Ã— SettingsDialog > Settings Toggling > should toggle setting with Enter key 182ms
     â†’ expected "spy" to be called with arguments: [ Set{ 'general.vimMode' }, â€¦(3) ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    Set {[22m
[32m-     "general.vimMode",[90m
[31m+     "general.enableAutoUpdate",[90m
[31m+   },[90m
[31m+   {[90m
[31m+     "general": {[90m
[31m+       "enableAutoUpdate": false,[90m
[31m+     },[90m
[31m+     "mcpServers": {},[90m
[31m+     "ui": {[90m
[31m+       "customThemes": {},[90m
[31m+     },[90m
[31m+   },[90m
[31m+   LoadedSettings {[90m
[31m+     "_merged": {[90m
[31m+       "admin": {[90m
[31m+         "extensions": {[90m
[31m+           "enabled": true,[90m
[31m+         },[90m
[31m+         "mcp": {[90m
[31m+           "enabled": true,[90m
[31m+         },[90m
[31m+         "secureModeEnabled": false,[90m
[31m+         "skills": {[90m
[31m+           "enabled": true,[90m
[31m+         },[90m
[31m+       },[90m
[31m+       "advanced": {[90m
[31m+         "autoConfigureMemory": false,[90m
[31m+         "excludedEnvVars": [[90m
[31m+           "DEBUG",[90m
[31m+           "DEBUG_MODE",[90m
[31m+         ],[90m
[31m+       },[90m
[31m+       "agents": {[90m
[31m+         "overrides": {},[90m
[31m+       },[90m
[31m+       "context": {[90m
[31m+         "discoveryMaxDirs": 200,[90m
[31m+         "fileFiltering": {[90m
[31m+           "enableFuzzySearch": true,[90m
[31m+           "enableRecursiveFileSearch": true,[90m
[31m+           "respectGeminiIgnore": true,[90m
[31m+           "respectGitIgnore": true,[90m
[31m+         },[90m
[31m+         "includeDirectories": [],[90m
[31m+         "loadMemoryFromIncludeDirectories": false,[90m
[31m+       },[90m
[31m+       "experimental": {[90m
[31m+         "enableAgents": false,[90m
[31m+         "enableEventDrivenScheduler": true,[90m
[31m+         "extensionConfig": false,[90m
[31m+         "extensionManagement": true,[90m
[31m+         "extensionReloading": false,[90m
[31m+         "jitContext": false,[90m
[31m+         "plan": false,[90m
[31m+         "skills": false,[90m
[31m+         "useOSC52Paste": false,[90m
[31m+       },[90m
[31m+       "extensions": {[90m
[31m+         "disabled": [],[90m
[31m+         "workspacesWithMigrationNudge": [],[90m
[31m+       },[90m
[31m+       "general": {[90m
[31m+         "checkpointing": {[90m
[31m+           "enabled": false,[90m
[31m+         },[90m
[31m+         "debugKeystrokeLogging": false,[90m
[31m+         "enableAutoUpdate": true,[90m
[31m+         "enableAutoUpdateNotification": true,[90m
[31m+         "enablePromptCompletion": false,[90m
[31m+         "previewFeatures": false,[90m
[31m+         "retryFetchErrors": false,[90m
[31m+         "sessionRetention": {[90m
[31m+           "enabled": false,[90m
[31m+           "minRetention": "1d",[90m
[31m+         },[90m
[31m+         "vimMode": false,[90m
[31m+       },[90m
[31m+       "hooks": {[90m
[31m+         "AfterAgent": [],[90m
[31m+         "AfterModel": [],[90m
[31m+         "AfterTool": [],[90m
[31m+         "BeforeAgent": [],[90m
[31m+         "BeforeModel": [],[90m
[31m+         "BeforeTool": [],[90m
[31m+         "BeforeToolSelection": [],[90m
[31m+         "Notification": [],[90m
[31m+         "PreCompress": [],[90m
[31m+         "SessionEnd": [],[90m
[31m+         "SessionStart": [],[90m
[31m+       },[90m
[31m+       "hooksConfig": {[90m
[31m+         "disabled": [],[90m
[31m+         "enabled": true,[90m
[31m+         "notifications": true,[90m
[31m+       },[90m
[31m+       "ide": {[90m
[31m+         "enabled": false,[90m
[31m+         "hasSeenNudge": false,[90m
[31m+       },[90m
[31m+       "mcp": {},[90m
[31m+       "mcpServers": {},[90m
[31m+       "model": {[90m
[31m+         "compressionThreshold": 0.5,[90m
[31m+         "maxSessionTurns": -1,[90m
[31m+         "skipNextSpeakerCheck": true,[90m
[31m+       },[90m
[31m+       "modelConfigs": {[90m
[31m+         "aliases": {[90m
[31m+           "base": {[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "temperature": 0,[90m
[31m+                 "topP": 1,[90m
[2m                },[22m
[32m-   ObjectContaining {[90m
[32m-     "general": ObjectContaining {[90m
[32m-       "vimMode": true,[90m
[2m              },[22m
[2m            },[22m
[32m-   Any<LoadedSettings>,[90m
[31m+           "chat-base": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "temperature": 1,[90m
[31m+                 "thinkingConfig": {[90m
[31m+                   "includeThoughts": true,[90m
[31m+                 },[90m
[31m+                 "topK": 64,[90m
[31m+                 "topP": 0.95,[90m
[31m+               },[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-base-2.5": {[90m
[31m+             "extends": "chat-base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "thinkingConfig": {[90m
[31m+                   "thinkingBudget": 8192,[90m
[31m+                 },[90m
[31m+               },[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-base-3": {[90m
[31m+             "extends": "chat-base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "thinkingConfig": {[90m
[31m+                   "thinkingLevel": "HIGH",[90m
[31m+                 },[90m
[31m+               },[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-compression-2.5-flash": {[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-flash",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-compression-2.5-flash-lite": {[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-flash-lite",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-compression-2.5-pro": {[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-pro",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-compression-3-flash": {[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-3-flash-preview",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-compression-3-pro": {[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-3-pro-preview",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-compression-default": {[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-pro",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "classifier": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "maxOutputTokens": 1024,[90m
[31m+                 "thinkingConfig": {[90m
[31m+                   "thinkingBudget": 512,[90m
[31m+                 },[90m
[31m+               },[90m
[31m+               "model": "gemini-2.5-flash-lite",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "edit-corrector": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "thinkingConfig": {[90m
[31m+                   "thinkingBudget": 0,[90m
[31m+                 },[90m
[31m+               },[90m
[31m+               "model": "gemini-2.5-flash-lite",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "gemini-2.5-flash": {[90m
[31m+             "extends": "chat-base-2.5",[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-flash",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "gemini-2.5-flash-base": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-flash",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "gemini-2.5-flash-lite": {[90m
[31m+             "extends": "chat-base-2.5",[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-flash-lite",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "gemini-2.5-pro": {[90m
[31m+             "extends": "chat-base-2.5",[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-pro",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "gemini-3-flash-preview": {[90m
[31m+             "extends": "chat-base-3",[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-3-flash-preview",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "gemini-3-pro-preview": {[90m
[31m+             "extends": "chat-base-3",[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-3-pro-preview",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "llm-edit-fixer": {[90m
[31m+             "extends": "gemini-2.5-flash-base",[90m
[31m+             "modelConfig": {},[90m
[31m+           },[90m
[31m+           "loop-detection": {[90m
[31m+             "extends": "gemini-2.5-flash-base",[90m
[31m+             "modelConfig": {},[90m
[31m+           },[90m
[31m+           "loop-detection-double-check": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-pro",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "next-speaker-checker": {[90m
[31m+             "extends": "gemini-2.5-flash-base",[90m
[31m+             "modelConfig": {},[90m
[31m+           },[90m
[31m+           "prompt-completion": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "maxOutputTokens": 16000,[90m
[31m+                 "temperature": 0.3,[90m
[31m+                 "thinkingConfig": {[90m
[31m+                   "thinkingBudget": 0,[90m
[31m+                 },[90m
[31m+               },[90m
[31m+               "model": "gemini-2.5-flash-lite",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "summarizer-default": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "maxOutputTokens": 2000,[90m
[31m+               },[90m
[31m+               "model": "gemini-2.5-flash-lite",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "summarizer-shell": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "maxOutputTokens": 2000,[90m
[31m+               },[90m
[31m+               "model": "gemini-2.5-flash-lite",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "web-fetch": {[90m
[31m+             "extends": "gemini-2.5-flash-base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "tools": [[90m
[31m+                   {[90m
[31m+                     "urlContext": {},[90m
[31m+                   },[90m
[31m+                 ],[90m
[31m+               },[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "web-fetch-fallback": {[90m
[31m+             "extends": "gemini-2.5-flash-base",[90m
[31m+             "modelConfig": {},[90m
[31m+           },[90m
[31m+           "web-search": {[90m
[31m+             "extends": "gemini-2.5-flash-base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "tools": [[90m
[31m+                   {[90m
[31m+                     "googleSearch": {},[90m
[31m+                   },[90m
[31m+                 ],[90m
[31m+               },[90m
[31m+             },[90m
[31m+           },[90m
[31m+         },[90m
[31m+         "customAliases": {},[90m
[31m+         "customOverrides": [],[90m
[31m+         "overrides": [],[90m
[31m+       },[90m
[31m+       "output": {[90m
[31m+         "format": "text",[90m
[31m+       },[90m
[31m+       "privacy": {[90m
[31m+         "usageStatisticsEnabled": true,[90m
[31m+       },[90m
[31m+       "security": {[90m
[31m+         "auth": {[90m
[31m+           "openai": {},[90m
[31m+         },[90m
[31m+         "blockGitExtensions": false,[90m
[31m+         "disableYoloMode": false,[90m
[31m+         "enablePermanentToolApproval": false,[90m
[31m+         "environmentVariableRedaction": {[90m
[31m+           "allowed": [],[90m
[31m+           "blocked": [],[90m
[31m+           "enabled": false,[90m
[31m+         },[90m
[31m+         "folderTrust": {[90m
[31m+           "enabled": false,[90m
[31m+         },[90m
[31m+       },[90m
[31m+       "skills": {[90m
[31m+         "disabled": [],[90m
[31m+         "enabled": true,[90m
[31m+       },[90m
[31m+       "tools": {[90m
[31m+         "approvalMode": "default",[90m
[31m+         "autoAccept": false,[90m
[31m+         "disableLLMCorrection": true,[90m
[31m+         "enableHooks": true,[90m
[31m+         "enableToolOutputTruncation": true,[90m
[31m+         "shell": {[90m
[31m+           "enableInteractiveShell": true,[90m
[31m+           "enableShellOutputEfficiency": true,[90m
[31m+           "inactivityTimeout": 300,[90m
[31m+           "pager": "cat",[90m
[31m+           "showColor": false,[90m
[31m+         },[90m
[31m+         "truncateToolOutputLines": 1000,[90m
[31m+         "truncateToolOutputThreshold": 4000000,[90m
[31m+         "useRipgrep": true,[90m
[31m+       },[90m
[31m+       "ui": {[90m
[31m+         "accessibility": {[90m
[31m+           "enableLoadingPhrases": true,[90m
[31m+           "screenReader": false,[90m
[31m+         },[90m
[31m+         "customThemes": {},[90m
[31m+         "customWittyPhrases": [],[90m
[31m+         "dynamicWindowTitle": true,[90m
[31m+         "footer": {[90m
[31m+           "hideCWD": false,[90m
[31m+           "hideContextPercentage": true,[90m
[31m+           "hideModelInfo": false,[90m
[31m+           "hideSandboxStatus": false,[90m
[31m+         },[90m
[31m+         "hideBanner": false,[90m
[31m+         "hideContextSummary": false,[90m
[31m+         "hideFooter": false,[90m
[31m+         "hideTips": false,[90m
[31m+         "hideWindowTitle": false,[90m
[31m+         "incrementalRendering": true,[90m
[31m+         "showCitations": false,[90m
[31m+         "showHomeDirectoryWarning": true,[90m
[31m+         "showLineNumbers": true,[90m
[31m+         "showMemoryUsage": false,[90m
[31m+         "showModelInfoInChat": false,[90m
[31m+         "showStatusInTitle": false,[90m
[31m+         "useAlternateBuffer": false,[90m
[31m+         "useFullWidth": true,[90m
[31m+       },[90m
[31m+       "useWriteTodos": true,[90m
[31m+     },[90m
[31m+     "_remoteAdminSettings": undefined,[90m
[31m+     "errors": [],[90m
[31m+     "isTrusted": true,[90m
[31m+     "system": {[90m
[31m+       "originalSettings": {[90m
[31m+         "mcpServers": {},[90m
[31m+         "ui": {[90m
[31m+           "customThemes": {},[90m
[31m+         },[90m
[31m+       },[90m
[31m+       "path": "/system/settings.json",[90m
[31m+       "settings": {[90m
[31m+         "mcpServers": {},[90m
[31m+         "ui": {[90m
[31m+           "customThemes": {},[90m
[31m+         },[90m
[31m+       },[90m
[31m+     },[90m
[31m+     "systemDefaults": {[90m
[31m+       "originalSettings": {},[90m
[31m+       "path": "/system/system-defaults.json",[90m
[31m+       "settings": {},[90m
[31m+     },[90m
[31m+     "user": {[90m
[31m+       "originalSettings": {[90m
[31m+         "mcpServers": {},[90m
[31m+         "ui": {[90m
[31m+           "customThemes": {},[90m
[31m+         },[90m
[31m+       },[90m
[31m+       "path": "/user/settings.json",[90m
[31m+       "settings": {[90m
[31m+         "mcpServers": {},[90m
[31m+         "ui": {[90m
[31m+           "customThemes": {},[90m
[31m+         },[90m
[31m+       },[90m
[31m+     },[90m
[31m+     "workspace": {[90m
[31m+       "originalSettings": {[90m
[31m+         "mcpServers": {},[90m
[31m+         "ui": {[90m
[31m+           "customThemes": {},[90m
[31m+         },[90m
[31m+       },[90m
[31m+       "path": "/workspace/settings.json",[90m
[31m+       "settings": {[90m
[31m+         "mcpServers": {},[90m
[31m+         "ui": {[90m
[31m+           "customThemes": {},[90m
[31m+         },[90m
[31m+       },[90m
[31m+     },[90m
[31m+   },[90m
[2m    "User",[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
   âœ“ SettingsDialog > Settings Toggling > enum values > 'toggles to next value' 28ms
   âœ“ SettingsDialog > Settings Toggling > enum values > 'loops back to first value when at end' 16ms
   âœ“ SettingsDialog > Settings Toggling > should handle vim mode setting specially 17ms
   âœ“ SettingsDialog > Scope Selection > should switch between scopes 109ms
   âœ“ SettingsDialog > Scope Selection > should reset to settings focus when scope is selected 12ms
   âœ“ SettingsDialog > Restart Prompt > should show restart prompt for restart-required settings 15ms
   âœ“ SettingsDialog > Restart Prompt > should handle restart request when r is pressed 14ms
   âœ“ SettingsDialog > Escape Key Behavior > should call onSelect with undefined when Escape is pressed 10ms
   âœ“ SettingsDialog > Settings Persistence > should persist settings across scope changes 126ms
   âœ“ SettingsDialog > Settings Persistence > should show different values for different scopes 22ms
   âœ“ SettingsDialog > Error Handling > should handle vim mode toggle errors gracefully 10ms
   âœ“ SettingsDialog > Complex State Management > should track modified settings correctly 12ms
   âœ“ SettingsDialog > Complex State Management > should handle scrolling when there are many settings 10ms
   âœ“ SettingsDialog > VimMode Integration > should sync with VimModeContext when vim mode is toggled 50ms
   âœ“ SettingsDialog > Specific Settings Behavior > should show correct display values for settings with different states 25ms
   âœ“ SettingsDialog > Specific Settings Behavior > should handle immediate settings save for non-restart-required settings 92ms
   âœ“ SettingsDialog > Specific Settings Behavior > should show restart prompt for restart-required settings 25ms
   âœ“ SettingsDialog > Specific Settings Behavior > should clear restart prompt when switching scopes 59ms
   âœ“ SettingsDialog > Settings Display Values > should show correct values for inherited settings 10ms
   âœ“ SettingsDialog > Settings Display Values > should show override indicator for overridden settings 10ms
   âœ“ SettingsDialog > Race Condition Regression Tests > should 'not reset sibling settings when togglâ€¦' 45ms
   âœ“ SettingsDialog > Race Condition Regression Tests > should 'preserve multiple sibling settings inâ€¦' 13ms
   âœ“ SettingsDialog > Keyboard Shortcuts Edge Cases > should handle rapid key presses gracefully 214ms
   âœ“ SettingsDialog > Keyboard Shortcuts Edge Cases > should handle 'Ctrl+C' to reset current setting to default 12ms
   âœ“ SettingsDialog > Keyboard Shortcuts Edge Cases > should handle 'Ctrl+L' to reset current setting to default 29ms
   âœ“ SettingsDialog > Keyboard Shortcuts Edge Cases > should handle navigation when only one setting exists 76ms
   âœ“ SettingsDialog > Keyboard Shortcuts Edge Cases > should properly handle Tab navigation between sections 29ms
   âœ“ SettingsDialog > Error Recovery > should handle malformed settings gracefully 10ms
   âœ“ SettingsDialog > Error Recovery > should handle missing setting definitions gracefully 7ms
   âœ“ SettingsDialog > Complex User Interactions > should handle complete user workflow: navigate, toggle, change scope, exit 7ms
   âœ“ SettingsDialog > Complex User Interactions > should allow changing multiple settings without losing pending changes 13ms
   âœ“ SettingsDialog > Complex User Interactions > should maintain state consistency during complex interactions 88ms
   âœ“ SettingsDialog > Complex User Interactions > should handle restart workflow correctly 61ms
   âœ“ SettingsDialog > String Settings Editing > should allow editing and committing a string setting 104ms
   âœ“ SettingsDialog > Search Functionality > should display text entered in search 17ms
   âœ“ SettingsDialog > Search Functionality > should show search query and filter settings as user types 91ms
   âœ“ SettingsDialog > Search Functionality > should exit search settings when Escape is pressed 124ms
   âœ“ SettingsDialog > Search Functionality > should handle backspace to modify search query 73ms
   âœ“ SettingsDialog > Search Functionality > should display nothing when search yields no results 167ms
   âœ“ SettingsDialog > Snapshot Tests > should render 'default state' correctly 11ms
   âœ“ SettingsDialog > Snapshot Tests > should render 'various boolean settings enabled' correctly 10ms
   âœ“ SettingsDialog > Snapshot Tests > should render 'mixed boolean and number settings' correctly 15ms
   âœ“ SettingsDialog > Snapshot Tests > should render 'focused on scope selector' correctly 14ms
   âœ“ SettingsDialog > Snapshot Tests > should render 'accessibility settings enabled' correctly 24ms
   âœ“ SettingsDialog > Snapshot Tests > should render 'file filtering settings configured' correctly 12ms
   âœ“ SettingsDialog > Snapshot Tests > should render 'tools and security settings' correctly 11ms
   âœ“ SettingsDialog > Snapshot Tests > should render 'all boolean settings disabled' correctly 97ms
 âœ“ src/ui/components/InputPrompt.test.tsx (127 tests) 2396ms
 âœ“ src/ui/utils/clipboardUtils.test.ts (34 tests) 310ms
 âœ“ src/ui/components/shared/BaseSelectionList.test.tsx (26 tests) 390ms
stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler in YOLO Mode > should skip confirmation and execute tool directly when yoloMode is true
BeforeToolEvent failed for mockToolRequiresConfirmation: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:343:15)
    at HookSystem.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:377:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:85:43)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:103:43
    at runInDevTraceSpan (/Users/robinx/code/codefly-cli/packages/core/src/telemetry/trace.ts:65:12)
    at ToolExecutor.execute (/Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:70:29)
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:55)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:16)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler in YOLO Mode > should skip confirmation and execute tool directly when yoloMode is true
AfterToolEvent failed for mockToolRequiresConfirmation: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:364:15)
    at HookSystem.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:400:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:186:42)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:115:42
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:31)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:5)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)
    at [90m/Users/robinx/code/codefly-cli/packages/cli/[39msrc/ui/hooks/useToolScheduler.test.ts:174:7

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should schedule and execute a tool call successfully
BeforeToolEvent failed for mockTool: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:343:15)
    at HookSystem.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:377:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:85:43)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:103:43
    at runInDevTraceSpan (/Users/robinx/code/codefly-cli/packages/core/src/telemetry/trace.ts:65:12)
    at ToolExecutor.execute (/Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:70:29)
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:55)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:16)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should schedule and execute a tool call successfully
AfterToolEvent failed for mockTool: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:364:15)
    at HookSystem.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:400:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:186:42)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:115:42
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:31)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:5)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)
    at [90m/Users/robinx/code/codefly-cli/packages/cli/[39msrc/ui/hooks/useToolScheduler.test.ts:234:7

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should clear previous tool calls when scheduling new ones
BeforeToolEvent failed for mockTool: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:343:15)
    at HookSystem.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:377:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:85:43)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:103:43
    at runInDevTraceSpan (/Users/robinx/code/codefly-cli/packages/core/src/telemetry/trace.ts:65:12)
    at ToolExecutor.execute (/Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:70:29)
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:55)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:16)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should clear previous tool calls when scheduling new ones
AfterToolEvent failed for mockTool: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:364:15)
    at HookSystem.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:400:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:186:42)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:115:42
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:31)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:5)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should cancel all running tool calls
BeforeToolEvent failed for mockTool: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:343:15)
    at HookSystem.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:377:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:85:43)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:103:43
    at runInDevTraceSpan (/Users/robinx/code/codefly-cli/packages/core/src/telemetry/trace.ts:65:12)
    at ToolExecutor.execute (/Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:70:29)
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:55)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:16)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should cancel all running tool calls
AfterToolEvent failed for mockTool: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:364:15)
    at HookSystem.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:400:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:186:42)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:115:42
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:31)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:5)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should handle 'error during execute'
BeforeToolEvent failed for mockTool: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:343:15)
    at HookSystem.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:377:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:85:43)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:103:43
    at runInDevTraceSpan (/Users/robinx/code/codefly-cli/packages/core/src/telemetry/trace.ts:65:12)
    at ToolExecutor.execute (/Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:70:29)
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:55)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:16)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should handle tool requiring confirmation - approved
NotificationEvent failed for Mock Tool Requires Confirmation: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireNotificationEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:397:15)
    at HookSystem.fireToolNotificationEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:420:35)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:655:32)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should handle tool requiring confirmation - approved
BeforeToolEvent failed for mockToolRequiresConfirmation: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:343:15)
    at HookSystem.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:377:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:85:43)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:103:43
    at runInDevTraceSpan (/Users/robinx/code/codefly-cli/packages/core/src/telemetry/trace.ts:65:12)
    at ToolExecutor.execute (/Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:70:29)
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:55)
    at CoreToolScheduler.handleConfirmationResponse (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:810:16)
    at [90m/Users/robinx/code/codefly-cli/packages/cli/[39msrc/ui/hooks/useToolScheduler.test.ts:539:7

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should handle tool requiring confirmation - approved
AfterToolEvent failed for mockToolRequiresConfirmation: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:364:15)
    at HookSystem.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:400:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:186:42)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:115:42
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:31)
    at CoreToolScheduler.handleConfirmationResponse (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:810:5)
    at [90m/Users/robinx/code/codefly-cli/packages/cli/[39msrc/ui/hooks/useToolScheduler.test.ts:539:7

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should handle tool requiring confirmation - cancelled by user
NotificationEvent failed for Mock Tool Requires Confirmation: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireNotificationEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:397:15)
    at HookSystem.fireToolNotificationEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:420:35)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:655:32)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should handle live output updates
BeforeToolEvent failed for mockToolWithLiveOutput: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:343:15)
    at HookSystem.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:377:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:85:43)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:103:43
    at runInDevTraceSpan (/Users/robinx/code/codefly-cli/packages/core/src/telemetry/trace.ts:65:12)
    at ToolExecutor.execute (/Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:70:29)
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:55)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:16)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should handle live output updates
AfterToolEvent failed for mockToolWithLiveOutput: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:364:15)
    at HookSystem.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:400:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:186:42)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:115:42
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:31)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:5)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should schedule and execute multiple tool calls
BeforeToolEvent failed for tool1: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:343:15)
    at HookSystem.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:377:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:85:43)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:103:43
    at runInDevTraceSpan (/Users/robinx/code/codefly-cli/packages/core/src/telemetry/trace.ts:65:12)
    at ToolExecutor.execute (/Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:70:29)
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:55)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:16)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should schedule and execute multiple tool calls
AfterToolEvent failed for tool1: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:364:15)
    at HookSystem.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:400:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:186:42)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:115:42
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:31)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:5)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)
    at [90m/Users/robinx/code/codefly-cli/packages/cli/[39msrc/ui/hooks/useToolScheduler.test.ts:725:7

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should schedule and execute multiple tool calls
BeforeToolEvent failed for tool2: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:343:15)
    at HookSystem.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:377:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:85:43)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:103:43
    at runInDevTraceSpan (/Users/robinx/code/codefly-cli/packages/core/src/telemetry/trace.ts:65:12)
    at ToolExecutor.execute (/Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:70:29)
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:55)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:16)
    at CoreToolScheduler.checkAndNotifyCompletion (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:954:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should schedule and execute multiple tool calls
AfterToolEvent failed for tool2: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:364:15)
    at HookSystem.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:400:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:186:42)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:115:42
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:31)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:5)
    at CoreToolScheduler.checkAndNotifyCompletion (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:954:7)
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:873:9)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:5)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should queue if scheduling while already running
BeforeToolEvent failed for mockTool: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:343:15)
    at HookSystem.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:377:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:85:43)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:103:43
    at runInDevTraceSpan (/Users/robinx/code/codefly-cli/packages/core/src/telemetry/trace.ts:65:12)
    at ToolExecutor.execute (/Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:70:29)
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:55)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:16)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should queue if scheduling while already running
AfterToolEvent failed for mockTool: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:364:15)
    at HookSystem.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:400:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:186:42)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:115:42
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:31)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:5)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should queue if scheduling while already running
BeforeToolEvent failed for mockTool: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:343:15)
    at HookSystem.fireBeforeToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:377:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:85:43)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:103:43
    at runInDevTraceSpan (/Users/robinx/code/codefly-cli/packages/core/src/telemetry/trace.ts:65:12)
    at ToolExecutor.execute (/Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:70:29)
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:55)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:16)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

stdout | src/ui/hooks/useToolScheduler.test.ts > useReactToolScheduler > should queue if scheduling while already running
AfterToolEvent failed for mockTool: TypeError: this.config.getWorkingDir is not a function
    at HookEventHandler.createBaseInput (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:612:24)
    at HookEventHandler.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookEventHandler.ts:364:15)
    at HookSystem.fireAfterToolEvent (/Users/robinx/code/codefly-cli/packages/core/src/hooks/hookSystem.ts:400:50)
    at executeToolWithHooks (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolHookTriggers.ts:186:42)
    at /Users/robinx/code/codefly-cli/packages/core/src/scheduler/tool-executor.ts:115:42
    at CoreToolScheduler.attemptExecutionOfScheduledCalls (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:842:31)
    at CoreToolScheduler._processNextInQueue (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:732:5)
    at CoreToolScheduler._schedule (/Users/robinx/code/codefly-cli/packages/core/src/core/coreToolScheduler.ts:540:7)

 âœ“ src/ui/components/shared/text-buffer.test.ts (205 tests) 3757ms
   âœ“ useTextBuffer > Input Sanitization > should sanitize large text (>5000 chars) and strip unsafe characters  1106ms
   âœ“ useTextBuffer > Input Sanitization > should sanitize large ANSI text (>5000 chars) and strip escape codes  2422ms
 âœ“ src/ui/hooks/usePhraseCycler.test.tsx (12 tests) 143ms
 âœ“ src/ui/hooks/useReverseSearchCompletion.test.tsx (10 tests) 68ms
 âœ“ src/ui/hooks/vim.test.tsx (87 tests) 555ms
stdout | src/config/config.test.ts > parseArguments > should set isCommand to true for hooks command
Usage: gemini hooks migrate --from-claude

Migrate hooks from Claude Code to Codefly CLI format.

 âœ“ src/ui/hooks/useToolScheduler.test.ts (23 tests) 120ms
 âœ“ src/ui/hooks/useReactToolScheduler.test.ts (1 test) 10ms
(node:74539) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 model-changed listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
stderr | src/config/config.test.ts > Approval mode tool exclusion logic > should exclude no interactive tools in non-interactive mode with yolo approval mode
YOLO mode is enabled. All tool calls will be automatically approved.

stderr | src/config/config.test.ts > Approval mode tool exclusion logic > should exclude no interactive tools in non-interactive mode with legacy yolo flag
YOLO mode is enabled. All tool calls will be automatically approved.

stderr | src/config/config.test.ts > Approval mode tool exclusion logic > should not exclude interactive tools in interactive mode regardless of approval mode
YOLO mode is enabled. All tool calls will be automatically approved.

stderr | src/config/config.test.ts > Approval mode tool exclusion logic > should not exclude interactive tools in interactive mode regardless of approval mode
YOLO mode is enabled. All tool calls will be automatically approved.

stderr | src/config/config.test.ts > loadCliConfig tool exclusions > should not exclude interactive tools in interactive mode with YOLO
YOLO mode is enabled. All tool calls will be automatically approved.

 âœ“ src/ui/hooks/useSelectionList.test.tsx (47 tests) 29ms
stderr | src/config/config.test.ts > loadCliConfig tool exclusions > should not exclude interactive tools in non-interactive mode with YOLO
YOLO mode is enabled. All tool calls will be automatically approved.

 âœ“ src/ui/utils/CodeColorizer.test.tsx (1 test) 97ms
stderr | src/config/config.test.ts > loadCliConfig interactive > should be interactive if positional prompt words are provided with multiple flags
YOLO mode is enabled. All tool calls will be automatically approved.

stderr | src/config/config.test.ts > loadCliConfig approval mode > should set YOLO approval mode when --yolo flag is used
YOLO mode is enabled. All tool calls will be automatically approved.

stderr | src/config/config.test.ts > loadCliConfig approval mode > should set YOLO approval mode when -y flag is used
YOLO mode is enabled. All tool calls will be automatically approved.

stderr | src/config/config.test.ts > loadCliConfig approval mode > should set YOLO approval mode when --approval-mode=yolo
YOLO mode is enabled. All tool calls will be automatically approved.

stderr | src/config/config.test.ts > loadCliConfig approval mode > should fall back to --yolo behavior when --approval-mode is not set
YOLO mode is enabled. All tool calls will be automatically approved.

stderr | src/config/config.test.ts > loadCliConfig approval mode > when folder is NOT trusted > should override --approval-mode=yolo to DEFAULT
YOLO mode is enabled. All tool calls will be automatically approved.
Approval mode overridden to "default" because the current folder is not trusted.

stderr | src/config/config.test.ts > loadCliConfig approval mode > when folder is NOT trusted > should override --approval-mode=auto_edit to DEFAULT
Approval mode overridden to "default" because the current folder is not trusted.

stderr | src/config/config.test.ts > loadCliConfig approval mode > when folder is NOT trusted > should override --yolo flag to DEFAULT
YOLO mode is enabled. All tool calls will be automatically approved.
Approval mode overridden to "default" because the current folder is not trusted.

stderr | src/config/config.test.ts > loadCliConfig approval mode > Persistent approvalMode setting > should prioritize --yolo flag over settings
YOLO mode is enabled. All tool calls will be automatically approved.

stderr | src/config/config.test.ts > loadCliConfig disableYoloMode > should throw if YOLO mode is attempted when disableYoloMode is true
YOLO mode is disabled by the "disableYolo" setting.

stderr | src/config/config.test.ts > loadCliConfig secureModeEnabled > should throw an error if YOLO mode is attempted when secureModeEnabled is true
YOLO mode is disabled by "secureModeEnabled" setting.

stderr | src/config/config.test.ts > loadCliConfig secureModeEnabled > should throw an error if approval-mode=yolo is attempted when secureModeEnabled is true
YOLO mode is disabled by "secureModeEnabled" setting.

(node:74728) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 model-changed listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
 âœ“ src/ui/hooks/useQuotaAndFallback.test.ts (18 tests) 41ms
 â¯ src/config/config.test.ts (176 tests | 2 failed) 1220ms
   âœ“ parseArguments > should throw an error when using conflicting prompt flags ('long flags') 14ms
   âœ“ parseArguments > should throw an error when using conflicting prompt flags ('short flags') 5ms
   âœ“ parseArguments > 'should allow --prompt without --prompâ€¦' 1ms
   âœ“ parseArguments > 'should allow --prompt-interactive witâ€¦' 1ms
   âœ“ parseArguments > 'should allow -i flag as alias for --pâ€¦' 1ms
   âœ“ parseArguments > positional arguments and @commands > 'should convert positional query argumâ€¦' 1ms
   âœ“ parseArguments > positional arguments and @commands > 'should map @path to prompt (one-shot)â€¦' 1ms
   âœ“ parseArguments > positional arguments and @commands > 'should map @path to prompt even when â€¦' 1ms
   âœ“ parseArguments > positional arguments and @commands > 'maps unquoted positional @path + arg â€¦' 1ms
   âœ“ parseArguments > positional arguments and @commands > 'should handle multiple @path argumentâ€¦' 1ms
   âœ“ parseArguments > positional arguments and @commands > 'should handle mixed quoted and unquotâ€¦' 1ms
   âœ“ parseArguments > positional arguments and @commands > 'should map @path to prompt with ambieâ€¦' 1ms
   âœ“ parseArguments > positional arguments and @commands > 'should map @include to prompt (one-shâ€¦' 1ms
   âœ“ parseArguments > positional arguments and @commands > 'should map @search to prompt (one-shoâ€¦' 1ms
   âœ“ parseArguments > positional arguments and @commands > 'should map @web to prompt (one-shot)' 1ms
   âœ“ parseArguments > positional arguments and @commands > 'should map @git to prompt (one-shot)' 1ms
   âœ“ parseArguments > positional arguments and @commands > 'should handle @command with leading wâ€¦' 1ms
   âœ“ parseArguments > positional arguments and @commands > should include a startup message when converting positional query to interactive prompt 1ms
   âœ“ parseArguments > should throw an error when using conflicting yolo/approval-mode flags ('long flags') 4ms
   âœ“ parseArguments > should throw an error when using conflicting yolo/approval-mode flags ('short flags') 3ms
   âœ“ parseArguments > 'should allow --approval-mode without â€¦' 1ms
   âœ“ parseArguments > 'should allow --yolo without --approvaâ€¦' 1ms
   âœ“ parseArguments > should reject invalid --approval-mode values 3ms
   âœ“ parseArguments > should allow resuming a session without prompt argument in non-interactive mode (expecting stdin) 1ms
   âœ“ parseArguments > should return RESUME_LATEST constant when --resume is passed without a value 1ms
   âœ“ parseArguments > should support comma-separated values for --allowed-tools 1ms
   âœ“ parseArguments > should support comma-separated values for --allowed-mcp-server-names 1ms
   âœ“ parseArguments > should support comma-separated values for --extensions 1ms
   âœ“ parseArguments > should correctly parse positional arguments when flags with arguments are present 22ms
   âœ“ parseArguments > should handle long positional prompts with multiple flags 1ms
   âœ“ parseArguments > should set isCommand to true for mcp command 17ms
   âœ“ parseArguments > should set isCommand to true for extensions command 1ms
   âœ“ parseArguments > should set isCommand to true for skills command 1ms
   âœ“ parseArguments > should set isCommand to true for hooks command 2ms
   âœ“ loadCliConfig > Proxy configuration > should leave proxy to empty by default 22ms
   âœ“ loadCliConfig > Proxy configuration > should set proxy to http://localhost:7890 according to environment variable [https_proxy] 10ms
   âœ“ loadCliConfig > Proxy configuration > should set proxy to http://localhost:7890 according to environment variable [http_proxy] 3ms
   âœ“ loadCliConfig > Proxy configuration > should set proxy to http://localhost:7890 according to environment variable [HTTPS_PROXY] 2ms
   âœ“ loadCliConfig > Proxy configuration > should set proxy to http://localhost:7890 according to environment variable [HTTP_PROXY] 2ms
   âœ“ loadCliConfig > should use default fileFilter options when unconfigured 5ms
   âœ“ loadCliConfig > should be non-interactive when isCommand is set 3ms
   âœ“ Hierarchical Memory Loading (config.ts) - Placeholder Suite > should pass extension context file paths to loadServerHierarchicalMemory 3ms
   âœ“ Hierarchical Memory Loading (config.ts) - Placeholder Suite > should pass includeDirectories to loadServerHierarchicalMemory when loadMemoryFromIncludeDirectories is true 2ms
   âœ“ Hierarchical Memory Loading (config.ts) - Placeholder Suite > should NOT pass includeDirectories to loadServerHierarchicalMemory when loadMemoryFromIncludeDirectories is false 3ms
   âœ“ mergeMcpServers > should not modify the original settings object 4ms
   âœ“ mergeExcludeTools > should merge excludeTools from settings and extensions 8ms
   âœ“ mergeExcludeTools > should handle overlapping excludeTools between settings and extensions 11ms
   âœ“ mergeExcludeTools > should handle overlapping excludeTools between extensions 4ms
   âœ“ mergeExcludeTools > should return an empty array when no excludeTools are specified and it is interactive 6ms
   âœ“ mergeExcludeTools > should return default excludes when no excludeTools are specified and it is not interactive 2ms
   âœ“ mergeExcludeTools > should handle settings with excludeTools but no extensions 3ms
   âœ“ mergeExcludeTools > should handle extensions with excludeTools but no settings 2ms
   âœ“ mergeExcludeTools > should not modify the original settings object 3ms
   âœ“ Approval mode tool exclusion logic > should exclude all interactive tools in non-interactive mode with default approval mode 40ms
   âœ“ Approval mode tool exclusion logic > should exclude all interactive tools in non-interactive mode with explicit default approval mode 40ms
   âœ“ Approval mode tool exclusion logic > should exclude only shell tools in non-interactive mode with auto_edit approval mode 12ms
   âœ“ Approval mode tool exclusion logic > should exclude no interactive tools in non-interactive mode with yolo approval mode 15ms
   âœ“ Approval mode tool exclusion logic > should exclude all interactive tools in non-interactive mode with plan approval mode 18ms
   âœ“ Approval mode tool exclusion logic > should exclude no interactive tools in non-interactive mode with legacy yolo flag 7ms
   âœ“ Approval mode tool exclusion logic > should not exclude interactive tools in interactive mode regardless of approval mode 30ms
   âœ“ Approval mode tool exclusion logic > should merge approval mode exclusions with settings exclusions in auto_edit mode 16ms
   âœ“ Approval mode tool exclusion logic > should throw an error if YOLO mode is attempted when disableYoloMode is true 2ms
   âœ“ Approval mode tool exclusion logic > should throw an error for invalid approval mode values in loadCliConfig 1ms
   âœ“ loadCliConfig with allowed-mcp-server-names > should allow all MCP servers if the flag is not provided 42ms
   âœ“ loadCliConfig with allowed-mcp-server-names > should allow only the specified MCP server 28ms
   âœ“ loadCliConfig with allowed-mcp-server-names > should allow multiple specified MCP servers 4ms
   âœ“ loadCliConfig with allowed-mcp-server-names > should handle server names that do not exist 3ms
   âœ“ loadCliConfig with allowed-mcp-server-names > should allow no MCP servers if the flag is provided but empty 7ms
   âœ“ loadCliConfig with allowed-mcp-server-names > should read allowMCPServers from settings 3ms
   âœ“ loadCliConfig with allowed-mcp-server-names > should read excludeMCPServers from settings 2ms
   âœ“ loadCliConfig with allowed-mcp-server-names > should override allowMCPServers with excludeMCPServers if overlapping 3ms
   âœ“ loadCliConfig with allowed-mcp-server-names > should prioritize mcp server flag if set 5ms
   âœ“ loadCliConfig with allowed-mcp-server-names > should prioritize CLI flag over both allowed and excluded settings 3ms
   âœ“ loadCliConfig model selection > selects a model from settings.json if provided 2ms
   Ã— loadCliConfig model selection > uses the default gemini model if nothing is set 10ms
     â†’ expected 'auto-gemini-3' to be 'auto-gemini-2.5' // Object.is equality
   âœ“ loadCliConfig model selection > always prefers model from argv 3ms
   âœ“ loadCliConfig model selection > selects the model from argv if provided 5ms
   Ã— loadCliConfig model selection > selects the default auto model if provided via auto alias 6ms
     â†’ expected 'auto-gemini-3' to be 'auto-gemini-2.5' // Object.is equality
   âœ“ loadCliConfig folderTrust > should be false when folderTrust is false 3ms
   âœ“ loadCliConfig folderTrust > should be true when folderTrust is true 4ms
   âœ“ loadCliConfig folderTrust > should be false by default 4ms
   âœ“ loadCliConfig with includeDirectories > should combine and resolve paths from settings and CLI arguments 25ms
   âœ“ loadCliConfig compressionThreshold > should pass settings to the core config 3ms
   âœ“ loadCliConfig compressionThreshold > should have default compressionThreshold if not in settings 2ms
   âœ“ loadCliConfig useRipgrep > should be true by default when useRipgrep is not set in settings 3ms
   âœ“ loadCliConfig useRipgrep > should be false when useRipgrep is set to false in settings 2ms
   âœ“ loadCliConfig useRipgrep > should be true when useRipgrep is explicitly set to true in settings 3ms
   âœ“ screenReader configuration > should use screenReader value from settings if CLI flag is not present (settings true) 3ms
   âœ“ screenReader configuration > should use screenReader value from settings if CLI flag is not present (settings false) 4ms
   âœ“ screenReader configuration > should prioritize --screen-reader CLI flag (true) over settings (false) 3ms
   âœ“ screenReader configuration > should be false by default when no flag or setting is present 3ms
   âœ“ loadCliConfig tool exclusions > should not exclude interactive tools in interactive mode without YOLO 3ms
   âœ“ loadCliConfig tool exclusions > should not exclude interactive tools in interactive mode with YOLO 2ms
   âœ“ loadCliConfig tool exclusions > should exclude interactive tools in non-interactive mode without YOLO 7ms
   âœ“ loadCliConfig tool exclusions > should not exclude interactive tools in non-interactive mode with YOLO 31ms
   âœ“ loadCliConfig tool exclusions > should not exclude shell tool in non-interactive mode when --allowed-tools="ShellTool" is set 89ms
   âœ“ loadCliConfig tool exclusions > should exclude web-fetch in non-interactive mode when not allowed 3ms
   âœ“ loadCliConfig tool exclusions > should not exclude web-fetch in non-interactive mode when allowed 5ms
   âœ“ loadCliConfig tool exclusions > should not exclude shell tool in non-interactive mode when --allowed-tools="run_shell_command" is set 2ms
   âœ“ loadCliConfig tool exclusions > should not exclude shell tool in non-interactive mode when --allowed-tools="ShellTool(wc)" is set 2ms
   âœ“ loadCliConfig interactive > should be interactive if isTTY and no prompt 3ms
   âœ“ loadCliConfig interactive > should be interactive if prompt-interactive is set 3ms
   âœ“ loadCliConfig interactive > should not be interactive if not isTTY and no prompt 3ms
   âœ“ loadCliConfig interactive > should not be interactive if prompt is set 5ms
   âœ“ loadCliConfig interactive > should be interactive if positional prompt words are provided with other flags 3ms
   âœ“ loadCliConfig interactive > should be interactive if positional prompt words are provided with multiple flags 2ms
   âœ“ loadCliConfig interactive > should be interactive if positional prompt words are provided with extensions flag 3ms
   âœ“ loadCliConfig interactive > should handle multiple positional words correctly 3ms
   âœ“ loadCliConfig interactive > should handle multiple positional words with flags 4ms
   âœ“ loadCliConfig interactive > should handle empty positional arguments 2ms
   âœ“ loadCliConfig interactive > should handle extensions flag with positional arguments correctly 3ms
   âœ“ loadCliConfig interactive > should be interactive if no positional prompt words are provided with flags 4ms
   âœ“ loadCliConfig approval mode > should default to DEFAULT approval mode when no flags are set 4ms
   âœ“ loadCliConfig approval mode > should set YOLO approval mode when --yolo flag is used 3ms
   âœ“ loadCliConfig approval mode > should set YOLO approval mode when -y flag is used 3ms
   âœ“ loadCliConfig approval mode > should set DEFAULT approval mode when --approval-mode=default 2ms
   âœ“ loadCliConfig approval mode > should set AUTO_EDIT approval mode when --approval-mode=auto_edit 2ms
   âœ“ loadCliConfig approval mode > should set YOLO approval mode when --approval-mode=yolo 3ms
   âœ“ loadCliConfig approval mode > should prioritize --approval-mode over --yolo when both would be valid (but validation prevents this) 2ms
   âœ“ loadCliConfig approval mode > should fall back to --yolo behavior when --approval-mode is not set 2ms
   âœ“ loadCliConfig approval mode > should set Plan approval mode when --approval-mode=plan is used and experimental.plan is enabled 3ms
   âœ“ loadCliConfig approval mode > should ignore "yolo" in settings.tools.approvalMode and fall back to DEFAULT 3ms
   âœ“ loadCliConfig approval mode > should throw error when --approval-mode=plan is used but experimental.plan is disabled 2ms
   âœ“ loadCliConfig approval mode > should throw error when --approval-mode=plan is used but experimental.plan setting is missing 2ms
   âœ“ loadCliConfig approval mode > when folder is NOT trusted > should override --approval-mode=yolo to DEFAULT 4ms
   âœ“ loadCliConfig approval mode > when folder is NOT trusted > should override --approval-mode=auto_edit to DEFAULT 4ms
   âœ“ loadCliConfig approval mode > when folder is NOT trusted > should override --yolo flag to DEFAULT 3ms
   âœ“ loadCliConfig approval mode > when folder is NOT trusted > should remain DEFAULT when --approval-mode=default 3ms
   âœ“ loadCliConfig approval mode > Persistent approvalMode setting > should use approvalMode from settings when no CLI flags are set 4ms
   âœ“ loadCliConfig approval mode > Persistent approvalMode setting > should prioritize --approval-mode flag over settings 5ms
   âœ“ loadCliConfig approval mode > Persistent approvalMode setting > should prioritize --yolo flag over settings 4ms
   âœ“ loadCliConfig approval mode > Persistent approvalMode setting > should respect plan mode from settings when experimental.plan is enabled 4ms
   âœ“ loadCliConfig approval mode > Persistent approvalMode setting > should throw error if plan mode is in settings but experimental.plan is disabled 3ms
   âœ“ loadCliConfig fileFiltering > should pass 'enableFuzzySearch' from settings to config when true 3ms
   âœ“ loadCliConfig fileFiltering > should pass 'enableFuzzySearch' from settings to config when false 123ms
   âœ“ loadCliConfig fileFiltering > should pass 'respectGitIgnore' from settings to config when true 5ms
   âœ“ loadCliConfig fileFiltering > should pass 'respectGitIgnore' from settings to config when false 4ms
   âœ“ loadCliConfig fileFiltering > should pass 'respectGeminiIgnore' from settings to config when true 11ms
   âœ“ loadCliConfig fileFiltering > should pass 'respectGeminiIgnore' from settings to config when false 3ms
   âœ“ loadCliConfig fileFiltering > should pass 'enableRecursiveFileSearch' from settings to config when true 2ms
   âœ“ loadCliConfig fileFiltering > should pass 'enableRecursiveFileSearch' from settings to config when false 2ms
   âœ“ Output format > should default to TEXT 2ms
   âœ“ Output format > should use the format from settings 2ms
   âœ“ Output format > should prioritize the format from argv 2ms
   âœ“ Output format > should accept stream-json as a valid output format 2ms
   âœ“ Output format > should error on invalid --output-format argument 4ms
   âœ“ parseArguments with positional prompt > should throw an error when both a positional prompt and the --prompt flag are used 3ms
   âœ“ parseArguments with positional prompt > should correctly parse a positional prompt to query field 1ms
   âœ“ parseArguments with positional prompt > should have correct positional argument description 1ms
   âœ“ parseArguments with positional prompt > should correctly parse a prompt from the --prompt flag 1ms
   âœ“ Telemetry configuration via environment variables > should prioritize GEMINI_TELEMETRY_ENABLED over settings 10ms
   âœ“ Telemetry configuration via environment variables > should prioritize GEMINI_TELEMETRY_TARGET over settings 3ms
   âœ“ Telemetry configuration via environment variables > should throw when GEMINI_TELEMETRY_TARGET is invalid 2ms
   âœ“ Telemetry configuration via environment variables > should prioritize GEMINI_TELEMETRY_OTLP_ENDPOINT over settings and default env var 2ms
   âœ“ Telemetry configuration via environment variables > should prioritize GEMINI_TELEMETRY_OTLP_PROTOCOL over settings 3ms
   âœ“ Telemetry configuration via environment variables > should prioritize GEMINI_TELEMETRY_LOG_PROMPTS over settings 6ms
   âœ“ Telemetry configuration via environment variables > should prioritize GEMINI_TELEMETRY_OUTFILE over settings 3ms
   âœ“ Telemetry configuration via environment variables > should prioritize GEMINI_TELEMETRY_USE_COLLECTOR over settings 7ms
   âœ“ Telemetry configuration via environment variables > should use settings value when GEMINI_TELEMETRY_ENABLED is not set 3ms
   âœ“ Telemetry configuration via environment variables > should use settings value when GEMINI_TELEMETRY_TARGET is not set 5ms
   âœ“ Telemetry configuration via environment variables > should treat GEMINI_TELEMETRY_ENABLED='1' as true 4ms
   âœ“ Telemetry configuration via environment variables > should treat GEMINI_TELEMETRY_ENABLED='0' as false 2ms
   âœ“ Telemetry configuration via environment variables > should treat GEMINI_TELEMETRY_LOG_PROMPTS='1' as true 3ms
   âœ“ Telemetry configuration via environment variables > should treat GEMINI_TELEMETRY_LOG_PROMPTS='false' as false 2ms
   âœ“ PolicyEngine nonInteractive wiring > should set nonInteractive to true when -p flag is used 2ms
   âœ“ PolicyEngine nonInteractive wiring > should set nonInteractive to false in interactive mode 3ms
   âœ“ Policy Engine Integration in loadCliConfig > should pass merged allowed tools from CLI and settings to createPolicyEngineConfig 3ms
   âœ“ Policy Engine Integration in loadCliConfig > should pass merged exclude tools from CLI logic and settings to createPolicyEngineConfig 4ms
   âœ“ loadCliConfig disableYoloMode > should allow auto_edit mode even if yolo mode is disabled 5ms
   âœ“ loadCliConfig disableYoloMode > should throw if YOLO mode is attempted when disableYoloMode is true 3ms
   âœ“ loadCliConfig secureModeEnabled > should throw an error if YOLO mode is attempted when secureModeEnabled is true 2ms
   âœ“ loadCliConfig secureModeEnabled > should throw an error if approval-mode=yolo is attempted when secureModeEnabled is true 2ms
   âœ“ loadCliConfig secureModeEnabled > should set disableYoloMode to true when secureModeEnabled is true 2ms
   âœ“ loadCliConfig mcpEnabled > should enable MCP by default 24ms
   âœ“ loadCliConfig mcpEnabled > should disable MCP when mcpEnabled is false 105ms
   âœ“ loadCliConfig mcpEnabled > should enable MCP when mcpEnabled is true 19ms
 âœ“ src/ui/utils/rewindFileOps.test.ts (9 tests) 7ms
stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to BaseSettingsDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to BaseSettingsDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/components/shared/BaseSettingsDialog.test.tsx (25 tests) 639ms
stderr | src/config/config.integration.test.ts > Configuration Integration Tests > Approval Mode Integration Tests > 'should parse --approval-mode=auto_ediâ€¦'
[MSW] Warning: intercepted a request without a matching request handler:

  â€¢ GET data:application/octet-stream;base64,AGFzbQEAAAABugM3YAF/AGACf38AYAF/AX9gA39/fwBgAn98AGACf38Bf2ADf39/AX9gBH9/f30BfWADf398AGAAAGAEf39/fwBgAX8BfGACf38BfGAFf39/f38Bf2AAAX9gA39/fwF9YAZ/f31/fX8AYAV/f39/fwBgAn9/AX1gBX9/f319AX1gAX8BfWADf35/AX5gB39/f39/f38AYAZ/f39/f38AYAR/f39/AX9gBn9/f319fQF9YAR/f31/AGADf399AX1gBn98f39/fwF/YAR/fHx/AGACf30AYAh/f39/f39/fwBgDX9/f39/f39/f39/f38AYAp/f39/f39/f39/AGAFf39/f38BfGAEfHx/fwF9YA1/fX1/f399fX9/f39/AX9gB39/f319f38AYAJ+fwF/YAN/fX0BfWABfAF8YAN/fHwAYAR/f319AGAHf39/fX19fQF9YA1/fX99f31/fX19fX1/AX9gC39/f39/f399fX19AX9gCH9/f39/f319AGAEf39+fgBgB39/f39/f38Bf2ACfH8BfGAFf398fH8AYAN/f38BfGAEf39/fABgA39/fQBgBn9/fX99fwF/ArUBHgFhAWEAHwFhAWIAAwFhAWMACQFhAWQAFgFhAWUAEQFhAWYAIAFhAWcAAAFhAWgAIQFhAWkAAwFhAWoAAAFhAWsAFwFhAWwACgFhAW0ABQFhAW4AAwFhAW8AAQFhAXAAFwFhAXEABgFhAXIAAAFhAXMAIgFhAXQACgFhAXUADQFhAXYAFgFhAXcAAgFhAXgAAwFhAXkAGAFhAXoAAgFhAUEAAQFhAUIAEQFhAUMAAQFhAUQAAAOiAqACAgMSBwcACRkDAAoRBgYKEwAPDxMBBiMTCgcHGgMUASQFJRQHAwMKCgMmAQYYDxobFAAKBw8KBwMDAgkCAAAFGwACBwIHBgIDAQMIDAABKAkHBQURACkZASoAAAIrLAIALQcHBy4HLwkFCgMCMA0xAgMJAgACAQYKAQIBBQEACQIFAQEABQAODQ0GFQIBHBUGAgkCEAAAAAUyDzMMBQYINAUCAwUODg41AgMCAgIDBgICNgIBDAwMAQsLCwsLCx0CAAIAAAABABABBQICAQMCEgMMCwEBAQEBAQsLAQICAwICAgICAgIDAgIICAEICAgEBAQEBAQEBAQABAQABAQEBAAE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GiABQQA2AvADIAFCADcC6AMgAigC7AMiAyACKALoAyIERwRAIAMgBGsiBEEASA0FIAEgBBAeIgM2AuwDIAEgAzYC6AMgASADIARqNgLwAyACKALoAyIEIAIoAuwDIghHBEADQCADIAQoAgA2AgAgA0EEaiEDIARBBGoiBCAIRw0ACwsgASADNgLsAwsgASACKQL0AzcC9AMgASACKAKEBDYChAQgASACKQL8AzcC/AMgAUEANgLkAwsgBSABNgIAIAEgADYC5AMLIAZBAWohBiAFQQRqIgUgB0cNAAsLDwsQAgALUAACQAJAAkACQAJAIAIOBAQAAQIDCyAAIAEgAUEwahBDDwsgACABIAFBMGogAxBEDwsgACABIAFBMGoQQg8LECQACyAAIAEgAUEwaiADEEULcAIBfwF9IwBBEGsiBCQAIARBCGogACABQQJ0QdwlaigCACACEDZDAADAfyEFAkACQAJAIAQtAAxBAWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwt5AgF/AX0jAEEQayIDJAAgA0EIaiAAIAFBAnRB7CVqKAIAIAIQU0MAAMB/IQQCQAJAAkAgAy0ADEEBaw4CAAECCyADKgIIIQQMAQsgAyoCCEMAAAAAlEMK1yM8lCEECyADQRBqJAAgBEMAAAAAl0MAAAAAIAQgBFsbC1QAAkACQAJAAkACQCACDgQEAAECAwsgACABIAFBwgBqEEMPCyAAIAEgAUHCAGogAxBEDwsgACABIAFBwgBqEEIPCxAkAAsgACABIAFBwgBqIAMQRQsvACAAIAJFQQF0IgIgASADEGAgACACIAEQS5IgACACIAEgAxB/IAAgAiABEFKSkgvOAQIDfwJ9IwBBEGsiAyQAQQEhBCADQQhqIABB/ABqIgUgACABQQF0akH2AGoiAS8BABAfAkACQCADKgIIIgcgAioCACIGXARAIAcgB1sEQCACLQAEIQIMAgsgBiAGXCEECyACLQAEIQIgBEUNACADLQAMIAJB/wFxRg0BCyAFIAEgBiACEDkDQCAALQAAIgFBBHENASAAIAFBBHI6AAAgACgCECIBBEAgACABEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQALCyADQRBqJAALzgECA38CfSMAQRBrIgMk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AWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwscACAAIAFBCCACpyACQiCIpyADpyADQiCIpxAVCwUAEFgACzkAIABFBEBBAA8LAn8gAUGAf3FBgL8DRiABQf8ATXJFBEBB/DtBGTYCAEF/DAELIAAgAToAAEEBCwvEAgACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABQQlrDhIACgsMCgsCAwQFDAsMDAoLBwgJCyACIAIoAgAiAUEEajYCACAAIAEoAgA2AgAPCwALIAIgAigCACIBQQRqNgIAIAAgATIBADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATMBADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATAAADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATEAADcDAA8LAAsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKwMAOQMADwsgACACIAMRAQALDwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMAC84BAgN/An0jAEEQayIDJABBASEEIANBCGogAEH8AGoiBSAAIAFBAXRqQegAaiIBLwEAEB8CQAJAIAMqAggiByACKgIAIgZcBEAgByAHWwRAIAItAAQhAgwCCyAGIAZcIQQLIAItAAQhAiAERQ0AIAMtAAwgAkH/AXFGDQELIAUgASAGIAIQOQNAIAAtAAAiAUEEcQ0BIAAgAUEEcjoAACAAKAIQIgEEQCAAIAERAAALIABBgICA/gc2ApwBIAAoAuQDIgANAAsLIANBEGokAAtdAQR/IAAoAgAhAgNAIAIsAAAiAxBXBEBBfyEEIAAgAkEBaiICNgIAIAFBzJmz5gBNBH9BfyADQTBrIgMgAUEKbCIEaiADIARB/////wdzShsFIAQLIQEMAQsLIAELrhQCEn8BfiMAQdAAayIIJAAgCCABNgJMIAhBN2ohFyAIQThqIRQCQAJAAkACQANAIAEhDSAHIA5B/////wdzSg0BIAcgDmohDgJAAkACQCANIgctAAAiCQRAA0ACQAJAIAlB/wFxIgFFBEAgByEBDAELIAFBJUcNASAHIQkDQCAJLQABQSVHBEAgCSEBDAILIAdBAWohByAJLQACIQogCUECaiIBIQkgCkElRg0ACwsgByANayIHIA5B/////wdzIhhKDQcgAARAIAAgDSAHECYLIAcNBiAIIAE2AkwgAUEBaiEHQX8hEgJAIAEsAAEiChBXRQ0AIAEtAAJBJEcNACABQQNqIQcgCkEwayESQQEhFQsgCCAHNgJMQQAhDAJAIAcsAAAiCUEgayIBQR9LBEAgByEKDAELIAchCkEBIAF0IgFBidEEcUUNAANAIAggB0EBaiIKNgJMIAEgDHIhDCAHLAABIglBIGsiAUEgTw0BIAohB0EBIAF0IgFBidEEcQ0ACwsCQCAJQSpGBEACfwJAIAosAAEiARBXRQ0AIAotAAJBJEcNACABQQJ0IARqQcABa0EKNgIAIApBA2ohCUEBIRUgCiwAAUEDdCADakGAA2soAgAMAQsgFQ0GIApBAWohCSAARQRAIAggCTYCTEEAIRVBACETDAMLIAIgAigCACIBQQRqNgIAQQAhFSABKAIACyETIAggCTYCTCATQQBODQFBACATayETIAxBgMAAciEMDAELIAhBzABqEIkBIhNBAEgNCCAIKAJMIQkLQQAhB0F/IQsCfyAJLQAAQS5HBEAgCSEBQQAMAQsgCS0AAUEqRgRAAn8CQCAJLAACIgEQV0UNACAJLQADQSRHDQAgAUECdCAEakHAAWtBCjYCACAJQQRqIQEgCSwAAkEDdCADakGAA2soAgAMAQsgFQ0GIAlBAmohAUEAIABFDQAaIAIgAigCACIKQQRqNgIAIAooAgALIQsgCCABNgJMIAtBf3NBH3YMAQsgCCAJQQFqNgJMIAhBzABqEIkBIQsgCCgCTCEBQQELIQ8DQCAHIRFBHCEKIAEiECwAACIHQfsAa0FGSQ0JIBBBAWohASAHIBFBOmxqQf8qai0AACIHQQFrQQhJDQALIAggATYCTAJAAkAgB0EbRwRAIAdFDQsgEkEATgRAIAQgEkECdGogBzYCACAIIAMgEkEDdGopAwA3A0AMAgsgAEUNCCAIQUBrIAcgAiAGEIcBDAILIBJBAE4NCgtBACEHIABFDQcLIAxB//97cSIJIAwgDEGAwABxGyEMQQAhEkGPCSEWIBQhCgJAAkACQAJ/AkACQAJAAkACfwJAAkACQAJAAkACQAJAIBAsAAAiB0FfcSAHIAdBD3FBA0YbIAcgERsiB0HYAGsOIQQUFBQUFBQUFA4UDwYODg4UBhQUFBQCBQMUFAkUARQUBAALAkAgB0HBAGsOBw4UCxQODg4ACyAHQdMARg0JDBMLIAgpA0AhGUGPCQwFC0EAIQcCQAJAAkACQAJAAkACQCARQf8BcQ4IAAECAwQaBQYaCyAIKAJAIA42AgAMGQsgCCgCQCAONgIADBgLIAgoAkAgDqw3AwAMFwsgCCgCQCAOOwEADBYLIAgoAkAgDjoAAAwVCyAIKAJAIA42AgAMFAsgCCgCQCAOrDcDAAwTC0EIIAsgC0EITRshCyAMQQhyIQxB+AAhBwsgFCENIAgpA0AiGVBFBEAgB0EgcSEQA0AgDUEBayINIBmnQQ9xQZAvai0AACAQcjoAACAZQg9WIQkgGUIEiCEZIAkNAAsLIAxBCHFFIAgpA0BQcg0DIAdBBHZBjwlqIRZBAiESDAMLIBQhByAIKQNAIhlQRQRAA0AgB0EBayIHIBmnQQdxQTByOgAAIBlCB1YhDSAZQgOIIRkgDQ0ACwsgByENIAxBCHFFDQIgCyAUIA1rIgdBAWogByALSBshCwwCCyAIKQNAIhlCAFMEQCAIQgAgGX0iGTcDQEEBIRJBjwkMAQsgDEGAEHEEQEEBIRJBkAkMAQtBkQlBjwkgDEEBcSISGwshFiAZIBQQRyENCyAPQQAgC0EASBsNDiAMQf//e3EgDCAPGyEMIAgpA0AiGUIAUiALckUEQCAUIQ1BACELDAwLIAsgGVAgFCANa2oiByAHIAtIGyELDAsLQQAhDAJ/Qf////8HIAsgC0H/////B08bIgoiEUEARyEQAkACfwJAAkAgCCgCQCIHQY4lIAcbIg0iD0EDcUUgEUVyDQADQCAPLQAAIgxFDQIgEUEBayIRQQBHIRAgD0EBaiIPQQNxRQ0BIBENAAsLIBBFDQICQCAPLQAARSARQQRJckUEQANAIA8oAgAiB0F/cyAHQYGChAhrcUGAgYKEeHENAiAPQQRqIQ8gEUEEayIRQQNLDQALCyARRQ0DC0EADAELQQELIRADQCAQRQRAIA8tAAAhDEEBIRAMAQsgDyAMRQ0CGiAPQQFqIQ8gEUEBayIRRQ0BQQAhEAwACwALQQALIgcgDWsgCiAHGyIHIA1qIQogC0EATgRAIAkhDCAHIQsMCwsgCSEMIAchCyAKLQAADQ0MCgsgCwRAIAgoAkAMAgtBACEHIABBICATQQAgDBApDAILIAhBADYCDCAIIAgpA0A+AgggCCAIQQhqIgc2AkBBfyELIAcLIQlBACEHAkADQCAJKAIAIg1FDQEgCEEEaiANEIYBIgpBAEgiDSAKIAsgB2tLckUEQCAJQQRqIQkgCyAHIApqIgdLDQEMAgsLIA0NDQtBPSEKIAdBAEgNCyAAQSAgEyAHIAwQKSAHRQRAQQAhBwwBC0EAIQogCCgCQCEJA0AgCSgCACINRQ0BIAhBBGogDRCGASINIApqIgogB0sNASAAIAhBBGogDRAmIAlBBGohCSAHIApLDQALCyAAQSAgEyAHIAxBgMAAcxApIBMgByAHIBNIGyEHDAgLIA9BACALQQBIGw0IQT0hCiAAIAgrA0AgEyALIAwgByAFERwAIgdBAE4NBwwJCyAIIAgpA0A8ADdBASELIBchDSAJIQwMBAsgBy0AASEJIAdBAWohBwwACwALIAANByAVRQ0CQQEhBwNAIAQgB0ECdGooAgAiAARAIAMgB0EDdGogACACIAYQhwFBASEOIAdBAWoiB0EKRw0BDAkLC0EBIQ4gB0EKTw0HA0AgBCAHQQJ0aigCAA0BIAdBAWoiB0EKRw0ACwwHC0EcIQoMBAsgCyAKIA1rIhAgCyAQShsiCSASQf////8Hc0oNAkE9IQogEyAJIBJqIgsgCyATSBsiByAYSg0DIABBICAHIAsgDBApIAAgFiASECYgAEEwIAcgCyAMQYCABHMQKSAAQTAgCSAQQQAQKSAAIA0gEBAmIABBICAHIAsgDEGAwABzECkMAQsLQQAhDgwDC0E9IQoLQfw7IAo2AgALQX8hDgsgCEHQAGokACAOC9kCAQR/IwBB0AFrIgUkACAFIAI2AswBIAVBoAFqIgJBAEEoECoaIAUgBSgCzAE2AsgBAkBBACABIAVByAFqIAVB0ABqIAIgAyAEEIoBQQBIBEBBfyEEDAELQQEgBiAAKAJMQQBOGyEGIAAoAgAhByAAKAJIQQBMBEAgACAHQV9xNgIACwJ/AkACQCAAKAIwRQRAIABB0AA2AjAgAEEANgIcIABCADcDECAAKAIsIQggACAFNgIsDAELIAAoAhANAQtBfyAAEJ0BDQEaCyAAIAEgBUHIAWogBUHQAGogBUGgAWogAyAEEIoBCyECIAgEQCAAQQBBACAAKAIkEQYAGiAAQQA2AjAgACAINgIsIABBADYCHCAAKAIUIQEgAEIANwMQIAJBfyABGyECCyAAIAAoAgAiACAHQSBxcjYCAEF/IAIgAEEgcRshBCAGRQ0ACyAFQdABaiQAIAQLfwIBfwF+IAC9IgNCNIinQf8PcSICQf8PRwR8IAJFBEAgASAARAAAAAAAAAAAYQR/QQAFIABEAAAAAAAA8EOiIAEQjAEhACABKAIAQUBqCzYCACAADwsgASACQf4HazYCACADQv////////+HgH+DQoCAgICAgIDwP4S/BSAACwsVACAARQRAQQAPC0H8OyAANgIAQX8LzgECA38CfSMAQRBrIgMkAEEBIQQgA0EIaiAAQfwAaiIFIAAgAUEBdGpBxABqIgEvAQAQHwJAAkAgAyoCCCIHIAIqAgAiBlwEQCAHIAdbBEAgAi0ABCECDAILIAYgBlwhBAsgAi0ABCECIARFDQAgAy0ADCACQf8BcUYNAQsgBSABIAYgAhA5A0AgAC0AACIBQQRxDQEgACABQQRyOgAAIAAoAhAiAQRAIAAgAREAAAsgAEGAgID+BzYCnAEgACgC5AMiAA0ACwsgA0EQaiQAC9EDAEHUO0GoHBAcQdU7QYoWQQFBAUEAEBtB1jtB/RJBAUGAf0H/ABAEQdc7QfYSQQFBgH9B/wAQBEHYO0H0EkEBQQBB/wEQBEHZO0GUCkECQYCAfkH//wEQBEHaO0GLCkECQQBB//8DEARB2ztBsQpBBEGAgICAeEH/////BxAEQdw7QagKQQRBAEF/EARB3TtB+BhBBEGAgICAeEH/////BxAEQd47Qe8YQQRBAEF/EARB3ztBjxBCgICAgICAgICAf0L///////////8AEIQBQeA7QY4QQgBCfxCEAUHhO0GIEEEEEA1B4jtB9BtBCBANQeM7QaQZEA5B5DtBmSIQDkHlO0EEQZcZEAhB5jtBAkGwGRAIQec7QQRBvxkQCEHoO0GPFhAaQek7QQBB1CEQAUHqO0EAQboiEAFB6ztBAUHyIRABQew7QQJB5B4QAUHtO0EDQYMfEAFB7jtBBEGrHxABQe87QQVByB8QAUHwO0EEQd8iEAFB8TtBBUH9IhABQeo7QQBBriAQAUHrO0EBQY0gEAFB7DtBAkHwIBABQe07QQNBziAQAUHuO0EEQbMhEAFB7ztBBUGRIRABQfI7QQZB7h8QAUHzO0EHQaQjEAELJQAgAEH0JjYCACAALQAEBEAgACgCCEH9DxBmCyAAKAIIEAYgAAsDAAALJQAgAEHsJzYCACAALQAEBEAgACgCCEH9DxBmCyAAKAIIEAYgAAs3AQJ/QQQQHiICIAE2AgBBBBAeIgMgATYCAEGjOyAAQeI7QfooQcEBIAJB4jtB/ihBwgEgAxAHCzcBAX8gASAAKAIEIgNBAXVqIQEgACgCACEAIAEgAiADQQFxBH8gASgCACAAaigCAAUgAAsRBQALOQEBfyABIAAoAgQiBEEBdWohASAAKAIAIQAgASACIAMgBEEBcQR/IAEoAgAgAGooAgAFIAALEQMACwkAIAEgABEAAAsHACAAEQ4ACzUBAX8gASAAKAIEIgJBAXVqIQEgACgCACEAIAEgAkEBcQR/IAEoAgAgAGooAgAFIAALEQAACzABAX8jAEEQayICJAAgAiABNgIIIAJBCGogABECACEAIAIoAggQBiACQRBqJAAgAAsMACABIAAoAgARAAALCQAgAEEBOgAEC9coAQJ/QaA7QaE7QaI7QQBBjCZBB0GPJkEAQY8mQQBB2RZBkSZBCBAFQQgQHiIAQoiAgIAQNwMAQaA7QZcbQQZBoCZBuCZBCSAAQQEQAEGkO0GlO0GmO0GgO0GMJkEKQYwmQQtBjCZBDEG4EUGRJkENEAVBBBAeIgBBDjYCAEGkO0HoFEECQcAmQcgmQQ8gAEEAEABBoDtBowxBAkHMJkHUJkEQQREQA0GgO0GAHEEDQaQnQbAnQRJBExADQbg7Qbk7Qbo7QQBBjCZBFEGPJkEAQY8mQQBB6RZBkSZBFRAFQQgQHiIAQoiAgIAQNwMAQbg7QegcQQJBuCdByCZBFiAAQQEQAEG7O0G8O0G9O0G4O0GMJkEXQYwmQRhBjCZBGUHPEUGRJkEaEAVBBBAeIgBBGzYCAEG7O0HoFEECQcAnQcgmQRwgAEEAEABBuDtBowxBAkHIJ0HUJkEdQR4QA0G4O0GAHEEDQaQnQbAnQRJBHxADQb47Qb87QcA7QQBBjCZBIEGPJkEAQY8mQQBB2hpBkSZBIRAFQb47QQFB+CdBjCZBIkEjEA9BvjtBkBtBAUH4J0GMJkEiQSMQA0G+O0HpCEECQfwnQcgmQSRBJRADQQgQHiIAQQA2AgQgAEEmNgIAQb47Qa0cQQRBkChBoChBJyAAQQAQAEEIEB4iAEEANgIEIABBKDYCAEG+O0GkEUEDQagoQbQoQSkgAEEAEABBCBAeIgBBADYCBCAAQSo2AgBBvjtByB1BA0G8KEHIKEErIABBABAAQQgQHiIAQQA2AgQgAEEsNgIAQb47QaYQQQNB0ChByChBLSAAQQAQAEEIEB4iAEEANgIEIABBLjYCAEG+O0HLHEEDQdwoQbAnQS8gAEEAEABBCBAeIgBBADYCBCAAQTA2AgBBvjtB0h1BAkHoKEHUJkExIABBABAAQQgQHiIAQQA2AgQgAEEyNgIAQb47QZcQQQJB8ChB1CZBMyAAQQAQAEHBO0GECkH4KEE0QZEmQTUQCkHiD0EAEEhB6g5BCBBIQYITQRAQSEHxFUEYEEhBgxdBIBBIQfAOQSgQSEHBOxAJQaM7Qf8aQfgoQTZBkSZBNxAKQYMXQQAQkwFB8A5BCBCTAUGjOxAJQcI7QYobQfgoQThBkSZBORAKQQQQHiIAQQg2AgBBBBAeIgFBCDYCAEHCO0GEG0HiO0H6KEE6IABB4jtB/ihBOyABEAdBBBAeIgBBADYCAEEEEB4iAUEANgIAQcI7QeUOQds7QdQmQTwgAEHbO0HIKEE9IAEQB0HCOxAJQcM7QcQ7QcU7QQBBjCZBPkGPJkEAQY8mQQBB+xtBkSZBPxAFQcM7QQFBhClBjCZBwABBwQAQD0HDO0HXDkEBQYQpQYwmQcAAQcEAEANBwztB0BpBAkGIKUHUJkHCAEHDABADQcM7QekIQQJBkClByCZBxABBxQAQA0EIEB4iAEEANgIEIABBxgA2AgBBwztB9w9BAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABByAA2AgBBwztB6htBA0GYKUHIKEHJACAAQQAQAEEIEB4iAEEANgIEIABBygA2AgBBwztBnxtBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABBzAA2AgBBwztB0BRBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABBzgA2AgBBwztBiA1BBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABBzwA2AgBBwztB3RNBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0AA2AgBBwztB+QtBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0QA2AgBBwztBuBBBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0gA2AgBBwztB5RpBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0wA2AgBBwztB/BRBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB1AA2AgBBwztBlRNBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB1QA2AgBBwztBtQpBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB1gA2AgBBwztBuBVBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB1wA2AgBBwztBmw1BBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB2AA2AgBBwztB7RNBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB2QA2AgBBwztBxAlBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB2gA2AgBBwztB8QhBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB2wA2AgBBwztBhwlBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB3QA2AgBBwztB1BBBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB3gA2AgBBwztB5gxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB3wA2AgBBwztBzBNBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABB4AA2AgBBwztBrAlBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB4QA2AgBBwztBnxZBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB4gA2AgBBwztBoRdBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB4wA2AgBBwztBvw1BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB5AA2AgBBwztB+xNBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABB5QA2AgBBwztBkQ9BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB5gA2AgBBwztBwQxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB5wA2AgBBwztBvhNBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABB6AA2AgBBwztBsxdBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB6QA2AgBBwztBzw1BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB6gA2AgBBwztBpQ9BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB6wA2AgBBwztB0gxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7AA2AgBBwztBiRdBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7QA2AgBBwztBrA1BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7gA2AgBBwztB9w5BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7wA2AgBBwztBrQxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB8AA2AgBBwztB/RhBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB8QA2AgBBwztBshRBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB8gA2AgBBwztBlBJBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB8wA2AgBBwztBzhlBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9AA2AgBBwztB4g1BBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9QA2AgBBwztBrRNBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9gA2AgBBwztB+gxBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9wA2AgBBwztBnhVBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB+AA2AgBBwztBrxtBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB+gA2AgBBwztB3BRBA0HcKUGwJ0H7ACAAQQAQAEEIEB4iAEEANgIEIABB/AA2AgBBwztBiQxBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB/QA2AgBBwztBxhBBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB/gA2AgBBwztB8hpBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB/wA2AgBBwztBjRVBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBgAE2AgBBwztBoRNBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBgQE2AgBBwztBxwpBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBggE2AgBBwztBwhVBA0HcKUGwJ0H7ACAAQQAQAEEIEB4iAEEANgIEIABBgwE2AgBBwztB4RBBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBhQE2AgBBwztBuAlBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBhwE2AgBBwztBrRZBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBiAE2AgBBwztBqhdBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBiQE2AgBBwztBmw9BAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBigE2AgBBwztBvxdBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBiwE2AgBBwztBsg9BAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBjAE2AgBBwztBlRdBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBjQE2AgBBwztBhA9BAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBjgE2AgBBwztBihlBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBjwE2AgBBwztBwRRBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBkAE2AgBBwztBnhJBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBkgE2AgBBwztB0AlBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBkwE2AgBBwztB/AhBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBlAE2AgBBwztB2RlBA0HcKUGwJ0H7ACAAQQAQAEEIEB4iAEEANgIEIABBlQE2AgBBwztBtBNBA0GMKkGYKkGWASAAQQAQAEEIEB4iAEEANgIEIABBlwE2AgBBwztBhxxBBEGgKkGgKEGYASAAQQAQAEEIEB4iAEEANgIEIABBmQE2AgBBwztBnBxBA0GwKkHIKEGaASAAQQAQAEEIEB4iAEEANgIEIABBmwE2AgBBwztBmgpBAkG8KkHUJkGcASAAQQAQAEEIEB4iAEEANgIEIABBnQE2AgBBwztBmQxBAkHEKkHUJkGeASAAQQAQAEEIEB4iAEEANgIEIABBnwE2AgBBwztBkxxBA0HMKkGwJ0GgASAAQQAQAEEIEB4iAEEANgIEIABBoQE2AgBBwztBuxZBA0HYKkHIKEGiASAAQQAQAEEIEB4iAEEANgIEIABBowE2AgBBwztBvxtBAkHkKkHUJkGkASAAQQAQAEEIEB4iAEEANgIEIABBpQE2AgBBwztB0xtBA0HYKkHIKEGiASAAQQAQAEEIEB4iAEEANgIEIABBpgE2AgBBwztBqB1BA0HsKkHIKEGnASAAQQAQAEEIEB4iAEEANgIEIABBqAE2AgBBwztBph1BAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBqQE2AgBBwztBuR1BA0H4KkHIKEGqASAAQQAQAEEIEB4iAEEANgIEIABBqwE2AgBBwztBtx1BAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBrAE2AgBBwztB3whBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBrQE2AgBBwztB1whBAkGEK0HUJkGuASAAQQAQAEEIEB4iAEEANgIEIABBrwE2AgBBwztB3hVBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBsAE2AgBBwztB3AlBAkGEK0HUJkGuASAAQQAQAEEIEB4iAEEANgIEIABBsQE2AgBBwztB6QlBBUGQK0GkK0GyASAAQQAQAEEIEB4iAEEANgIEIABBswE2AgBBwztB5w9BAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtAE2AgBBwztB0Q9BAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtQE2AgBBwztBhhNBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtgE2AgBBwztB+BVBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtwE2AgBBwztByxdBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBuAE2AgBBwztBvw9BAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBuQE2AgBBwztB+QlBAkGsK0HUJkG6ASAAQQAQAEEIEB4iAEEANgIEIABBuwE2AgBBwztBzBVBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBvAE2AgBBwztBqBJBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBvQE2AgBBwztB5BlBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBvgE2AgBBwztBqxVBAkHUKUHUJkH5ACAAQQAQAAtZAQF/IAAgACgCSCIBQQFrIAFyNgJIIAAoAgAiAUEIcQRAIAAgAUEgcjYCAEF/DwsgAEIANwIEIAAgACgCLCIBNgIcIAAgATYCFCAAIAEgACgCMGo2AhBBAAtHAAJAIAFBA00EfyAAIAFBAnRqQQRqBSABQQRrIgEgACgCGCIAKAIEIAAoAgAiAGtBAnVPDQEgACABQQJ0agsoAgAPCxACAAs4AQF/IAFBAEgEQBACAAsgAUEBa0EFdkEBaiIBQQJ0EB4hAiAAIAE2AgggAEEANgIEIAAgAjYCAAvSBQEJfyAAIAEvAQA7AQAgACABKQIENwIEIAAgASkCDDcCDCAAIAEoAhQ2AhQCQAJAIAEoAhgiA0UNAEEYEB4iBUEANgIIIAVCADcCACADKAIEIgEgAygCACICRwRAIAEgAmsiAkEASA0CIAUgAhAeIgE2AgAgBSABIAJqNgIIIAMoAgAiAiADKAIEIgZHBEADQCABIAIoAgA2AgAgAUEEaiEBIAJBBGoiAiAGRw0ACwsgBSABNgIECyAFQgA3AgwgBUEANgIUIAMoAhAiAUUNACAFQQxqIAEQnwEgAygCDCEGIAUgBSgCECIEIAMoAhAiAkEfcWogAkFgcWoiATYCEAJAAkAgBEUEQCABQQFrIQMMAQsgAUEBayIDIARBAWtzQSBJDQELIAUoAgwgA0EFdkEAIAFBIU8bQQJ0akEANgIACyAFKAIMIARBA3ZB/P///wFxaiEBIARBH3EiA0UEQCACQQBMDQEgAkEgbSEDIAJBH2pBP08EQCABIAYgA0ECdBAzGgsgAiADQQV0ayICQQBMDQEgASADQQJ0IgNqIgEgASgCAEF/QSAgAmt2IgFBf3NxIAMgBmooAgAgAXFyNgIADAELIAJBAEwNAEF/IAN0IQhBICADayEEIAJBIE4EQCAIQX9zIQkgASgCACEHA0AgASAHIAlxIAYoAgAiByADdHI2AgAgASABKAIEIAhxIAcgBHZyIgc2AgQgBkEEaiEGIAFBBGohASACQT9LIQogAkEgayECIAoNAAsgAkEATA0BCyABIAEoAgBBfyAEIAQgAiACIARKGyIEa3YgCHFBf3NxIAYoAgBBf0EgIAJrdnEiBiADdHI2AgAgAiAEayICQQBMDQAgASADIARqQQN2Qfz///8BcWoiASABKAIAQX9BICACa3ZBf3NxIAYgBHZyNgIACyAAKAIYIQEgACAFNgIYIAEEQCABEFsLDwsQAgALvQMBB38gAARAIwBBIGsiBiQAIAAoAgAiASgC5AMiAwRAIAMgARBvGiABQQA2AuQDCyABKALsAyICIAEoAugDIgNHBEBBASACIANrQQJ1IgIgAkEBTRshBEEAIQIDQCADIAJBAnRqKAIAQQA2AuQDIAJBAWoiAiAERw0ACwsgASADNgLsAwJAIAMgAUHwA2oiAigCAEYNACAGQQhqQQBBACACEEoiAigCBCABKALsAyABKALoAyIEayIFayIDIAQgBRAzIQUgASgC6AMhBCABIAU2AugDIAIgBDYCBCABKALsAyEFIAEgAigCCDYC7AMgAiAFNgIIIAEoAvADIQcgASACKAIMNgLwAyACIAQ2AgAgAiAHNgIMIAQgBUcEQCACIAUgBCAFa0EDakF8cWo2AggLIARFDQAgBBAnIAEoAugDIQMLIAMEQCABIAM2AuwDIAMQJwsgASgClAEhAyABQQA2ApQBIAMEQCADEFsLIAEQJyAAKAIIIQEgAEEANgIIIAEEQCABIAEoAgAoAgQRAAALIAAoAgQhASAAQQA2AgQgAQRAIAEgASgCACgCBBEAAAsgBkEgaiQAIAAQIwsLtQEBAX8jAEEQayICJAACfyABBEAgASgCACEBQYgEEB4gARBcIAENARogAkH3GTYCACACEHIQJAALQZQ7LQAARQRAQfg6QQM2AgBBiDtCgICAgICAgMA/NwIAQYA7QgA3AgBBlDtBAToAAEH8OkH8Oi0AAEH+AXE6AABB9DpBADYCAEGQO0EANgIAC0GIBBAeQfQ6EFwLIQEgAEIANwIEIAAgATYCACABIAA2AgQgAkEQaiQAIAALGwEBfyAABEAgACgCACIBBEAgARAjCyAAECMLC0kBAn9BBBAeIQFBIBAeIgBBADYCHCAAQoCAgICAgIDAPzcCFCAAQgA3AgwgAEEAOgAIIABBAzYCBCAAQQA2AgAgASAANgIAIAELIAAgAkEFR0EAIAIbRQRAQbgwIAMgBBBJDwsgAyAEEHALIgEBfiABIAKtIAOtQiCGhCAEIAARFQAiBUIgiKckASAFpwuoAQEFfyAAKAJUIgMoAgAhBSADKAIEIgQgACgCFCAAKAIcIgdrIgYgBCAGSRsiBgRAIAUgByAGECsaIAMgAygCACAGaiIFNgIAIAMgAygCBCAGayIENgIECyAEIAIgAiAESxsiBARAIAUgASAEECsaIAMgAygCACAEaiIFNgIAIAMgAygCBCAEazYCBAsgBUEAOgAAIAAgACgCLCIBNgIcIAAgATYCFCACCwQAQgALBABBAAuKBQIGfgJ/IAEgASgCAEEHakF4cSIBQRBqNgIAIAAhCSABKQMAIQMgASkDCCEGIwBBIGsiCCQAAkAgBkL///////////8AgyIEQoCAgICAgMCAPH0gBEKAgICAgIDA/8MAfVQEQCAGQgSGIANCPIiEIQQgA0L//////////w+DIgNCgYCAgICAgIAIWgRAIARCgYCAgICAgIDAAHwhAgwCCyAEQoCAgICAgICAQH0hAiADQoCAgICAgICACFINASACIARCAYN8IQIMAQsgA1AgBEKAgICAgIDA//8AVCAEQoCAgICAgMD//wBRG0UEQCAGQgSGIANCPIiEQv////////8Dg0KAgICAgICA/P8AhCECDAELQoCAgICAgID4/wAhAiAEQv///////7//wwBWDQBCACECIARCMIinIgBBkfcASQ0AIAMhAiAGQv///////z+DQoCAgICAgMAAhCIFIQcCQCAAQYH3AGsiAUHAAHEEQCACIAFBQGqthiEHQgAhAgwBCyABRQ0AIAcgAa0iBIYgAkHAACABa62IhCEHIAIgBIYhAgsgCCACNwMQIAggBzcDGAJAQYH4ACAAayIAQcAAcQRAIAUgAEFAaq2IIQNCACEFDAELIABFDQAgBUHAACAAa62GIAMgAK0iAoiEIQMgBSACiCEFCyAIIAM3AwAgCCAF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ASAAKAIAIQAgASACQQFxBH8gASgCACAAaigCAAUgAAsRCwALYQECfyMAQRBrIgIkACABIAAoAgQiA0EBdWohASAAKAIAIQAgAiABIANBAXEEfyABKAIAIABqKAIABSAACxEBAEEQEB4iACACKQMINwMIIAAgAikDADcDACACQRBqJAAgAAtjAQJ/IwBBEGsiAyQAIAEgACgCBCIEQQF1aiEBIAAoAgAhACADIAEgAiAEQQFxBH8gASgCACAAaigCAAUgAAsRAwBBEBAeIgAgAykDCDcDCCAAIAMpAwA3AwAgA0EQaiQAIAALNwEBfyABIAAoAgQiA0EBdWohASAAKAIAIQAgASACIANBAXEEfyABKAIAIABqKAIABSAACxEEAAs5AQF/IAEgACgCBCIEQQF1aiEBIAAoAgAhACABIAIgAyAEQQFxBH8gASgCACAAaigCAAUgAAsRCAALCQAgASAAEQIACwUAQcM7Cw8AIAEgACgCAGogAjYCAAsNACABIAAoAgBqKAIACxgBAX9BEBAeIgBCADcDCCAAQQA2AgAgAAsYAQF/QRAQHiIAQgA3AwAgAEIANwMIIAALDABBMBAeQQBBMBAqCzcBAX8gASAAKAIEIgNBAXVqIQEgACgCACEAIAEgAiADQQFxBH8gASgCACAAaigCAAUgAAsRHgALBQBBvjsLIQAgACABKAIAIAEgASwAC0EASBtBuzsgAigCABAQNgIACyoBAX9BDBAeIgFBADoABCABIAAoAgA2AgggAEEANgIAIAFB2Cc2AgAgAQsFAEG7OwsFAEG4OwshACAAIAEoAgAgASABLAALQQBIG0GkOyACKAIAEBA2AgAL2AEBBH8jAEEgayIDJAAgASgCACIEQfD///8HSQRAAkACQCAEQQtPBEAgBEEPckEBaiIFEB4hBiADIAVBgICAgHhyNgIQIAMgBjYCCCADIAQ2AgwgBCAGaiEFDAELIAMgBDoAEyADQQhqIgYgBGohBSAERQ0BCyAGIAFBBGogBBArGgsgBUEAOgAAIAMgAjYCACADQRhqIANBCGogAyAAEQMAIAMoAhgQHSADKAIYIgAQBiADKAIAEAYgAywAE0EASARAIAMoAggQIwsgA0EgaiQAIAAPCxACAAsqAQF/QQwQHiIBQQA6AAQgASAAKAIANgIIIABBADYCACABQeAmNgIA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AkEIaiAIIAYQHyACIAcgAC8AABAfQQEhAyACKgIIIgogAioCACILXAR/IAogClsNAyALIAtcBSADC0UNAiACLQAMIAItAARHDQILIABBAmohAEEBIQMgBCEGQQEhBCAGRQ0ACyABLwB6IgBBB3FFBEAgBS0AekEHcUUNAgsgCCAAECAiCiAHIAUvAHoQICILWw0BIAogClsNACALIAtcDQELIAFBFGogBUEUakHoABArGiABQfwAaiAFQfwAahCgAQNAIAEtAAAiAEEEcQ0BIAEgAEEEcjoAACABKAIQIgAEQCABIAARAAALIAFBgICA/gc2ApwBIAEoAuQDIgENAAsLIAJBEGokAAvGAwEEfyMAQaAEayICJAAgACgCBCEBIABBADYCBCABBEAgASABKAIAKAIEEQAACyAAKAIIIQEgAEEANgIIIAEEQCABIAEoAgAoAgQRAAALAkAgACgCACIAKALoAyAAKALsA0YEQCAAKALkAw0BIAAgAkEYaiAAKAL0AxBcIgEpAgA3AgAgACABKAIQNgIQIAAgASkCCDcCCCAAQRRqIAFBFGpB6AAQKxogACABKQKMATcCjAEgACABKQKEATcChAEgACABKQJ8NwJ8IAEoApQBIQQgAUEANgKUASAAKAKUASEDIAAgBDYClAEgAwRAIAMQWwsgAEGYAWogAUGYAWpB0AIQKxogACgC6AMiAwRAIAAgAzYC7AMgAxAjCyAAIAEoAugDNgLoAyAAIAEoAuwDNgLsAyAAIAEoAvADNgLwAyABQQA2AvADIAFCADcC6AMgACABKQL8AzcC/AMgACABKQL0AzcC9AMgACABKAKEBDYChAQgASgClAEhACABQQA2ApQBIAAEQCAAEFsLIAJBoARqJAAPCyACQfAcNgIQIABBBUHYJSACQRBqECwQJAALIAJB5hE2AgAgAEEFQdglIAIQLBAkAAsLAEEMEB4gABCiAQsLAEEMEB5BABCiAQsNACAAKAIALQAIQQFxCwoAIAAoAgAoAhQLGQAgAUH/AXEEQBACAAsgACgCACgCEEEBcQsYACAAKAIAIgAgAC0ACEH+AXEgAXI6AAgLJgAgASAAKAIAIgAoAhRHBEAgACABNgIUIAAgACgCDEEBajYCDAsLkgEBAn8jAEEQayICJAAgACgCACEAIAFDAAAAAGAEQCABIAAqAhhcBEAgACABOAIYIAAgACgCDEEBajYCDAsgAkEQaiQADwsgAkGIFDYCACMAQRBrIgMkACADIAI2AgwCQCAARQRAQbgwQdglIAIQSRoMAQsgAEEAQQVB2CUgAiAAKAIEEQ0AGgsgA0EQaiQAECQACz8AIAFB/wFxRQRAIAIgACgCACIAKAIQIgFBAXFHBEAgACABQX5xIAJyNgIQIAAgACgCDEEBajYCDAsPCxACAAsL4CYjAEGACAuBHk9ubHkgbGVhZiBub2RlcyB3aXRoIGN1c3RvbSBtZWFzdXJlIGZ1bmN0aW9ucyBzaG91bGQgbWFudWFsbHkgbWFyayB0aGVtc2VsdmVzIGFzIGRpcnR5AGlzRGlydHkAbWFya0RpcnR5AGRlc3Ryb3kAc2V0RGlzcGxheQBnZXREaXNwbGF5AHNldEZsZXgALSsgICAwWDB4AC0wWCswWCAwWC0weCsweCAweABzZXRGbGV4R3JvdwBnZXRGbGV4R3JvdwBzZXRPdmVyZmxvdwBnZXRPdmVyZmxvdwBoYXNOZXdMYXlvdXQAY2FsY3VsYXRlTGF5b3V0AGdldENvbXB1dGVkTGF5b3V0AHVuc2lnbmVkIHNob3J0AGdldENoaWxkQ291bnQAdW5zaWduZWQgaW50AHNldEp1c3RpZnlDb250ZW50AGdldEp1c3RpZnlDb250ZW50AGF2YWlsYWJsZUhlaWdodCBpcyBpbmRlZmluaXRlIHNvIGhlaWdodFNpemluZ01vZGUgbXVzdCBiZSBTaXppbmdNb2RlOjpNYXhDb250ZW50AGF2YWlsYWJsZVdpZHRoIGlzIGluZGVmaW5pdGUgc28gd2lkdGhTaXppbmdNb2RlIG11c3QgYmUgU2l6aW5nTW9kZTo6TWF4Q29udGVudABzZXRBbGlnbkNvbnRlbnQAZ2V0QWxpZ25Db250ZW50AGdldFBhcmVudABpbXBsZW1lbnQAc2V0TWF4SGVpZ2h0UGVyY2VudABzZXRIZWlnaHRQZXJjZW50AHNldE1pbkhlaWdodFBlcmNlbnQAc2V0RmxleEJhc2lzUGVyY2VudABzZXRHYXBQZXJjZW50AHNldFBvc2l0aW9uUGVyY2VudABzZXRNYXJnaW5QZXJjZW50AHNldE1heFdpZHRoUGVyY2VudABzZXRXaWR0aFBlcmNlbnQAc2V0TWluV2lkdGhQZXJjZW50AHNldFBhZGRpbmdQZXJjZW50AGhhbmRsZS50eXBlKCkgPT0gU3R5bGVWYWx1ZUhhbmRsZTo6VHlwZTo6UG9pbnQgfHwgaGFuZGxlLnR5cGUoKSA9PSBTdHlsZVZhbHVlSGFuZGxlOjpUeXBlOjpQZXJjZW50AGNyZWF0ZURlZmF1bHQAdW5pdAByaWdodABoZWlnaHQAc2V0TWF4SGVpZ2h0AGdldE1heEhlaWdodABzZXRIZWlnaHQAZ2V0SGVpZ2h0AHNldE1pbkhlaWdodABnZXRNaW5IZWlnaHQAZ2V0Q29tcHV0ZWRIZWlnaHQAZ2V0Q29tcHV0ZWRSaWdodABsZWZ0AGdldENvbXB1dGVkTGVmdAByZXNldABfX2Rlc3RydWN0AGZsb2F0AHVpbnQ2NF90AHVzZVdlYkRlZmF1bHRzAHNldFVzZVdlYkRlZmF1bHRzAHNldEFsaWduSXRlbXMAZ2V0QWxpZ25JdGVtcwBzZXRGbGV4QmFzaXMAZ2V0RmxleEJhc2lzAENhbm5vdCBnZXQgbGF5b3V0IHByb3BlcnRpZXMgb2YgbXVsdGktZWRnZSBzaG9ydGhhbmRzAHNldFBvaW50U2NhbGVGYWN0b3IATWVhc3VyZUNhbGxiYWNrV3JhcHBlcgBEaXJ0aWVkQ2FsbGJhY2tXcmFwcGVyAENhbm5vdCByZXNldCBhIG5vZGUgc3RpbGwgYXR0YWNoZWQgdG8gYSBvd25lcgBzZXRCb3JkZXIAZ2V0Qm9yZGVyAGdldENvbXB1dGVkQm9yZGVyAGdldE51bWJlcgBoYW5kbGUudHlwZSgpID09IFN0eWxlVmFsdWVIYW5kbGU6OlR5cGU6Ok51bWJlcgB1bnNpZ25lZCBjaGFyAHRvcABnZXRDb21wdXRlZFRvcABzZXRGbGV4V3JhcABnZXRGbGV4V3JhcABzZXRHYXAAZ2V0R2FwACVwAHNldEhlaWdodEF1dG8Ac2V0RmxleEJhc2lzQXV0bwBzZXRQb3NpdGlvbkF1dG8Ac2V0TWFyZ2luQXV0bwBzZXRXaWR0aEF1dG8AU2NhbGUgZmFjdG9yIHNob3VsZCBub3QgYmUgbGVzcyB0aGFuIHplcm8Ac2V0QXNwZWN0UmF0aW8AZ2V0QXNwZWN0UmF0aW8Ac2V0UG9zaXRpb24AZ2V0UG9zaXRpb24Abm90aWZ5T25EZXN0cnVjdGlvbgBzZXRGbGV4RGlyZWN0aW9uAGdldEZsZXhEaXJlY3Rpb24Ac2V0RGlyZWN0aW9uAGdldERpcmVjdGlvbgBzZXRNYXJnaW4AZ2V0TWFyZ2luAGdldENvbXB1dGVkTWFyZ2luAG1hcmtMYXlvdXRTZWVuAG5hbgBib3R0b20AZ2V0Q29tcHV0ZWRCb3R0b20AYm9vbABlbXNjcmlwdGVuOjp2YWwAc2V0RmxleFNocmluawBnZXRGbGV4U2hyaW5rAHNldEFsd2F5c0Zvcm1zQ29udGFpbmluZ0Jsb2NrAE1lYXN1cmVDYWxsYmFjawBEaXJ0aWVkQ2FsbGJhY2sAZ2V0TGVuZ3RoAHdpZHRoAHNldE1heFdpZHRoAGdldE1heFdpZHRoAHNldFdpZHRoAGdldFdpZHRoAHNldE1pbldpZHRoAGdldE1pbldpZHRoAGdldENvbXB1dGVkV2lkdGgAcHVzaAAvaG9tZS9ydW5uZXIvd29yay95b2dhL3lvZ2EvamF2YXNjcmlwdC8uLi95b2dhL3N0eWxlL1NtYWxsVmFsdWVCdWZmZXIuaAAvaG9tZS9ydW5uZXIvd29yay95b2dhL3lvZ2EvamF2YXNjcmlwdC8uLi95b2dhL3N0eWxlL1N0eWxlVmFsdWVQb29sLmgAdW5zaWduZWQgbG9uZwBzZXRCb3hTaXppbmcAZ2V0Qm94U2l6aW5nAHN0ZDo6d3N0cmluZwBzdGQ6OnN0cmluZwBzdGQ6OnUxNnN0cmluZwBzdGQ6OnUzMnN0cmluZwBzZXRQYWRkaW5nAGdldFBhZGRpbmcAZ2V0Q29tcHV0ZWRQYWRkaW5nAFRyaWVkIHRvIGNvbnN0cnVjdCBZR05vZGUgd2l0aCBudWxsIGNvbmZpZwBBdHRlbXB0aW5nIHRvIGNvbnN0cnVjdCBOb2RlIHdpdGggbnVsbCBjb25maWcAY3JlYXRlV2l0aENvbmZpZwBpbmYAc2V0QWxpZ25TZWxmAGdldEFsaWduU2VsZgBTaXplAHZhbHVlAFZhbHVlAGNyZWF0ZQBtZWFzdXJlAHNldFBvc2l0aW9uVHlwZQBnZXRQb3NpdGlvblR5cGUAaXNSZWZlcmVuY2VCYXNlbGluZQBzZXRJc1JlZmVyZW5jZUJhc2VsaW5lAGNvcHlTdHlsZQBkb3VibGUATm9kZQBleHRlbmQAaW5zZXJ0Q2hpbGQAZ2V0Q2hpbGQAcmVtb3ZlQ2hpbGQAdm9pZABzZXRFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZABpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkAGRpcnRpZWQAQ2Fubm90IHJlc2V0IGEgbm9kZSB3aGljaCBzdGlsbCBoYXMgY2hpbGRyZW4gYXR0YWNoZWQAdW5zZXRNZWFzdXJlRnVuYwB1bnNldERpcnRpZWRGdW5jAHNldEVycmF0YQBnZXRFcnJhdGEATWVhc3VyZSBmdW5jdGlvbiByZXR1cm5lZCBhbiBpbnZhbGlkIGRpbWVuc2lvbiB0byBZb2dhOiBbd2lkdGg9JWYsIGhlaWdodD0lZl0ARXhwZWN0IGN1c3RvbSBiYXNlbGluZSBmdW5jdGlvbiB0byBub3QgcmV0dXJuIE5hTgBOQU4ASU5GAGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGZsb2F0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8Y2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgY2hhcj4Ac3RkOjpiYXNpY19zdHJpbmc8dW5zaWduZWQgY2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8c2lnbmVk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

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stderr | src/ui/auth/useAuth.test.tsx > useAuth > useAuthCommand > should initialize with Unauthenticated state
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/auth/useAuth.test.tsx > useAuth > useAuthCommand > should initialize with Unauthenticated state
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/auth/useAuth.test.tsx > useAuth > useAuthCommand > should set error if no auth type is selected and no env key
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stdout | src/ui/auth/useAuth.test.tsx > useAuth > useAuthCommand > should authenticate if USE_GEMINI and key is found
Authenticated via "gemini-api-key".

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to ForwardRef(ScrollableList) inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/components/shared/ScrollableList.test.tsx (3 tests) 1092ms
   âœ“ ScrollableList Demo Behavior > Keyboard Navigation > should handle scroll keys correctly  837ms
stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to ForwardRef(ScrollableList) inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stdout | src/ui/auth/useAuth.test.tsx > useAuth > useAuthCommand > should authenticate if USE_GEMINI and env key is found
Authenticated via "gemini-api-key".
Authenticated via "gemini-api-key".

stdout | src/ui/auth/useAuth.test.tsx > useAuth > useAuthCommand > should prioritize env key over stored key when both are present
Authenticated via "gemini-api-key".
Authenticated via "gemini-api-key".

stderr | src/ui/hooks/useGeminiStream.test.tsx > useGeminiStream > should submit tool responses when all tool calls are completed and ready
Error recording completed tool call information: TypeError: config.getGeminiClient(...).getCurrentSequenceModel is not a function

stderr | src/ui/hooks/useGeminiStream.test.tsx > useGeminiStream > should handle all tool calls being cancelled
Error recording completed tool call information: TypeError: config.getGeminiClient(...).getCurrentSequenceModel is not a function

stderr | src/ui/hooks/useGeminiStream.test.tsx > useGeminiStream > should stop agent execution immediately when a tool call returns STOP_EXECUTION error
Error recording completed tool call information: TypeError: config.getGeminiClient(...).getCurrentSequenceModel is not a function

stderr | src/ui/hooks/useGeminiStream.test.tsx > useGeminiStream > should group multiple cancelled tool call responses into a single history entry
Error recording completed tool call information: TypeError: config.getGeminiClient(...).getCurrentSequenceModel is not a function

stderr | src/ui/hooks/useGeminiStream.test.tsx > useGeminiStream > should not flicker streaming state to Idle between tool completion and submission
Error recording completed tool call information: TypeError: config.getGeminiClient(...).getCurrentSequenceModel is not a function

stdout | src/ui/auth/useAuth.test.tsx > useAuth > useAuthCommand > should authenticate successfully for valid auth type
Authenticated via "gemini-api-key".

(node:74798) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 retry-attempt listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
stderr | src/ui/hooks/useGeminiStream.test.tsx > useGeminiStream > Memory Refresh on save_memory > should call performMemoryRefresh when a save_memory tool call completes successfully
Error recording completed tool call information: TypeError: config.getGeminiClient(...).getCurrentSequenceModel is not a function

stdout | src/ui/auth/useAuth.test.tsx > useAuth > useAuthCommand > should sync OpenAI config checks for OpenAI auth type
Authenticated via "openai".

 âœ“ src/services/BuiltinCommandLoader.test.ts (13 tests) 368ms
stderr | src/ui/components/RewindViewer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/auth/useAuth.test.tsx (16 tests) 432ms
 âœ“ src/ui/hooks/useExtensionUpdates.test.tsx (4 tests) 238ms
 âœ“ src/ui/components/RewindViewer.test.tsx (12 tests) 418ms
stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/config/config.integration.test.ts (14 tests) 1731ms
   âœ“ Configuration Integration Tests > Approval Mode Integration Tests > 'should parse --approval-mode=auto_ediâ€¦'  1667ms
(node:74821) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 model-changed listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
stderr | src/ui/hooks/useGeminiStream.test.tsx > useGeminiStream > should flush pending text rationale before scheduling tool calls to ensure correct history order
Error recording completed tool call information: TypeError: config.getGeminiClient(...).getCurrentSequenceModel is not a function

 âœ“ src/nonInteractiveCli.test.ts (42 tests) 491ms
   âœ“ runNonInteractive > should handle cancellation (Ctrl+C)  408ms
stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Basic Rendering > renders with startup warnings
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Basic Rendering > renders with startup warnings
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > State Initialization > initializes with theme error from initialization result
[SessionSummary] No chats directory found

 âœ“ src/codefly_cleanup.test.tsx (1 test) 512ms
   âœ“ codefly.tsx main function cleanup > should log error when cleanupExpiredSessions fails  511ms
stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Context Providers > provides AppContext with correct values
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Context Providers > provides UIStateContext with state management
[SessionSummary] No chats directory found

 âœ“ src/ui/components/ThemeDialog.test.tsx (9 tests) 749ms
   âœ“ ThemeDialog Snapshots > should render correctly in theme selection mode  316ms
stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Context Providers > provides ConfigContext with config object
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Settings Integration > handles settings with all display options disabled
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Settings Integration > handles settings with all display options disabled
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Settings Integration > handles settings with memory usage enabled
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Version Handling > handles version format: 1.0.0
[SessionSummary] No chats directory found

stdout | src/ui/commands/setupGithubCommand.test.ts > setupGithubCommand > throws an error when download fails
Failed to download required setup files:  Error: Invalid response code downloading https://raw.githubusercontent.com/google-github-actions/run-gemini-cli/refs/tags/v1.2.3/examples/workflows/gemini-dispatch/gemini-dispatch.yml: 404 - Not Found
    at [90m/Users/robinx/code/codefly-cli/packages/cli/[39msrc/ui/commands/setupGithubCommand.ts:131:17
    at async Promise.all (index 0)
    at downloadFiles [90m(/Users/robinx/code/codefly-cli/packages/cli/[39msrc/ui/commands/setupGithubCommand.ts:158:3[90m)[39m
    at async Promise.all (index 0)
    at downloadSetupFiles [90m(/Users/robinx/code/codefly-cli/packages/cli/[39msrc/ui/commands/setupGithubCommand.ts:184:5[90m)[39m
    at Object.action [90m(/Users/robinx/code/codefly-cli/packages/cli/[39msrc/ui/commands/setupGithubCommand.ts:240:5[90m)[39m
    at [90m/Users/robinx/code/codefly-cli/packages/cli/[39msrc/ui/commands/setupGithubCommand.test.ts:216:5
    at file:///Users/robinx/code/codefly-cli/node_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:752:20

(node:74817) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 model-changed listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
stdout | src/ui/commands/setupGithubCommand.test.ts > updateGitignore > handles file system errors gracefully
Failed to update .gitignore: Error: ENOENT: no such file or directory, open '/var/folders/gg/kcq66g8s00q1cckyxtqfr0pr0000gn/T/update-gitignore-GmCcmg/non-existent/.gitignore'
[90m    at open (node:internal/fs/promises:642:25)[39m
[90m    at Object.writeFile (node:internal/fs/promises:1249:14)[39m
    at Module.updateGitignore [90m(/Users/robinx/code/codefly-cli/packages/cli/[39msrc/ui/commands/setupGithubCommand.ts:82:7[90m)[39m
    at [90m/Users/robinx/code/codefly-cli/packages/cli/[39msrc/ui/commands/setupGithubCommand.test.ts:319:5
    at file:///Users/robinx/code/codefly-cli/node_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:752:20 {
  errno: [33m-2[39m,
  code: [32m'ENOENT'[39m,
  syscall: [32m'open'[39m,
  path: [32m'/var/folders/gg/kcq66g8s00q1cckyxtqfr0pr0000gn/T/update-gitignore-GmCcmg/non-existent/.gitignore'[39m
}

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Version Handling > handles version format: 2.1.3-beta
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Version Handling > handles version format: 3.0.0-nightly
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Session Resumption > handles resumed session data correctly
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Session Resumption > handles resumed session data correctly
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Session Resumption > handles resumed session data correctly
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Session Resumption > renders without resumed session data
[SessionSummary] No chats directory found

 â¯ src/ui/hooks/useGeminiStream.test.tsx (64 tests | 2 failed) 1357ms
   âœ“ useGeminiStream > should not submit tool responses if not all tool calls are completed 10ms
   âœ“ useGeminiStream > should submit tool responses when all tool calls are completed and ready 42ms
   âœ“ useGeminiStream > should handle all tool calls being cancelled 1ms
   âœ“ useGeminiStream > should stop agent execution immediately when a tool call returns STOP_EXECUTION error 2ms
   âœ“ useGeminiStream > should group multiple cancelled tool call responses into a single history entry 2ms
   âœ“ useGeminiStream > should not flicker streaming state to Idle between tool completion and submission 4ms
   âœ“ useGeminiStream > User Cancellation > should cancel an in-progress stream when escape is pressed 5ms
   âœ“ useGeminiStream > User Cancellation > should call onCancelSubmit handler when escape is pressed 3ms
   âœ“ useGeminiStream > User Cancellation > should call setShellInputFocused(false) when escape is pressed 3ms
   âœ“ useGeminiStream > User Cancellation > should not do anything if escape is pressed when not responding 1ms
   âœ“ useGeminiStream > User Cancellation > should prevent further processing after cancellation 58ms
   âœ“ useGeminiStream > User Cancellation > should cancel if a tool call is in progress 4ms
   âœ“ useGeminiStream > User Cancellation > should cancel a request when a tool is awaiting confirmation 1ms
   âœ“ useGeminiStream > Retry Handling > should update retryStatus when CoreEvent.RetryAttempt is emitted 2ms
   âœ“ useGeminiStream > Retry Handling > should reset retryStatus when isResponding becomes false 4ms
   âœ“ useGeminiStream > Slash Command Handling > should schedule a tool call when the command processor returns a schedule_tool action 2ms
   âœ“ useGeminiStream > Slash Command Handling > should stop processing and not call Gemini when a command is handled without a tool call 1ms
   âœ“ useGeminiStream > Slash Command Handling > should call Gemini with prompt content when slash command returns a `submit_prompt` action 1ms
   âœ“ useGeminiStream > Slash Command Handling > should correctly handle a submit_prompt action with empty content 2ms
   âœ“ useGeminiStream > Slash Command Handling > should not call handleSlashCommand for line comments 1ms
   âœ“ useGeminiStream > Slash Command Handling > should not call handleSlashCommand for block comments 1ms
   âœ“ useGeminiStream > Slash Command Handling > should not call handleSlashCommand is shell mode is active 2ms
   âœ“ useGeminiStream > Memory Refresh on save_memory > should call performMemoryRefresh when a save_memory tool call completes successfully 5ms
   Ã— useGeminiStream > Error Handling > should call parseAndFormatApiError with the correct authType on stream initialization failure 1046ms
     â†’ expected "spy" to be called with arguments: [ 'Rate limit exceeded', â€¦(4) ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    "Rate limit exceeded",[22m
[2m    "oauth-personal",[22m
[32m-   undefined,[90m
[2m    "gemini-2.5-pro",[22m
[32m-   "gemini-2.5-flash",[90m
[31m+   "gemini-3-flash-preview",[90m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
   âœ“ useGeminiStream > handleApprovalModeChange > should auto-approve all pending tool calls when switching to YOLO mode 2ms
   âœ“ useGeminiStream > handleApprovalModeChange > should only auto-approve edit tools when switching to AUTO_EDIT mode 1ms
   âœ“ useGeminiStream > handleApprovalModeChange > should not auto-approve any tools when switching to REQUIRE_CONFIRMATION mode 1ms
   âœ“ useGeminiStream > handleApprovalModeChange > should handle errors gracefully when auto-approving tool calls 1ms
   âœ“ useGeminiStream > handleApprovalModeChange > should skip tool calls without confirmationDetails 1ms
   âœ“ useGeminiStream > handleApprovalModeChange > should skip tool calls without onConfirm method in confirmationDetails 1ms
   âœ“ useGeminiStream > handleApprovalModeChange > should only process tool calls with awaiting_approval status 1ms
   âœ“ useGeminiStream > handleFinishedEvent > should add info message for MAX_TOKENS finish reason 2ms
   âœ“ useGeminiStream > handleFinishedEvent > ContextWindowWillOverflow event > should add message 'without suggestion when remaining tokâ€¦' 2ms
   âœ“ useGeminiStream > handleFinishedEvent > ContextWindowWillOverflow event > should add message 'with suggestion when remaining tokensâ€¦' 1ms
   âœ“ useGeminiStream > handleFinishedEvent > should call onCancelSubmit when ContextWindowWillOverflow event is received 1ms
   âœ“ useGeminiStream > handleFinishedEvent > should handle 'STOP' finish reason correctly 6ms
   âœ“ useGeminiStream > handleFinishedEvent > should handle 'FINISH_REASON_UNSPECIFIED' finish reason correctly 2ms
   âœ“ useGeminiStream > handleFinishedEvent > should handle 'SAFETY' finish reason correctly 3ms
   âœ“ useGeminiStream > handleFinishedEvent > should handle 'RECITATION' finish reason correctly 3ms
   âœ“ useGeminiStream > handleFinishedEvent > should handle 'LANGUAGE' finish reason correctly 8ms
   âœ“ useGeminiStream > handleFinishedEvent > should handle 'BLOCKLIST' finish reason correctly 3ms
   âœ“ useGeminiStream > handleFinishedEvent > should handle 'PROHIBITED_CONTENT' finish reason correctly 2ms
   âœ“ useGeminiStream > handleFinishedEvent > should handle 'SPII' finish reason correctly 2ms
   âœ“ useGeminiStream > handleFinishedEvent > should handle 'OTHER' finish reason correctly 3ms
   âœ“ useGeminiStream > handleFinishedEvent > should handle 'MALFORMED_FUNCTION_CALL' finish reason correctly 3ms
   âœ“ useGeminiStream > handleFinishedEvent > should handle 'IMAGE_SAFETY' finish reason correctly 3ms
   âœ“ useGeminiStream > handleFinishedEvent > should handle 'UNEXPECTED_TOOL_CALL' finish reason correctly 4ms
   âœ“ useGeminiStream > should flush pending text rationale before scheduling tool calls to ensure correct history order 4ms
   âœ“ useGeminiStream > should process @include commands, adding user turn after processing to prevent race conditions 4ms
   âœ“ useGeminiStream > should display user query, then tool execution, then model response 4ms
   âœ“ useGeminiStream > Thought Reset > should reset thought to null when starting a new prompt 4ms
   âœ“ useGeminiStream > Thought Reset > should memoize pendingHistoryItems 3ms
   âœ“ useGeminiStream > Thought Reset > should reset thought to null when user cancels 3ms
   Ã— useGeminiStream > Thought Reset > should reset thought to null when there is an error 3ms
     â†’ expected "spy" to be called with arguments: [ { message: 'Test error' }, â€¦(4) ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    {[22m
[2m      "message": "Test error",[22m
[2m    },[22m
[32m-   Any<String>,[90m
[32m-   undefined,[90m
[31m+   "gemini-api-key",[90m
[2m    "gemini-2.5-pro",[22m
[32m-   "gemini-2.5-flash",[90m
[31m+   "gemini-3-flash-preview",[90m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
   âœ“ useGeminiStream > Thought Reset > should update lastOutputTime on Gemini thought and content events 5ms
   âœ“ useGeminiStream > Loop Detection Confirmation > should set loopDetectionConfirmationRequest when LoopDetected event is received 3ms
   âœ“ useGeminiStream > Loop Detection Confirmation > should disable loop detection and show message when user selects "disable" 8ms
   âœ“ useGeminiStream > Loop Detection Confirmation > should keep loop detection enabled and show message when user selects "keep" 21ms
   âœ“ useGeminiStream > Loop Detection Confirmation > should handle multiple loop detection events properly 12ms
   âœ“ useGeminiStream > Loop Detection Confirmation > should process LoopDetected event after moving pending history to history 3ms
   âœ“ useGeminiStream > Agent Execution Events > should handle AgentExecutionStopped event with systemMessage 4ms
   âœ“ useGeminiStream > Agent Execution Events > should handle AgentExecutionStopped event by falling back to reason when systemMessage is missing 4ms
   âœ“ useGeminiStream > Agent Execution Events > should handle AgentExecutionBlocked event with systemMessage 6ms
   âœ“ useGeminiStream > Agent Execution Events > should handle AgentExecutionBlocked event by falling back to reason when systemMessage is missing 5ms
 âœ“ src/ui/commands/setupGithubCommand.test.ts (10 tests) 174ms
stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Quota and Fallback Integration > passes a null proQuotaRequest to UIStateContext by default
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Quota and Fallback Integration > passes a valid proQuotaRequest to UIStateContext when provided by the hook
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Quota and Fallback Integration > passes the handleProQuotaChoice function to UIActionsContext
[SessionSummary] No chats directory found

 â¯ src/ui/components/FolderTrustDialog.test.tsx (9 tests | 1 failed) 306ms
   âœ“ FolderTrustDialog > should render the dialog with title and description 143ms
   âœ“ FolderTrustDialog > should display exit message and call process.exit and not call onSelect when escape is pressed 118ms
   Ã— FolderTrustDialog > should display restart message when isRestarting is true 12ms
     â†’ expected ' â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¦' to contain 'Gemini CLI is restarting'
   âœ“ FolderTrustDialog > should call relaunchApp when isRestarting is true 8ms
   âœ“ FolderTrustDialog > should not call relaunchApp if unmounted before timeout 7ms
   âœ“ FolderTrustDialog > should not call process.exit when "r" is pressed and isRestarting is false 5ms
   âœ“ FolderTrustDialog > directory display > should correctly display the folder name for a nested directory 4ms
   âœ“ FolderTrustDialog > directory display > should correctly display the parent folder name for a nested directory 5ms
   âœ“ FolderTrustDialog > directory display > should correctly display an empty parent folder name for a directory directly under root 4ms
stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Terminal Title Update Feature > Shell Focus Action Required > should show Action Required in title after a delay when shell is awaiting focus
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Terminal Title Update Feature > Shell Focus Action Required > should show Action Required in title after a delay when shell is awaiting focus
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Terminal Title Update Feature > Shell Focus Action Required > should show Action Required in title after a delay when shell is awaiting focus
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Terminal Title Update Feature > Shell Focus Action Required > should show Action Required in title after a delay when shell is awaiting focus
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Terminal Title Update Feature > Shell Focus Action Required > should show Action Required in title after a delay when shell is awaiting focus
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Terminal Title Update Feature > Shell Focus Action Required > should show Action Required in title after a delay when shell is awaiting focus
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Terminal Title Update Feature > Shell Focus Action Required > should show Action Required in title after a delay when shell is awaiting focus
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Terminal Title Update Feature > Shell Focus Action Required > should show Workingâ€¦ in title for redirected commands after 2 mins
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Terminal Title Update Feature > Shell Focus Action Required > should show Workingâ€¦ in title for silent non-redirected commands after 1 min
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Terminal Title Update Feature > Shell Focus Action Required > should NOT show Action Required in title if shell is streaming output
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Queue Error Message > should set and clear the queue error message after a timeout
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Queue Error Message > should set and clear the queue error message after a timeout
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Queue Error Message > should set and clear the queue error message after a timeout
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Queue Error Message > should set and clear the queue error message after a timeout
[SessionSummary] No chats directory found

 â¯ src/config/extension.test.ts (76 tests | 2 failed) 1179ms
   âœ“ extension tests > loadExtensions > should include extension path in loaded extension 16ms
   Ã— extension tests > loadExtensions > should load context file path when GEMINI.md is present 25ms
     â†’ expected [] to deeply equal [ Array(1) ]
   âœ“ extension tests > loadExtensions > should load context file path from the extension config 3ms
   âœ“ extension tests > loadExtensions > should annotate disabled extensions 8ms
   âœ“ extension tests > loadExtensions > should hydrate variables 9ms
   âœ“ extension tests > loadExtensions > should load a linked extension correctly 9ms
   âœ“ extension tests > loadExtensions > should hydrate ${extensionPath} correctly for linked extensions 56ms
   âœ“ extension tests > loadExtensions > should resolve environment variables in extension configuration 3ms
   âœ“ extension tests > loadExtensions > should resolve environment variables from an extension .env file 23ms
   âœ“ extension tests > loadExtensions > should handle missing environment variables gracefully 15ms
   âœ“ extension tests > loadExtensions > should skip extensions with invalid JSON and log a warning 8ms
   âœ“ extension tests > loadExtensions > should skip extensions with missing name and log a warning 10ms
   âœ“ extension tests > loadExtensions > should filter trust out of mcp servers 4ms
   âœ“ extension tests > loadExtensions > should throw an error for invalid extension names 3ms
   âœ“ extension tests > loadExtensions > should not load github extensions if blockGitExtensions is set 3ms
   âœ“ extension tests > loadExtensions > should not load any extensions if admin.extensions.enabled is false 12ms
   âœ“ extension tests > loadExtensions > should not load mcpServers if admin.mcp.enabled is false 7ms
   âœ“ extension tests > loadExtensions > should load mcpServers if admin.mcp.enabled is true 14ms
   âœ“ extension tests > loadExtensions > id generation > 'should generate id from source for noâ€¦' 10ms
   âœ“ extension tests > loadExtensions > id generation > 'should generate id from owner/repo foâ€¦' 47ms
   âœ“ extension tests > loadExtensions > id generation > 'should generate id from owner/repo foâ€¦' 6ms
   âœ“ extension tests > loadExtensions > id generation > 'should generate id from source for giâ€¦' 18ms
   âœ“ extension tests > loadExtensions > id generation > 'should generate id from the original â€¦' 13ms
   âœ“ extension tests > loadExtensions > id generation > should generate id from the original source for linked extensions 9ms
   âœ“ extension tests > loadExtensions > id generation > should generate id from name for extension with no install metadata 4ms
   âœ“ extension tests > loadExtensions > id generation > should load extension hooks and hydrate variables 4ms
   âœ“ extension tests > loadExtensions > id generation > should not load hooks if hooks.enabled is false 16ms
   âœ“ extension tests > loadExtensions > id generation > should warn about hooks during installation 39ms
   âœ“ extension tests > installExtension > should install an extension from a local path 14ms
   âœ“ extension tests > installExtension > should throw an error if the extension already exists 24ms
   âœ“ extension tests > installExtension > should throw an error and cleanup if codefly-extension.json is missing 4ms
   âœ“ extension tests > installExtension > should throw an error for invalid JSON in codefly-extension.json 5ms
   âœ“ extension tests > installExtension > should throw an error for missing name in codefly-extension.json 4ms
   âœ“ extension tests > installExtension > should install an extension from a git URL 126ms
   âœ“ extension tests > installExtension > should install a linked extension 4ms
   âœ“ extension tests > installExtension > should not install a github extension if blockGitExtensions is set 3ms
   âœ“ extension tests > installExtension > should prompt for trust if workspace is not trusted 20ms
   âœ“ extension tests > installExtension > should not install if user denies trust 3ms
   Ã— extension tests > installExtension > should add the workspace to trusted folders if user consents 11ms
     â†’ expected false to be true // Object.is equality
   âœ“ extension tests > installExtension > with previous extension config: true > should log an update event to clearcut on success 37ms
   âœ“ extension tests > installExtension > with previous extension config: true > should not  alter the extension enablement configuration 21ms
   âœ“ extension tests > installExtension > with previous extension config: false > should log an install event to clearcut on success 5ms
   âœ“ extension tests > installExtension > with previous extension config: false > should  alter the extension enablement configuration 8ms
   âœ“ extension tests > installExtension > should show users information on their ansi escaped mcp servers when installing 7ms
   âœ“ extension tests > installExtension > should continue installation if user accepts prompt for local extension with mcp servers 98ms
   âœ“ extension tests > installExtension > should cancel installation if user declines prompt for local extension with mcp servers 18ms
   âœ“ extension tests > installExtension > should save the autoUpdate flag to the install metadata 19ms
   âœ“ extension tests > installExtension > should ignore consent flow if not required 39ms
   âœ“ extension tests > installExtension > should prompt for settings if promptForSettings 16ms
   âœ“ extension tests > installExtension > should not prompt for settings if promptForSettings is false 16ms
   âœ“ extension tests > installExtension > should only prompt for new settings on update, and preserve old settings 52ms
   âœ“ extension tests > installExtension > should auto-update if settings have changed 23ms
   âœ“ extension tests > installExtension > should throw an error for invalid extension names 4ms
   âœ“ extension tests > installExtension > installing from github > should install from a github release successfully 45ms
   âœ“ extension tests > installExtension > installing from github > should fallback to git clone if github release download fails and user consents 18ms
   âœ“ extension tests > installExtension > installing from github > should throw an error if github release download fails and user denies consent 3ms
   âœ“ extension tests > installExtension > installing from github > should fallback to git clone without consent if no release data is found on first install 11ms
   âœ“ extension tests > installExtension > installing from github > should ask for consent if no release data is found for an existing github-release extension 10ms
   âœ“ extension tests > uninstallExtension > should uninstall an extension by name 17ms
   âœ“ extension tests > uninstallExtension > should uninstall an extension by name and retain existing extensions 6ms
   âœ“ extension tests > uninstallExtension > should uninstall an extension on non-matching extension directory name 13ms
   âœ“ extension tests > uninstallExtension > should throw an error if the extension does not exist 2ms
   âœ“ extension tests > uninstallExtension > with isUpdate: true > should not log uninstall event 8ms
   âœ“ extension tests > uninstallExtension > with isUpdate: true > should not  alter the extension enablement configuration 9ms
   âœ“ extension tests > uninstallExtension > with isUpdate: false > should log uninstall event 5ms
   âœ“ extension tests > uninstallExtension > with isUpdate: false > should  alter the extension enablement configuration 5ms
   âœ“ extension tests > uninstallExtension > should uninstall an extension by its source URL 6ms
   âœ“ extension tests > uninstallExtension > should fail to uninstall by URL if an extension has no install metadata 6ms
   âœ“ extension tests > disableExtension > should disable an extension at the user scope 6ms
   âœ“ extension tests > disableExtension > should disable an extension at the workspace scope 4ms
   âœ“ extension tests > disableExtension > should handle disabling the same extension twice 6ms
   âœ“ extension tests > disableExtension > should throw an error if you request system scope 2ms
   âœ“ extension tests > disableExtension > should log a disable event 4ms
   âœ“ extension tests > enableExtension > should enable an extension at the user scope 5ms
   âœ“ extension tests > enableExtension > should enable an extension at the workspace scope 5ms
   âœ“ extension tests > enableExtension > should log an enable event 6ms
stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Queue Error Message > should reset the timer if a new error message is set
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Terminal Height Calculation > should prevent terminal height from being less than 1
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Keyboard Input Handling (CTRL+C / CTRL+D) > CTRL+C > should cancel ongoing request on first press
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Keyboard Input Handling (CTRL+C / CTRL+D) > CTRL+C > should quit on second press
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Keyboard Input Handling (CTRL+C / CTRL+D) > CTRL+C > should reset press count after a timeout
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Keyboard Input Handling (CTRL+C / CTRL+D) > CTRL+D > should quit on second press if buffer is empty
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Keyboard Input Handling (CTRL+C / CTRL+D) > CTRL+D > should quit on second press if buffer is empty
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Keyboard Input Handling (CTRL+C / CTRL+D) > CTRL+D > should reset press count after a timeout
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Copy Mode (CTRL+S) > 'Normal Mode' > should NOT toggle mouse off when Ctrl+S is pressed
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Copy Mode (CTRL+S) > 'Alternate Buffer Mode' > should toggle mouse off when Ctrl+S is pressed
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Copy Mode (CTRL+S) > 'Alternate Buffer Mode' > should toggle mouse back on when Ctrl+S is pressed again
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Copy Mode (CTRL+S) > 'Alternate Buffer Mode' > should exit copy mode on any key press
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Model Dialog Integration > should provide isModelDialogOpen in the UIStateContext
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Model Dialog Integration > should provide model dialog actions in the UIActionsContext
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Agent Configuration Dialog Integration > should initialize with dialog closed and no agent selected
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Agent Configuration Dialog Integration > should update state when openAgentConfigDialog is called
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > CoreEvents Integration > subscribes to UserFeedback and drains backlog on mount
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > CoreEvents Integration > subscribes to UserFeedback and drains backlog on mount
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > CoreEvents Integration > adds history item when UserFeedback event is received
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > CoreEvents Integration > updates currentModel when ModelChanged event is received
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > CoreEvents Integration > provides activeHooks from useHookDisplayState
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > CoreEvents Integration > provides activeHooks from useHookDisplayState
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Shell Interaction > should not crash if resizing the pty fails
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Banner Text > should render placeholder banner text for USE_GEMINI auth type
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > onCancelSubmit Behavior > clears the prompt when onCancelSubmit is called with shouldRestorePrompt=false
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > onCancelSubmit Behavior > restores the prompt when onCancelSubmit is called with shouldRestorePrompt=true (or undefined)
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > onCancelSubmit Behavior > input history is independent from conversation history (survives /clear)
[SessionSummary] No chats directory found

stdout | src/ui/AppContainer.test.tsx > AppContainer State Management > Regression Tests > does not refresh static on startup if banner text is empty
[SessionSummary] No chats directory found

 â¯ src/ui/components/HistoryItemDisplay.test.tsx (20 tests | 8 failed) 1024ms
   âœ“ <HistoryItemDisplay /> > renders UserMessage for "user" type 29ms
   âœ“ <HistoryItemDisplay /> > renders UserMessage for "user" type with slash command 2ms
   âœ“ <HistoryItemDisplay /> > renders InfoMessage for "info" type with multi-line text (alternateBuffer=true) 12ms
   âœ“ <HistoryItemDisplay /> > renders InfoMessage for "info" type with multi-line text (alternateBuffer=false) 2ms
   âœ“ <HistoryItemDisplay /> > renders AgentsStatus for "agents_list" type 5ms
   âœ“ <HistoryItemDisplay /> > renders StatsDisplay for "stats" type 25ms
   âœ“ <HistoryItemDisplay /> > renders AboutBox for "about" type 6ms
   âœ“ <HistoryItemDisplay /> > renders ModelStatsDisplay for "model_stats" type 2ms
   âœ“ <HistoryItemDisplay /> > renders ToolStatsDisplay for "tool_stats" type 2ms
   âœ“ <HistoryItemDisplay /> > renders SessionSummaryDisplay for "quit" type 9ms
   âœ“ <HistoryItemDisplay /> > should escape ANSI codes in text content 2ms
   âœ“ <HistoryItemDisplay /> > should escape ANSI codes in tool confirmation details 1ms
   Ã— <HistoryItemDisplay /> > gemini items (alternateBuffer=true) > should render a truncated gemini item 197ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   Ã— <HistoryItemDisplay /> > gemini items (alternateBuffer=true) > should render a full gemini item when using availableTerminalHeightGemini 118ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   Ã— <HistoryItemDisplay /> > gemini items (alternateBuffer=true) > should render a truncated gemini_content item 73ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   Ã— <HistoryItemDisplay /> > gemini items (alternateBuffer=true) > should render a full gemini_content item when using availableTerminalHeightGemini 231ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   Ã— <HistoryItemDisplay /> > gemini items (alternateBuffer=false) > should render a truncated gemini item 103ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   Ã— <HistoryItemDisplay /> > gemini items (alternateBuffer=false) > should render a full gemini item when using availableTerminalHeightGemini 99ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   Ã— <HistoryItemDisplay /> > gemini items (alternateBuffer=false) > should render a truncated gemini_content item 66ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   Ã— <HistoryItemDisplay /> > gemini items (alternateBuffer=false) > should render a full gemini_content item when using availableTerminalHeightGemini 39ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
 âœ“ src/services/FileCommandLoader.test.ts (44 tests) 573ms
(node:74918) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 error listeners added to [EventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
 âœ“ src/ui/AppContainer.test.tsx (70 tests) 1908ms
 âœ“ src/ui/commands/restoreCommand.test.ts (13 tests) 224ms
 âœ“ src/config/extensions/github.test.ts (33 tests) 161ms
stdout | src/ui/hooks/useIncludeDirsTrust.test.tsx > useIncludeDirsTrust > when folder trust is enabled and workspace is trusted > should add trusted dirs, collect untrusted errors, and open dialog for undefined
Creating custom dialog with undecidedDirs: [ [32m'/undefined'[39m ]

 âœ“ src/ui/hooks/useIncludeDirsTrust.test.tsx (6 tests) 134ms
 âœ“ src/ui/components/EditorSettingsDialog.test.tsx (5 tests) 119ms
 âœ“ src/utils/sandbox.test.ts (7 tests) 95ms
stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should create a working PolicyEngine from basic settings
[PolicyEngine.check] toolCall.name: run_shell_command, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=run_shell_command, decision=allow, priority=2.3, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should create a working PolicyEngine from basic settings
[PolicyEngine.check] toolCall.name: write_file, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=write_file, decision=deny, priority=2.4, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should create a working PolicyEngine from basic settings
[PolicyEngine.check] toolCall.name: replace, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=replace, decision=ask_user, priority=1.01, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should create a working PolicyEngine from basic settings
[PolicyEngine.check] toolCall.name: unknown_tool, stringifiedArgs: undefined
[PolicyEngine.check] NO MATCH - using default decision: ask_user

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle MCP server wildcard patterns correctly
[PolicyEngine.check] toolCall.name: allowed-server__tool1, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=allowed-server__*, decision=allow, priority=2.1, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle MCP server wildcard patterns correctly
[PolicyEngine.check] toolCall.name: allowed-server__another_tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=allowed-server__*, decision=allow, priority=2.1, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle MCP server wildcard patterns correctly
[PolicyEngine.check] toolCall.name: trusted-server__tool1, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=trusted-server__*, decision=allow, priority=2.2, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle MCP server wildcard patterns correctly
[PolicyEngine.check] toolCall.name: trusted-server__special_tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=trusted-server__*, decision=allow, priority=2.2, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle MCP server wildcard patterns correctly
[PolicyEngine.check] toolCall.name: blocked-server__tool1, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=blocked-server__*, decision=deny, priority=2.9, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle MCP server wildcard patterns correctly
[PolicyEngine.check] toolCall.name: blocked-server__any_tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=blocked-server__*, decision=deny, priority=2.9, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle MCP server wildcard patterns correctly
[PolicyEngine.check] toolCall.name: unknown-server__tool, stringifiedArgs: undefined
[PolicyEngine.check] NO MATCH - using default decision: ask_user

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should correctly prioritize specific tool excludes over MCP server wildcards
[PolicyEngine.check] toolCall.name: my-server__safe-tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=my-server__*, decision=allow, priority=2.1, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should correctly prioritize specific tool excludes over MCP server wildcards
[PolicyEngine.check] toolCall.name: my-server__dangerous-tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=my-server__dangerous-tool, decision=deny, priority=2.4, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle complex mixed configurations
[PolicyEngine.check] toolCall.name: read_file, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=read_file, decision=allow, priority=1.05, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle complex mixed configurations
[PolicyEngine.check] toolCall.name: list_directory, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=list_directory, decision=allow, priority=1.05, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle complex mixed configurations
[PolicyEngine.check] toolCall.name: glob, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=glob, decision=deny, priority=2.4, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle complex mixed configurations
[PolicyEngine.check] toolCall.name: replace, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=replace, decision=ask_user, priority=1.01, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle complex mixed configurations
[PolicyEngine.check] toolCall.name: custom-tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=custom-tool, decision=allow, priority=2.3, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle complex mixed configurations
[PolicyEngine.check] toolCall.name: my-server__special-tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=my-server__special-tool, decision=allow, priority=2.3, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle complex mixed configurations
[PolicyEngine.check] toolCall.name: allowed-server__tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=allowed-server__*, decision=allow, priority=2.1, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle complex mixed configurations
[PolicyEngine.check] toolCall.name: trusted-server__tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=trusted-server__*, decision=allow, priority=2.2, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle complex mixed configurations
[PolicyEngine.check] toolCall.name: blocked-server__tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=blocked-server__*, decision=deny, priority=2.9, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle complex mixed configurations
[PolicyEngine.check] toolCall.name: write_file, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=write_file, decision=ask_user, priority=1.01, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle YOLO mode correctly
[PolicyEngine.check] toolCall.name: run_shell_command, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=undefined, decision=allow, priority=1.999, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle YOLO mode correctly
[PolicyEngine.check] toolCall.name: write_file, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=undefined, decision=allow, priority=1.999, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle YOLO mode correctly
[PolicyEngine.check] toolCall.name: unknown_tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=undefined, decision=allow, priority=1.999, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle YOLO mode correctly
[PolicyEngine.check] toolCall.name: dangerous-tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=dangerous-tool, decision=deny, priority=2.4, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle AUTO_EDIT mode correctly
[PolicyEngine.check] toolCall.name: replace, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=replace, decision=allow, priority=1.015, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle AUTO_EDIT mode correctly
[PolicyEngine.check] toolCall.name: write_file, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=write_file, decision=allow, priority=1.015, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle AUTO_EDIT mode correctly
[PolicyEngine.check] toolCall.name: run_shell_command, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=run_shell_command, decision=ask_user, priority=1.01, argsPattern=none

 âœ“ src/utils/sessionUtils.test.ts (20 tests) 74ms
stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle Plan mode correctly
[PolicyEngine.check] toolCall.name: read_file, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=read_file, decision=allow, priority=1.05, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle Plan mode correctly
[PolicyEngine.check] toolCall.name: google_web_search, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=google_web_search, decision=allow, priority=1.05, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle Plan mode correctly
[PolicyEngine.check] toolCall.name: list_directory, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=list_directory, decision=allow, priority=1.05, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle Plan mode correctly
[PolicyEngine.check] toolCall.name: replace, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=undefined, decision=deny, priority=1.02, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle Plan mode correctly
[PolicyEngine.check] toolCall.name: write_file, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=undefined, decision=deny, priority=1.02, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle Plan mode correctly
[PolicyEngine.check] toolCall.name: run_shell_command, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=undefined, decision=deny, priority=1.02, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle Plan mode correctly
[PolicyEngine.check] toolCall.name: unknown_tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=undefined, decision=deny, priority=1.02, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should verify priority ordering works correctly in practice
[PolicyEngine.check] toolCall.name: blocked-tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=blocked-tool, decision=deny, priority=2.4, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should verify priority ordering works correctly in practice
[PolicyEngine.check] toolCall.name: blocked-server__any, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=blocked-server__*, decision=deny, priority=2.9, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should verify priority ordering works correctly in practice
[PolicyEngine.check] toolCall.name: specific-tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=specific-tool, decision=allow, priority=2.3, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should verify priority ordering works correctly in practice
[PolicyEngine.check] toolCall.name: trusted-server__any, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=trusted-server__*, decision=allow, priority=2.2, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should verify priority ordering works correctly in practice
[PolicyEngine.check] toolCall.name: mcp-server__any, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=mcp-server__*, decision=allow, priority=2.1, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should verify priority ordering works correctly in practice
[PolicyEngine.check] toolCall.name: glob, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=glob, decision=allow, priority=1.05, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle edge case: MCP server with both trust and exclusion
[PolicyEngine.check] toolCall.name: conflicted-server__tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=conflicted-server__*, decision=deny, priority=2.9, argsPattern=none

 âœ“ src/config/extensions/extensionSettings.test.ts (23 tests) 129ms
stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle edge case: specific tool allowed but server excluded
[PolicyEngine.check] toolCall.name: my-server__special-tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=my-server__*, decision=deny, priority=2.9, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle edge case: specific tool allowed but server excluded
[PolicyEngine.check] toolCall.name: my-server__other-tool, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=my-server__*, decision=deny, priority=2.9, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should verify non-interactive mode transformation
[PolicyEngine.check] toolCall.name: unknown_tool, stringifiedArgs: undefined
[PolicyEngine.check] NO MATCH - using default decision: ask_user

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should verify non-interactive mode transformation
[PolicyEngine.check] toolCall.name: run_shell_command, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=run_shell_command, decision=ask_user, priority=1.01, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle empty settings gracefully
[PolicyEngine.check] toolCall.name: write_file, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=write_file, decision=ask_user, priority=1.01, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle empty settings gracefully
[PolicyEngine.check] toolCall.name: replace, stringifiedArgs: undefined
[PolicyEngine.check] MATCHED rule: toolName=replace, decision=ask_user, priority=1.01, argsPattern=none

stdout | src/config/policy-engine.integration.test.ts > Policy Engine Integration Tests > Policy configuration produces valid PolicyEngine config > should handle empty settings gracefully
[PolicyEngine.check] toolCall.name: unknown, stringifiedArgs: undefined
[PolicyEngine.check] NO MATCH - using default decision: ask_user

 âœ“ src/ui/components/shared/VirtualizedList.test.tsx (9 tests) 148ms
 âœ“ src/config/policy-engine.integration.test.ts (13 tests) 184ms
stderr | src/ui/auth/AuthDialog.test.tsx > AuthDialog > handleAuthSelect > exits process for Login with Google when browser is suppressed
An update to AuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 â¯ src/ui/auth/AuthDialog.test.tsx (24 tests | 3 failed) 292ms
   âœ“ AuthDialog > Environment Variable Effects on Auth Options > correctly shows/hides COMPUTE_ADC options 'in Cloud Shell' 30ms
   âœ“ AuthDialog > Environment Variable Effects on Auth Options > correctly shows/hides COMPUTE_ADC options 'with GEMINI_CLI_USE_COMPUTE_ADC' 10ms
   âœ“ AuthDialog > Environment Variable Effects on Auth Options > correctly shows/hides COMPUTE_ADC options 'by default' 4ms
   âœ“ AuthDialog > filters auth types when enforcedType is set 12ms
   âœ“ AuthDialog > sets initial index to 0 when enforcedType is set 14ms
   âœ“ AuthDialog > Initial Auth Type Selection > selects initial auth type 'from settings' 21ms
   âœ“ AuthDialog > Initial Auth Type Selection > selects initial auth type 'from GEMINI_DEFAULT_AUTH_TYPE env var' 3ms
   âœ“ AuthDialog > Initial Auth Type Selection > selects initial auth type 'from GEMINI_API_KEY env var' 3ms
   âœ“ AuthDialog > Initial Auth Type Selection > selects initial auth type 'defaults to Login with Google' 3ms
   âœ“ AuthDialog > handleAuthSelect > calls onAuthError if validation fails 9ms
   âœ“ AuthDialog > handleAuthSelect > sets auth context with requiresRestart: true for LOGIN_WITH_GOOGLE 4ms
   âœ“ AuthDialog > handleAuthSelect > sets auth context with empty object for other auth types 3ms
   âœ“ AuthDialog > handleAuthSelect > skips API key dialog on initial setup if env var is present 20ms
   âœ“ AuthDialog > handleAuthSelect > skips API key dialog if env var is present but empty 3ms
   âœ“ AuthDialog > handleAuthSelect > shows API key dialog on initial setup if no env var is present 3ms
   âœ“ AuthDialog > handleAuthSelect > skips API key dialog on re-auth if env var is present (cannot edit) 3ms
   âœ“ AuthDialog > handleAuthSelect > exits process for Login with Google when browser is suppressed 26ms
   âœ“ AuthDialog > displays authError when provided 4ms
   âœ“ AuthDialog > useKeypress > 'does nothing on escape if authError iâ€¦' 4ms
   âœ“ AuthDialog > useKeypress > 'calls onAuthError on escape if no autâ€¦' 3ms
   âœ“ AuthDialog > useKeypress > 'calls setAuthState(Unauthenticated) oâ€¦' 44ms
   Ã— AuthDialog > Snapshots > renders correctly with default props 41ms
     â†’ Snapshot `AuthDialog > Snapshots > renders correctly with default props 1` mismatched
   Ã— AuthDialog > Snapshots > renders correctly with auth error 22ms
     â†’ Snapshot `AuthDialog > Snapshots > renders correctly with auth error 1` mismatched
   Ã— AuthDialog > Snapshots > renders correctly with enforced auth type 3ms
     â†’ Snapshot `AuthDialog > Snapshots > renders correctly with enforced auth type 1` mismatched
 âœ“ src/ui/contexts/KeypressContext.test.tsx (98 tests) 84ms
 âœ“ src/utils/cleanup.test.ts (8 tests) 4ms
 âœ“ src/utils/commentJson.test.ts (12 tests) 13ms
stdout | src/commands/mcp/add.test.ts > mcp add command > should add a stdio server to project settings
MCP server "my-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > should handle multiple env vars before positional args
MCP server "my-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > should add an sse server to user settings
MCP server "sse-server" added to user settings. (sse)

stdout | src/commands/mcp/add.test.ts > mcp add command > should add an http server to project settings
MCP server "http-server" added to project settings. (http)

stdout | src/commands/mcp/add.test.ts > mcp add command > should add an sse server using --type alias
MCP server "sse-server" added to user settings. (sse)

stdout | src/commands/mcp/add.test.ts > mcp add command > should add an http server using --type alias
MCP server "http-server" added to project settings. (http)

stdout | src/commands/mcp/add.test.ts > mcp add command > should handle MCP server args with -- separator
MCP server "my-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > should handle unknown options as MCP server args
MCP server "test-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when in a project directory > should use project scope by default
MCP server "test-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when in a project directory > should use project scope when --scope=project is used
MCP server "test-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when in a project directory > should use user scope when --scope=user is used
MCP server "test-server" added to user settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when in a subdirectory of a project > should use project scope by default
MCP server "test-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when in the home directory > should use user scope when --scope=user is used
MCP server "test-server" added to user settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when in a subdirectory of home (not a project) > should use project scope by default
MCP server "test-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when in a subdirectory of home (not a project) > should write to the WORKSPACE scope, not the USER scope
MCP server "my-new-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when outside of home (not a project) > should use project scope by default
MCP server "test-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when updating an existing server > should update the existing server in the project scope
MCP server "existing-server" is already configured within project settings.
MCP server "existing-server" updated in project settings.

stdout | src/commands/mcp/add.test.ts > mcp add command > when updating an existing server > should update the existing server in the user scope
MCP server "existing-server" is already configured within user settings.
MCP server "existing-server" updated in user settings.

 âœ“ src/utils/sessionCleanup.test.ts (70 tests) 26ms
 âœ“ src/ui/App.test.tsx (12 tests) 113ms
 âœ“ src/utils/sessionCleanup.integration.test.ts (5 tests) 38ms
 âœ“ src/commands/mcp/add.test.ts (20 tests) 48ms
 âœ“ src/services/prompt-processors/shellProcessor.test.ts (34 tests) 19ms
 âœ“ src/ui/commands/hooksCommand.test.ts (34 tests) 32ms
 âœ“ src/ui/keyMatchers.test.ts (55 tests) 7ms
stdout | src/commands/mcp/remove.test.ts > mcp remove command > unit tests with mocks > should remove a server from project settings
Server "test-server" removed from project settings.

 âœ“ src/commands/mcp/remove.test.ts (6 tests) 25ms
 âœ“ src/config/settings.test.ts (65 tests) 49ms
stderr | src/ui/commands/extensionsCommand.test.ts > extensionsCommand > link > should show error message for invalid source
Failed to stat path "test-extension-package": invalid path

stdout | src/zed-integration/zedIntegration.test.ts > GeminiAgent > should create a new session
[STARTUP] StartupProfiler.flush() called with [33m0[39m phases

stdout | src/zed-integration/zedIntegration.test.ts > GeminiAgent > should create a new session with mcp servers
[STARTUP] StartupProfiler.flush() called with [33m0[39m phases

stdout | src/zed-integration/zedIntegration.test.ts > GeminiAgent > should handle authentication failure gracefully
[STARTUP] StartupProfiler.flush() called with [33m0[39m phases

stdout | src/zed-integration/zedIntegration.test.ts > GeminiAgent > should initialize file system service if client supports it
[STARTUP] StartupProfiler.flush() called with [33m0[39m phases

stdout | src/zed-integration/zedIntegration.test.ts > GeminiAgent > should cancel a session
[STARTUP] StartupProfiler.flush() called with [33m0[39m phases

stdout | src/zed-integration/zedIntegration.test.ts > GeminiAgent > should delegate prompt to session
[STARTUP] StartupProfiler.flush() called with [33m0[39m phases

TEST: calling prompt
TEST: waiting for streamStarted
TEST: asyncStream started
TEST: waiting for read
TEST: streamStarted
TEST: cancelled
TEST: stream closed
TEST: read returned done=true
TEST: releasing lock
TEST: result received {"stopReason":"cancelled"}
stderr | src/zed-integration/zedIntegration.test.ts > Session > should ignore files based on configuration
Path ignored.txt is ignored and will be skipped.
No valid file paths found in @ commands to read.

 âœ“ src/ui/commands/extensionsCommand.test.ts (49 tests) 29ms
 âœ“ src/utils/readStdin.test.ts (6 tests) 12ms
 âœ“ src/zed-integration/zedIntegration.test.ts (20 tests) 28ms
stdout | src/codefly.test.tsx > getNodeMemoryArgs > should log debug info when isDebugMode is true
Current heap size 4096.00 MB
Need to relaunch with more memory: 8192.00 MB

]0;â—‡  Ready (cli)                                                                  stderr | src/codefly.test.tsx > gemini.tsx main function kitty protocol > should handle --'listSessions' flag
[STARTUP] Cannot start phase 'cli_startup': phase is already active. Call end() before starting again.

stderr | src/codefly.test.tsx > gemini.tsx main function kitty protocol > should handle --'deleteSession' flag
[STARTUP] Cannot start phase 'cli_startup': phase is already active. Call end() before starting again.

stderr | src/codefly.test.tsx > gemini.tsx main function kitty protocol > should handle sandbox activation
[STARTUP] Cannot start phase 'cli_startup': phase is already active. Call end() before starting again.

Error resuming session: Session not foundstderr | src/codefly.test.tsx > gemini.tsx main function kitty protocol > should read from stdin in non-interactive mode
[STARTUP] Cannot start phase 'cli_startup': phase is already active. Call end() before starting again.

Error: The --prompt-interactive flag cannot be used when input is piped from stdin.
stderr | src/codefly.test.tsx > gemini.tsx main function exit codes > should exit with 41 for auth failure during sandbox setup
[STARTUP] Cannot start phase 'cli_startup': phase is already active. Call end() before starting again.

stderr | src/codefly.test.tsx > gemini.tsx main function exit codes > should exit with 42 for session resume failure
[STARTUP] Cannot start phase 'cli_startup': phase is already active. Call end() before starting again.

Error resuming session: sessionSelector.resolveSession is not a functionstderr | src/codefly.test.tsx > gemini.tsx main function exit codes > should exit with 42 for no input provided
[STARTUP] Cannot start phase 'cli_startup': phase is already active. Call end() before starting again.

 âœ“ src/test-utils/render.test.tsx (6 tests) 18ms
]0;Gemini CLI (root)                                                               [?7l]0;Gemini CLI (root)                                                               [?7l]0;Gemini CLI (root)                                                               [?7l]0;Gemini CLI (root)                                                               [?7l]0;Gemini CLI (root)                                                               [?7l]0;Gemini CLI (root)                                                               [?7l âœ“ src/utils/handleAutoUpdate.test.ts (19 tests) 18ms
 âœ“ src/codefly.test.tsx (33 tests | 1 skipped) 81ms
 âœ“ src/ui/components/AskUserDialog.test.tsx (25 tests) 442ms
stdout | src/utils/gitUtils.test.ts > isGitHubRepository > returns false if the git command fails
Failed to get git remote: Error: oops
    at [90m/Users/robinx/code/codefly-cli/packages/cli/[39msrc/utils/gitUtils.test.ts:29:13
    at mockCall (file:///Users/robinx/code/codefly-cli/node_modules/[4m@vitest/spy[24m/dist/index.js:96:15)
    at execSync (file:///Users/robinx/code/codefly-cli/node_modules/[4mtinyspy[24m/dist/index.js:47:80)
    at Module.isGitHubRepository [90m(/Users/robinx/code/codefly-cli/packages/cli/[39msrc/utils/gitUtils.ts:18:7[90m)[39m
    at [90m/Users/robinx/code/codefly-cli/packages/cli/[39msrc/utils/gitUtils.test.ts:31:12
    at file:///Users/robinx/code/codefly-cli/node_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:155:11
    at file:///Users/robinx/code/codefly-cli/node_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:752:26
    at file:///Users/robinx/code/codefly-cli/node_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/robinx/code/codefly-cli/node_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:1863:10)

stdout | src/utils/gitUtils.test.ts > getLatestRelease > throws an error if the fetch fails
Failed to determine latest run-gemini-cli release: nope

stdout | src/utils/gitUtils.test.ts > getLatestRelease > throws an error if the fetch does not return a json body
Failed to determine latest run-gemini-cli release: Error: Response did not include tag_name field
    at Module.getLatestGitHubRelease [90m(/Users/robinx/code/codefly-cli/packages/cli/[39msrc/utils/gitUtils.ts:83:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:103:5)[39m
    at [90m/Users/robinx/code/codefly-cli/packages/cli/[39msrc/utils/gitUtils.test.ts:135:5
    at file:///Users/robinx/code/codefly-cli/node_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:752:20

 âœ“ src/utils/gitUtils.test.ts (12 tests) 13ms
 âœ“ src/commands/hooks/migrate.test.ts (17 tests) 12ms
 âœ“ src/utils/userStartupWarnings.test.ts (7 tests) 89ms
 âœ“ src/commands/extensions/enable.test.ts (7 tests) 8ms
 âœ“ src/utils/errors.test.ts (29 tests) 8ms
 âœ“ src/commands/extensions/disable.test.ts (12 tests) 10ms
 âœ“ src/utils/settingsUtils.test.ts (73 tests) 10ms
 âœ“ src/commands/mcp.test.ts (3 tests) 9ms
 âœ“ src/utils/relaunch.test.ts (8 tests) 19ms
 âœ“ src/services/McpPromptLoader.test.ts (31 tests) 8ms
(node:75162) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 model-changed listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
 â¯ src/validateNonInterActiveAuth.test.ts (17 tests | 1 failed) 76ms
   âœ“ validateNonInterActiveAuth > exits if no auth type is configured or env vars set 4ms
   Ã— validateNonInterActiveAuth > uses LOGIN_WITH_GOOGLE if GOOGLE_GENAI_USE_GCA is set 3ms
     â†’ process.exit(41) called
   âœ“ validateNonInterActiveAuth > uses USE_GEMINI if GEMINI_API_KEY is set 0ms
   âœ“ validateNonInterActiveAuth > uses USE_VERTEX_AI if GOOGLE_GENAI_USE_VERTEXAI is true (with GOOGLE_CLOUD_PROJECT and GOOGLE_CLOUD_LOCATION) 0ms
   âœ“ validateNonInterActiveAuth > uses USE_VERTEX_AI if GOOGLE_GENAI_USE_VERTEXAI is true and GOOGLE_API_KEY is set 0ms
   âœ“ validateNonInterActiveAuth > uses LOGIN_WITH_GOOGLE if GOOGLE_GENAI_USE_GCA is set, even with other env vars 0ms
   âœ“ validateNonInterActiveAuth > uses USE_VERTEX_AI if both GEMINI_API_KEY and GOOGLE_GENAI_USE_VERTEXAI are set 0ms
   âœ“ validateNonInterActiveAuth > uses USE_GEMINI if GOOGLE_GENAI_USE_VERTEXAI is false, GEMINI_API_KEY is set, and project/location are available 0ms
   âœ“ validateNonInterActiveAuth > uses configuredAuthType over environment variables 0ms
   âœ“ validateNonInterActiveAuth > exits if validateAuthMethod returns error 33ms
   âœ“ validateNonInterActiveAuth > skips validation if useExternalAuth is true 0ms
   âœ“ validateNonInterActiveAuth > succeeds if effectiveAuthType matches enforcedAuthType 0ms
   âœ“ validateNonInterActiveAuth > exits if configuredAuthType does not match enforcedAuthType 0ms
   âœ“ validateNonInterActiveAuth > exits if auth from env var does not match enforcedAuthType 3ms
   âœ“ validateNonInterActiveAuth > JSON output mode > prints JSON error when no auth is configured and exits with code 41 1ms
   âœ“ validateNonInterActiveAuth > JSON output mode > prints JSON error when enforced auth mismatches current auth and exits with code 41 28ms
   âœ“ validateNonInterActiveAuth > JSON output mode > prints JSON error when validateAuthMethod fails and exits with code 41 0ms
 âœ“ src/config/settings-validation.test.ts (25 tests) 10ms
 âœ“ src/config/trustedFolders.test.ts (23 tests) 8ms
 âœ“ src/config/settingsSchema.test.ts (22 tests) 7ms
 âœ“ src/ui/commands/skillsCommand.test.ts (19 tests) 123ms
 âœ“ src/ui/commands/rewindCommand.test.tsx (13 tests) 12ms
 âœ“ src/ui/components/GradientRegression.test.tsx (5 tests) 279ms
(node:75190) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 resize listeners added to [Socket]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
 â¯ src/ui/components/AlternateBufferQuittingDisplay.test.tsx (6 tests | 6 failed) 223ms
   Ã— AlternateBufferQuittingDisplay > renders with active and pending tool messages 123ms
     â†’ Snapshot `AlternateBufferQuittingDisplay > renders with active and pending tool messages > with_history_and_pending 1` mismatched
   Ã— AlternateBufferQuittingDisplay > renders with empty history and no pending items 18ms
     â†’ Snapshot `AlternateBufferQuittingDisplay > renders with empty history and no pending items > empty 1` mismatched
   Ã— AlternateBufferQuittingDisplay > renders with history but no pending items 10ms
     â†’ Snapshot `AlternateBufferQuittingDisplay > renders with history but no pending items > with_history_no_pending 1` mismatched
   Ã— AlternateBufferQuittingDisplay > renders with pending items but no history 53ms
     â†’ Snapshot `AlternateBufferQuittingDisplay > renders with pending items but no history > with_pending_no_history 1` mismatched
   Ã— AlternateBufferQuittingDisplay > renders with a tool awaiting confirmation 9ms
     â†’ Snapshot `AlternateBufferQuittingDisplay > renders with a tool awaiting confirmation > with_confirming_tool 1` mismatched
   Ã— AlternateBufferQuittingDisplay > renders with user and gemini messages 9ms
     â†’ Snapshot `AlternateBufferQuittingDisplay > renders with user and gemini messages > with_user_gemini_messages 1` mismatched
(node:75205) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 model-changed listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
 âœ“ src/ui/components/AppHeader.test.tsx (11 tests) 422ms
 âœ“ src/ui/components/AgentConfigDialog.test.tsx (11 tests) 561ms
 âœ“ src/ui/components/IdeTrustChangeDialog.test.tsx (6 tests) 137ms
 âœ“ src/ui/components/messages/ToolConfirmationMessage.test.tsx (13 tests) 351ms
 âœ“ src/ui/components/messages/ToolMessage.test.tsx (12 tests) 282ms
 âœ“ src/ui/components/PermissionsModifyTrustDialog.test.tsx (7 tests) 289ms
 âœ“ src/ui/components/messages/ToolStickyHeaderRegression.test.tsx (2 tests) 123ms
 âœ“ src/ui/components/shared/TabHeader.test.tsx (12 tests) 133ms
 âœ“ src/ui/components/StatsDisplay.test.tsx (12 tests) 298ms
 âœ“ src/ui/components/messages/ToolResultDisplay.test.tsx (8 tests) 283ms
 âœ“ src/ui/components/messages/ToolMessageRawMarkdown.test.tsx (6 tests) 302ms
 âœ“ src/ui/components/shared/MaxSizedBox.test.tsx (12 tests) 72ms
 âœ“ src/ui/components/SessionBrowser.test.tsx (6 tests) 210ms
 âœ“ src/ui/components/views/McpStatus.test.tsx (13 tests) 169ms
 âœ“ src/ui/components/Header.test.tsx (9 tests) 185ms
 âœ“ src/ui/components/ModelStatsDisplay.test.tsx (7 tests) 176ms
 âœ“ src/ui/components/MultiFolderTrustDialog.test.tsx (8 tests) 201ms
 â¯ src/ui/components/messages/GeminiMessage.test.tsx (4 tests | 1 failed) 179ms
   Ã— <GeminiMessage /> - Raw Markdown Display Snapshots > renders with renderMarkdown=true '(default)' 132ms
     â†’ Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
   âœ“ <GeminiMessage /> - Raw Markdown Display Snapshots > renders with renderMarkdown=false '(raw markdown with syntax highlightinâ€¦' 27ms
   âœ“ <GeminiMessage /> - Raw Markdown Display Snapshots > renders pending state with renderMarkdown=true 16ms
   âœ“ <GeminiMessage /> - Raw Markdown Display Snapshots > renders pending state with renderMarkdown=false 3ms
 âœ“ src/ui/components/messages/CompressionMessage.test.tsx (10 tests) 99ms
 âœ“ src/ui/components/messages/ShellToolMessage.test.tsx (3 tests) 254ms
 âœ“ src/ui/hooks/useLoadingIndicator.test.tsx (7 tests) 225ms
 âœ“ src/ui/components/messages/Todo.test.tsx (14 tests) 82ms
 âœ“ src/ui/components/shared/ExpandableText.test.tsx (7 tests) 25ms
 âœ“ src/ui/components/shared/EnumSelector.test.tsx (9 tests) 92ms
 âœ“ src/ui/privacy/CloudFreePrivacyNotice.test.tsx (9 tests) 128ms
 âœ“ src/ui/hooks/shellCommandProcessor.test.tsx (20 tests) 66ms
 âœ“ src/ui/components/shared/DescriptiveRadioButtonSelect.test.tsx (2 tests) 110ms
 âœ“ src/ui/hooks/useCommandCompletion.test.tsx (27 tests) 126ms
 âœ“ src/ui/components/views/ExtensionsList.test.tsx (11 tests) 47ms
 âœ“ src/ui/hooks/toolMapping.test.ts (16 tests) 4ms
 âœ“ src/ui/components/shared/TextInput.test.tsx (11 tests) 73ms
 âœ“ src/ui/hooks/useIdeTrustListener.test.tsx (5 tests) 29ms
stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | updateHookTypesDev (/Users/robinx/code/codefly-cli/node_modules/react-reconciler/cjs/react-reconciler.development.js:3128:19)
React has detected a change in the order of Hooks called by TestComponent. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
1. useMemo                    useMemo
2. useReducer                 useReducer
3. useMemo                    useMemo
4. useMemo                    useMemo
5. useState                   useState
6. useEffect                  useEffect
7. useEffect                  useEffect
8. useEffect                  useEffect
9. useCallback                useCallback
10. useCallback               useCallback
11. useCallback               useCallback
12. useCallback               useCallback
13. useCallback               useCallback
14. useCallback               useCallback
15. useCallback               useCallback
16. useCallback               useCallback
17. useCallback               useCallback
18. useCallback               useCallback
19. useCallback               useCallback
20. useCallback               useCallback
21. useCallback               useCallback
22. useCallback               useCallback
23. useCallback               useCallback
24. useCallback               useCallback
25. useCallback               useCallback
26. useCallback               useCallback
27. useCallback               useCallback
28. useCallback               useCallback
29. useCallback               useCallback
30. useCallback               useCallback
31. useCallback               useCallback
32. useCallback               useCallback
33. useCallback               useCallback
34. useCallback               useCallback
35. useCallback               useCallback
36. useCallback               useCallback
37. useCallback               useCallback
38. useCallback               useCallback
39. useCallback               useCallback
40. useCallback               useCallback
41. useCallback               useCallback
42. useCallback               useCallback
43. useCallback               useCallback
44. useCallback               useCallback
45. useCallback               useCallback
46. useCallback               useCallback
47. useCallback               useCallback
48. useCallback               useCallback
49. useCallback               useCallback
50. useCallback               useCallback
51. useCallback               useCallback
52. useCallback               useCallback
53. useCallback               useCallback
54. useCallback               useCallback
55. useMemo                   useMemo
56. useCallback               useCallback
57. useCallback               useCallback
58. useCallback               useCallback
59. useCallback               useCallback
60. useCallback               useCallback
61. useMemo                   useMemo
62. useState                  useState
63. useState                  useState
64. useState                  useState
65. useState                  useState
66. useState                  useState
67. useState                  useState
68. useCallback               useCallback
69. useCallback               useCallback
70. useCallback               useCallback
71. useMemo                   useMemo
72. useEffect                 useState
   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/hooks/useFolderTrust.test.ts (12 tests) 22ms
 âœ“ src/ui/hooks/useTabbedNavigation.test.ts (18 tests) 26ms
 âœ“ src/ui/hooks/useConsoleMessages.test.tsx (7 tests) 79ms
 âœ“ src/ui/components/shared/Scrollable.test.tsx (4 tests) 104ms
 âœ“ src/ui/components/messages/ToolMessageFocusHint.test.tsx (5 tests) 168ms
 âœ“ src/ui/hooks/useInputHistoryStore.test.ts (14 tests) 189ms
 âœ“ src/ui/hooks/useKeypress.test.tsx (22 tests) 55ms
 âœ“ src/ui/components/views/ToolsList.test.tsx (3 tests) 50ms
 âœ“ src/ui/components/shared/RadioButtonSelect.test.tsx (5 tests) 147ms
 âœ“ src/ui/components/views/SkillsList.test.tsx (6 tests) 35ms
 âœ“ src/ui/components/messages/InfoMessage.test.tsx (3 tests) 87ms
 âœ“ src/ui/components/messages/RedirectionConfirmation.test.tsx (1 test) 208ms
 âœ“ src/ui/components/views/ChatList.test.tsx (3 tests) 18ms
 âœ“ src/ui/components/messages/ErrorMessage.test.tsx (2 tests) 21ms
 âœ“ src/ui/components/messages/WarningMessage.test.tsx (2 tests) 38ms
 âœ“ src/ui/hooks/useSnowfall.test.tsx (5 tests) 114ms
 âœ“ src/ui/hooks/useEditorSettings.test.tsx (10 tests) 128ms
 âœ“ src/ui/components/messages/UserMessage.test.tsx (3 tests) 25ms
 âœ“ src/ui/hooks/usePermissionsModifyTrust.test.ts (13 tests) 32ms
 âœ“ src/ui/hooks/useMessageQueue.test.tsx (15 tests) 19ms
 âœ“ src/ui/components/shared/performance.test.ts (3 tests) 1566ms
   âœ“ text-buffer performance > should handle character-by-character insertion in a large buffer efficiently  1304ms
 âœ“ src/ui/hooks/useSessionResume.test.ts (12 tests) 18ms
 âœ“ src/ui/hooks/useInputHistory.test.ts (11 tests) 48ms
 âœ“ src/ui/hooks/useToolExecutionScheduler.test.ts (8 tests) 67ms
 âœ“ src/ui/components/ToolConfirmationQueue.test.tsx (2 tests) 187ms
 âœ“ src/ui/components/SessionSummaryDisplay.test.tsx (1 test) 67ms
 âœ“ src/ui/components/Help.test.tsx (3 tests) 77ms
 âœ“ src/ui/components/LoadingIndicator.test.tsx (16 tests) 77ms
 âœ“ src/ui/components/Footer.test.tsx (21 tests) 269ms
stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

(node:75639) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 mcp-client-update listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/components/Composer.test.tsx (21 tests) 140ms
stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/components/LoopDetectionConfirmation.test.tsx (2 tests) 41ms
 âœ“ src/ui/components/ProQuotaDialog.test.tsx (8 tests) 58ms
 âœ“ src/ui/components/LogoutConfirmationDialog.test.tsx (5 tests) 114ms
 âœ“ src/ui/components/Table.test.tsx (3 tests) 24ms
 âœ“ src/ui/components/StatusDisplay.test.tsx (13 tests) 41ms
 âœ“ src/ui/components/ToolStatsDisplay.test.tsx (5 tests) 79ms
 âœ“ src/ui/components/SuggestionsDisplay.test.tsx (6 tests) 38ms
 âœ“ src/ui/components/QueuedMessageDisplay.test.tsx (5 tests) 37ms
 â¯ src/ui/components/Notifications.test.tsx (9 tests | 1 failed) 108ms
   âœ“ Notifications > renders nothing when no notifications 11ms
   âœ“ Notifications > renders startup warnings: Warning 1 23ms
   âœ“ Notifications > renders startup warnings: Warning 1,Warning 2 6ms
   âœ“ Notifications > renders init error 2ms
   âœ“ Notifications > does not render init error when streaming 0ms
   âœ“ Notifications > renders update notification 1ms
   Ã— Notifications > renders screen reader nudge when enabled and not seen (no legacy file) 10ms
     â†’ Snapshot `Notifications > renders screen reader nudge when enabled and not seen (no legacy file) 1` mismatched
   âœ“ Notifications > migrates legacy screen reader nudge file 53ms
   âœ“ Notifications > does not render screen reader nudge when already seen in persistent state 1ms
 âœ“ src/ui/components/MemoryUsageDisplay.test.tsx (2 tests) 46ms
 âœ“ src/ui/state/extensions.test.ts (15 tests) 4ms
 âœ“ src/ui/components/MainContent.test.tsx (3 tests) 21ms
 âœ“ src/ui/components/StickyHeader.test.tsx (2 tests) 53ms
 âœ“ src/ui/components/RawMarkdownIndicator.test.tsx (2 tests) 14ms
 âœ“ src/ui/components/RewindConfirmation.test.tsx (4 tests) 105ms
 âœ“ src/ui/components/Tips.test.tsx (2 tests) 18ms
 âœ“ src/ui/components/QuittingDisplay.test.tsx (2 tests) 14ms
 âœ“ src/ui/components/ExitWarning.test.tsx (4 tests) 15ms
 âœ“ src/ui/components/ThemedGradient.test.tsx (1 test) 18ms
 âœ“ src/ui/components/ShowMoreLines.test.tsx (5 tests) 16ms
 âœ“ src/ui/hooks/useMemoryMonitor.test.tsx (3 tests) 14ms
 âœ“ src/ui/components/GeminiRespondingSpinner.test.tsx (5 tests) 15ms
 âœ“ src/ui/components/ShellModeIndicator.test.tsx (1 test) 13ms
 âœ“ src/ui/hooks/atCommandProcessor_agents.test.ts (3 tests) 53ms
 âœ“ src/ui/hooks/useHistoryManager.test.ts (9 tests) 14ms
 âœ“ src/ui/components/ShellInputPrompt.test.tsx (7 tests) 12ms
 âœ“ src/config/mcp/mcpServerEnablement.test.ts (14 tests) 4ms
 âœ“ src/ui/hooks/useHookDisplayState.test.ts (6 tests) 15ms
 âœ“ src/ui/components/ValidationDialog.test.tsx (7 tests) 68ms
 âœ“ src/ui/components/ConsentPrompt.test.tsx (5 tests) 47ms
 âœ“ src/ui/auth/ApiAuthDialog.test.tsx (6 tests) 35ms
 âœ“ src/ui/hooks/useAtCompletion_agents.test.ts (2 tests) 177ms
 âœ“ src/ui/privacy/CloudPaidPrivacyNotice.test.tsx (2 tests) 27ms
 âœ“ src/ui/components/ContextSummaryDisplay.test.tsx (4 tests) 23ms
 âœ“ src/ui/components/DialogManager.test.tsx (18 tests) 57ms
 âœ“ src/ui/auth/AuthInProgress.test.tsx (5 tests) 28ms
stdout | src/commands/extensions/validate.test.ts > handleValidate > should validate an extension from a local dir
Extension local-ext-name has been successfully validated.

stderr | src/commands/extensions/validate.test.ts > handleValidate > should warn if version is not formatted with semver
Validation warnings:
  - Warning: Version '1' does not appear to be standard semver (e.g., 1.0.0).

stdout | src/commands/extensions/validate.test.ts > handleValidate > should warn if version is not formatted with semver
Extension valid-name has been successfully validated.

 âœ“ src/ui/components/AboutBox.test.tsx (6 tests) 56ms
 âœ“ src/commands/extensions/validate.test.ts (5 tests) 29ms
 âœ“ src/ui/components/Banner.test.tsx (3 tests) 24ms
 âœ“ src/ui/components/DetailedMessagesDisplay.test.tsx (3 tests) 24ms
 âœ“ src/ui/contexts/MouseContext.test.tsx (15 tests) 31ms
 âœ“ src/ui/components/AnsiOutput.test.tsx (12 tests) 25ms
 âœ“ src/ui/privacy/PrivacyNotice.test.tsx (4 tests) 20ms
 âœ“ src/ui/privacy/GeminiPrivacyNotice.test.tsx (2 tests) 34ms
 âœ“ src/ui/components/ConsoleSummaryDisplay.test.tsx (3 tests) 23ms
 âœ“ src/ui/components/CliSpinner.test.tsx (1 test) 21ms
 âœ“ src/ui/hooks/useGitBranchName.test.tsx (7 tests) 31ms
 âœ“ src/ui/components/DebugProfiler.test.tsx (15 tests) 21ms
 âœ“ src/ui/contexts/SessionContext.test.tsx (4 tests) 19ms
stdout | src/commands/extensions/new.test.ts > extensions new command > should create directory when no template is provided
Successfully created new extension at /some/path.
You can install this using "gemini extensions link /some/path" to test it out.

stdout | src/commands/extensions/new.test.ts > extensions new command > should create directory and copy files when path does not exist
Successfully created new extension from template "context" at /some/path.
You can install this using "gemini extensions link /some/path" to test it out.

 âœ“ src/ui/contexts/ScrollProvider.test.tsx (9 tests) 20ms
 âœ“ src/ui/hooks/useAnimatedScrollbar.test.tsx (7 tests) 28ms
 âœ“ src/commands/extensions/new.test.ts (4 tests) 15ms
 âœ“ src/ui/components/ConfigInitDisplay.test.tsx (4 tests) 20ms
 âœ“ src/ui/components/UpdateNotification.test.tsx (1 test) 18ms
 âœ“ src/ui/hooks/useTimer.test.tsx (8 tests) 15ms
 âœ“ src/ui/components/CopyModeWarning.test.tsx (2 tests) 32ms
 âœ“ src/ui/commands/chatCommand.test.ts (33 tests) 63ms
 âœ“ src/ui/contexts/ScrollProvider.drag.test.tsx (6 tests) 18ms
 âœ“ src/ui/hooks/useSessionBrowser.test.ts (7 tests) 17ms
 âœ“ src/ui/hooks/useFocus.test.tsx (6 tests) 22ms
stdout | src/commands/extensions/install.test.ts > handleInstall > should install an extension from a http source
Extension "http-extension" installed successfully and enabled.

stdout | src/commands/extensions/install.test.ts > handleInstall > should install an extension from a https source
Extension "https-extension" installed successfully and enabled.

stdout | src/commands/extensions/install.test.ts > handleInstall > should install an extension from a git source
Extension "git-extension" installed successfully and enabled.

stdout | src/commands/extensions/install.test.ts > handleInstall > should install an extension from a sso source
Extension "sso-extension" installed successfully and enabled.

stdout | src/commands/extensions/install.test.ts > handleInstall > should install an extension from a local path
Extension "local-extension" installed successfully and enabled.

 âœ“ src/commands/extensions/install.test.ts (8 tests) 16ms
 âœ“ src/ui/components/ContextUsageDisplay.test.tsx (3 tests) 14ms
stderr | src/ui/utils/commandUtils.test.ts > commandUtils > getUrlOpenCommand > on unmatched OS > should return xdg-open
Unknown platform: unmatched. Attempting to open URLs with: xdg-open.

 âœ“ src/ui/utils/commandUtils.test.ts (30 tests) 124ms
 âœ“ src/ui/hooks/useMouse.test.ts (4 tests) 11ms
 âœ“ src/ui/hooks/useBanner.test.ts (6 tests) 13ms
 âœ“ src/ui/hooks/useMcpStatus.test.tsx (4 tests) 11ms
 âœ“ src/config/extensions/extensionEnablement.test.ts (48 tests) 12ms
 âœ“ src/ui/hooks/useFlickerDetector.test.ts (6 tests) 14ms
 âœ“ src/ui/hooks/useBatchedScroll.test.ts (7 tests) 17ms
 âœ“ src/ui/hooks/useModelCommand.test.tsx (3 tests) 11ms
 âœ“ src/ui/commands/agentsCommand.test.ts (20 tests) 13ms
(node:76033) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 exit listeners added to [process]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
(node:76033) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 SIGTERM listeners added to [process]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(node:76033) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 SIGINT listeners added to [process]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
 âœ“ src/ui/utils/terminalCapabilityManager.test.ts (14 tests) 6ms
 âœ“ src/utils/sandboxUtils.test.ts (17 tests) 7ms
stderr | src/ui/themes/color-utils.test.ts > Color Utils > resolveColor > should return undefined for invalid colors
[ColorUtils] Could not resolve color "invalidcolor" to an Ink-compatible format.
[ColorUtils] Could not resolve color "notacolor" to an Ink-compatible format.
[ColorUtils] Could not resolve color "" to an Ink-compatible format.

stderr | src/ui/themes/color-utils.test.ts > Color Utils > Consistency between validation and resolution > should have consistent behavior between isValidColor and resolveColor
[ColorUtils] Could not resolve color "invalidcolor" to an Ink-compatible format.
[ColorUtils] Could not resolve color "notacolor" to an Ink-compatible format.
[ColorUtils] Could not resolve color "" to an Ink-compatible format.

 âœ“ src/ui/themes/color-utils.test.ts (27 tests) 7ms
 âœ“ src/commands/extensions/link.test.ts (5 tests) 5ms
 âœ“ src/ui/components/shared/vim-buffer-actions.test.ts (74 tests) 10ms
 âœ“ src/commands/extensions/uninstall.test.ts (9 tests) 6ms
 âœ“ src/services/prompt-processors/atFileProcessor.test.ts (11 tests) 10ms
 â¯ src/config/extensions/extensionUpdates.test.ts (5 tests | 1 failed) 20ms
   Ã— extensionUpdates > getMissingSettings > should return empty list if all settings are present 8ms
     â†’ expected [ { name: 's2', â€¦(3) } ] to deeply equal []
   âœ“ extensionUpdates > getMissingSettings > should identify missing non-sensitive settings 1ms
   âœ“ extensionUpdates > getMissingSettings > should identify missing sensitive settings 1ms
   âœ“ extensionUpdates > getMissingSettings > should respect settings present in workspace 1ms
   âœ“ extensionUpdates > ExtensionManager integration > should warn about missing settings after update 8ms
 âœ“ src/ui/commands/ideCommand.test.ts (8 tests) 9ms
 âœ“ src/config/extensions/storage.test.ts (5 tests) 10ms
 âœ“ src/commands/extensions/update.test.ts (8 tests) 7ms
 âœ“ src/ui/commands/directoryCommand.test.tsx (20 tests) 9ms
 âœ“ src/ui/commands/memoryCommand.test.ts (11 tests) 11ms
 âœ“ src/commands/extensions/list.test.ts (5 tests) 5ms
 âœ“ src/ui/commands/terminalSetupCommand.test.ts (5 tests) 3ms
 âœ“ src/config/extensions/consent.test.ts (20 tests) 71ms
 âœ“ src/ui/commands/permissionsCommand.test.ts (7 tests) 6ms
 âœ“ src/ui/utils/computeStats.test.ts (12 tests) 4ms
stdout | src/ui/commands/copyCommand.test.ts > copyCommand > should handle clipboard copy error
Clipboard access denied

stdout | src/ui/commands/copyCommand.test.ts > copyCommand > should handle non-Error clipboard errors
String error

 âœ“ src/ui/commands/copyCommand.test.ts (11 tests) 14ms
 âœ“ src/utils/sessions.test.ts (17 tests) 7ms
 âœ“ src/ui/commands/mcpCommand.test.ts (5 tests) 15ms
 âœ“ src/config/extensions/update.test.ts (10 tests) 5ms
 âœ“ src/services/CommandService.test.ts (11 tests) 6ms
 âœ“ src/config/sandboxConfig.test.ts (27 tests) 6ms
 âœ“ src/ui/utils/textOutput.test.ts (10 tests) 6ms
 âœ“ src/utils/installationInfo.test.ts (17 tests) 6ms
stdout | src/commands/extensions/configure.test.ts > extensions configure command > Extension configuration (all settings) > should configure all settings for an extension
Configuring settings for "test-ext"...

stdout | src/commands/extensions/configure.test.ts > extensions configure command > Extension configuration (all settings) > should verify overwrite if setting is already set
Configuring settings for "test-ext"...

stdout | src/commands/extensions/configure.test.ts > extensions configure command > Extension configuration (all settings) > should note if setting is configured in workspace
Configuring settings for "test-ext"...

stdout | src/commands/extensions/configure.test.ts > extensions configure command > Extension configuration (all settings) > should note if setting is configured in workspace
Note: Setting "Setting 1" is already configured in the workspace scope.

stdout | src/commands/extensions/configure.test.ts > extensions configure command > Extension configuration (all settings) > should skip update if user denies overwrite
Configuring settings for "test-ext"...

stdout | src/commands/extensions/configure.test.ts > extensions configure command > Extension configuration (all settings) > should skip update if user denies overwrite
Note: Setting "Setting 1" is already configured in the workspace scope.

stdout | src/commands/extensions/configure.test.ts > extensions configure command > Configure all extensions > should configure settings for all installed extensions

Configuring settings for "ext1"...

stdout | src/commands/extensions/configure.test.ts > extensions configure command > Configure all extensions > should configure settings for all installed extensions

Configuring settings for "ext2"...

stdout | src/commands/extensions/configure.test.ts > extensions configure command > Configure all extensions > should log if no extensions installed
No extensions installed.

 âœ“ src/ui/commands/compressCommand.test.ts (5 tests) 7ms
 âœ“ src/ui/utils/directoryUtils.test.ts (17 tests | 1 skipped) 4ms
 âœ“ src/commands/extensions/configure.test.ts (9 tests) 22ms
 âœ“ src/deferred.test.ts (9 tests) 4ms
 âœ“ src/ui/utils/formatters.test.ts (28 tests) 7ms
 âœ“ src/ui/utils/highlight.test.ts (21 tests) 4ms
 âœ“ src/ui/utils/input.test.ts (6 tests) 2ms
 âœ“ src/ui/utils/markdownUtilities.test.ts (7 tests) 3ms
 âœ“ src/ui/utils/textUtils.test.ts (16 tests) 16ms
 âœ“ src/ui/utils/updateCheck.test.ts (10 tests) 5ms
 âœ“ src/ui/utils/terminalSetup.test.ts (9 tests) 6ms
 âœ“ src/ui/hooks/useRewind.test.ts (5 tests) 14ms
 âœ“ src/ui/hooks/useTurnActivityMonitor.test.ts (4 tests) 13ms
 âœ“ src/ui/hooks/useShellInactivityStatus.test.ts (4 tests) 24ms
 âœ“ src/ui/utils/mouse.test.ts (17 tests) 4ms
 âœ“ src/services/prompt-processors/injectionParser.test.ts (21 tests) 4ms
 âœ“ src/ui/hooks/useMouseClick.test.ts (2 tests) 16ms
 âœ“ src/config/extensions/github_fetch.test.ts (8 tests) 4ms
 âœ“ src/ui/utils/clipboardUtils.windows.test.ts (1 test) 2ms
 âœ“ src/ui/hooks/useToolSchedulerFacade.test.ts (2 tests) 10ms
 âœ“ src/utils/agentUtils.test.ts (8 tests) 2ms
stderr | src/ui/themes/theme-manager.test.ts > ThemeManager > when loading a theme from a file > should not load a theme if the file does not exist
Theme file at "./my-theme.json" is outside your home directory. Only load themes from trusted sources.

stderr | src/ui/themes/theme-manager.test.ts > ThemeManager > when loading a theme from a file > should not load a theme from a file with invalid JSON
Theme file at "./my-theme.json" is outside your home directory. Only load themes from trusted sources.

 âœ“ src/ui/utils/ui-sizing.test.ts (10 tests) 3ms
 âœ“ src/ui/themes/theme-manager.test.ts (12 tests) 9ms
 âœ“ src/ui/commands/statsCommand.test.ts (4 tests) 6ms
 âœ“ src/commands/mcp/list.test.ts (4 tests) 5ms
 âœ“ src/ui/hooks/useTips.test.ts (3 tests) 23ms
 âœ“ src/commands/skills/install.test.ts (6 tests) 5ms
 âœ“ src/ui/commands/toolsCommand.test.ts (4 tests) 8ms
 âœ“ src/ui/hooks/usePrivacySettings.test.tsx (1 test) 10ms
 âœ“ src/config/keyBindings.test.ts (6 tests) 9ms
 âœ“ src/utils/deepMerge.test.ts (17 tests) 4ms
 âœ“ src/ui/commands/policiesCommand.test.ts (4 tests) 6ms
 â¯ src/config/extension-manager-scope.test.ts (3 tests | 3 failed) 11ms
   Ã— ExtensionManager Settings Scope > should prioritize workspace settings over user settings and report correct scope 9ms
     â†’ expected undefined to be defined
   Ã— ExtensionManager Settings Scope > should fallback to user settings if workspace setting is missing 1ms
     â†’ expected undefined to be defined
   Ã— ExtensionManager Settings Scope > should report unset if neither is present 1ms
     â†’ expected undefined to be defined
 âœ“ src/utils/updateEventEmitter.test.ts (1 test) 3ms
 âœ“ src/zed-integration/fileSystemService.test.ts (4 tests) 4ms
 âœ“ src/utils/readStdin_safety.test.ts (2 tests) 4ms
 âœ“ src/config/extension-manager-skills.test.ts (3 tests) 92ms
stdout | src/ui/commands/aboutCommand.test.ts > aboutCommand > should call addItem with all version info
AboutCommand: Retrieved cached Google account { cachedAccount: [32m'test-email@example.com'[39m }

stdout | src/ui/commands/aboutCommand.test.ts > aboutCommand > should show the correct sandbox environment variable
AboutCommand: Retrieved cached Google account { cachedAccount: [32m'test-email@example.com'[39m }

stdout | src/ui/commands/aboutCommand.test.ts > aboutCommand > should show sandbox-exec profile when applicable
AboutCommand: Retrieved cached Google account { cachedAccount: [32m'test-email@example.com'[39m }

stdout | src/ui/commands/aboutCommand.test.ts > aboutCommand > should not show ide client when it is not detected
AboutCommand: Retrieved cached Google account { cachedAccount: [32m'test-email@example.com'[39m }

stdout | src/ui/commands/aboutCommand.test.ts > aboutCommand > should display the tier when getUserTierName returns a value
AboutCommand: Retrieved cached Google account { cachedAccount: [32m'test-email@example.com'[39m }

 âœ“ src/utils/persistentState.test.ts (5 tests) 4ms
 âœ“ src/ui/commands/aboutCommand.test.ts (6 tests) 10ms
 âœ“ src/utils/envVarResolver.test.ts (16 tests) 4ms
 âœ“ src/ui/contexts/ToolActionsContext.test.tsx (4 tests) 42ms
 âœ“ src/commands/skills/enable.test.ts (4 tests) 4ms
 âœ“ src/ui/commands/authCommand.test.ts (8 tests) 8ms
 âœ“ src/config/settings_repro.test.ts (1 test) 6ms
 âœ“ src/config/settings_validation_warning.test.ts (3 tests) 5ms
 âœ“ src/utils/commands.test.ts (12 tests) 3ms
 âœ“ src/commands/skills/list.test.ts (5 tests) 5ms
 âœ“ src/config/extension-manager-agents.test.ts (2 tests) 49ms
 âœ“ src/commands/skills/disable.test.ts (4 tests) 3ms
 âœ“ src/utils/events.test.ts (2 tests) 3ms
 â¯ src/utils/skillUtils.test.ts (3 tests | 1 failed) 73ms
   âœ“ skillUtils > should successfully install from a .skill file 6ms
   Ã— skillUtils > should successfully install from a local directory 58ms
     â†’ expected undefined to be true // Object.is equality
   âœ“ skillUtils > should abort installation if consent is rejected 8ms
 âœ“ src/ui/commands/initCommand.test.ts (3 tests) 5ms
 âœ“ src/core/initializer.test.ts (5 tests) 8ms
 âœ“ src/config/extensions/variables.test.ts (10 tests) 3ms
 âœ“ src/config/skills-backward-compatibility.test.ts (5 tests) 116ms
 â¯ src/commands/extensions.test.tsx (3 tests | 1 failed) 7ms
   Ã— extensionsCommand > should have correct command and aliases 5ms
     â†’ expected 'Manage Gemini CLI extensions.' to be 'Manage Codefly extensions.' // Object.is equality
   âœ“ extensionsCommand > should register all subcommands in builder 1ms
   âœ“ extensionsCommand > should have a handler that does nothing 0ms
 âœ“ src/ui/commands/docsCommand.test.ts (3 tests) 5ms
 âœ“ src/ui/commands/clearCommand.test.ts (2 tests) 5ms
 âœ“ src/utils/math.test.ts (7 tests) 2ms
 âœ“ src/utils/checks.test.ts (3 tests) 3ms
 âœ“ src/ui/commands/helpCommand.test.ts (2 tests) 4ms
 âœ“ src/utils/dialogScopeUtils.test.ts (4 tests) 2ms
 âœ“ src/services/prompt-processors/argumentProcessor.test.ts (2 tests) 3ms
 âœ“ src/ui/commands/bugCommand.test.ts (3 tests) 6ms
 âœ“ src/utils/windowTitle.test.ts (14 tests) 4ms
 âœ“ src/commands/skills/uninstall.test.ts (5 tests) 7ms
 âœ“ src/utils/startupWarnings.test.ts (4 tests) 4ms
 âœ“ src/core/auth.test.ts (3 tests) 3ms
 âœ“ src/ui/components/ApprovalModeIndicator.test.tsx (4 tests) 24ms
 âœ“ src/ui/auth/LoginWithGoogleRestartDialog.test.tsx (4 tests) 36ms
 âœ“ src/ui/commands/editorCommand.test.ts (2 tests) 3ms
 âœ“ src/ui/components/AdminSettingsChangedDialog.test.tsx (4 tests) 32ms
 âœ“ src/ui/commands/modelCommand.test.ts (3 tests) 4ms
 âœ“ src/ui/commands/quitCommand.test.ts (1 test) 8ms
 âœ“ src/ui/commands/themeCommand.test.ts (2 tests) 4ms
 âœ“ src/commands/utils.test.ts (2 tests) 3ms
 âœ“ src/ui/commands/privacyCommand.test.ts (2 tests) 4ms
 âœ“ src/ui/commands/settingsCommand.test.ts (2 tests) 3ms
 âœ“ src/config/settingPaths.test.ts (2 tests) 2ms
 âœ“ src/utils/resolvePath.test.ts (7 tests) 2ms
 âœ“ src/ui/commands/corgiCommand.test.ts (2 tests) 8ms
 âœ“ src/config/auth.test.ts (6 tests) 2ms
 âœ“ src/commands/skills.test.tsx (3 tests) 3ms
 âœ“ src/ui/utils/InlineMarkdownRenderer.test.ts (7 tests) 4ms
 âœ“ src/ui/themes/theme.test.ts (14 tests) 3ms
 âœ“ src/core/theme.test.ts (3 tests) 2ms
 âœ“ src/test-utils/mockCommandContext.test.ts (3 tests) 3ms
 âœ“ src/ui/utils/displayUtils.test.ts (8 tests) 3ms
 âœ“ src/ui/components/HookStatusDisplay.test.tsx (4 tests) 15ms
 âœ“ src/utils/processUtils.test.ts (1 test) 2ms

â¯â¯â¯â¯â¯â¯ Failed Tests 46 â¯â¯â¯â¯â¯â¯â¯

 FAIL  src/validateNonInterActiveAuth.test.ts > validateNonInterActiveAuth > uses LOGIN_WITH_GOOGLE if GOOGLE_GENAI_USE_GCA is set
Error: process.exit(41) called
 â¯ process.<anonymous> src/validateNonInterActiveAuth.test.ts:60:15
     58|       .spyOn(process, 'exit')
     59|       .mockImplementation((code?: string | number | null | undefined) â€¦
     60|         throw new Error(`process.exit(${code}) called`);
       |               ^
     61|       });
     62|     vi.spyOn(auth, 'validateAuthMethod').mockReturnValue(null);
 â¯ validateNonInteractiveAuth src/validateNonInterActiveAuth.ts:75:15
 â¯ src/validateNonInterActiveAuth.test.ts:134:5

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/46]â¯

 FAIL  src/commands/extensions.test.tsx > extensionsCommand > should have correct command and aliases
AssertionError: expected 'Manage Gemini CLI extensions.' to be 'Manage Codefly extensions.' // Object.is equality

Expected: [32m"Manage [7mCodefly[27m extensions."[39m
Received: [31m"Manage [7mGemini CLI[27m extensions."[39m

 â¯ src/commands/extensions.test.tsx:42:40
     40|     expect(extensionsCommand.command).toBe('extensions <command>');
     41|     expect(extensionsCommand.aliases).toEqual(['extension']);
     42|     expect(extensionsCommand.describe).toBe('Manage Codefly extensionsâ€¦
       |                                        ^
     43|   });
     44| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/46]â¯

 FAIL  src/config/config.test.ts > loadCliConfig model selection > uses the default gemini model if nothing is set
AssertionError: expected 'auto-gemini-3' to be 'auto-gemini-2.5' // Object.is equality

Expected: [32m"auto-gemini-[7m2.5[27m"[39m
Received: [31m"auto-gemini-[7m3[27m"[39m

 â¯ src/config/config.test.ts:1463:31
    1461|     );
    1462| 
    1463|     expect(config.getModel()).toBe('auto-gemini-2.5');
       |                               ^
    1464|   });
    1465| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/46]â¯

 FAIL  src/config/config.test.ts > loadCliConfig model selection > selects the default auto model if provided via auto alias
AssertionError: expected 'auto-gemini-3' to be 'auto-gemini-2.5' // Object.is equality

Expected: [32m"auto-gemini-[7m2.5[27m"[39m
Received: [31m"auto-gemini-[7m3[27m"[39m

 â¯ src/config/config.test.ts:1507:31
    1505|     );
    1506| 
    1507|     expect(config.getModel()).toBe('auto-gemini-2.5');
       |                               ^
    1508|   });
    1509| });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/46]â¯

 FAIL  src/config/extension-manager-scope.test.ts > ExtensionManager Settings Scope > should prioritize workspace settings over user settings and report correct scope
AssertionError: expected undefined to be defined
 â¯ src/config/extension-manager-scope.test.ts:117:23
    115|     const extension = extensions.find((e) => e.name === extensionName);
    116| 
    117|     expect(extension).toBeDefined();
       |                       ^
    118| 
    119|     // Verify resolved settings

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/46]â¯

 FAIL  src/config/extension-manager-scope.test.ts > ExtensionManager Settings Scope > should fallback to user settings if workspace setting is missing
AssertionError: expected undefined to be defined
 â¯ src/config/extension-manager-scope.test.ts:155:23
    153|     const extension = extensions.find((e) => e.name === extensionName);
    154| 
    155|     expect(extension).toBeDefined();
       |                       ^
    156| 
    157|     // Verify resolved settings

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/46]â¯

 FAIL  src/config/extension-manager-scope.test.ts > ExtensionManager Settings Scope > should report unset if neither is present
AssertionError: expected undefined to be defined
 â¯ src/config/extension-manager-scope.test.ts:191:23
    189|     const extension = extensions.find((e) => e.name === extensionName);
    190| 
    191|     expect(extension).toBeDefined();
       |                       ^
    192| 
    193|     // Verify resolved settings

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/46]â¯

 FAIL  src/config/extension.test.ts > extension tests > loadExtensions > should load context file path when GEMINI.md is present
AssertionError: expected [] to deeply equal [ Array(1) ]

[32m- Expected[39m
[31m+ Received[39m

[32m- [[39m
[32m-   "/var/folders/gg/kcq66g8s00q1cckyxtqfr0pr0000gn/T/gemini-cli-test-home-tWlx0r/.codefly/extensions/ext1/GEMINI.md",[39m
[32m- ][39m
[31m+ [][39m

 â¯ src/config/extension.test.ts:259:34
    257|       const ext1 = extensions.find((e) => e.name === 'ext1');
    258|       const ext2 = extensions.find((e) => e.name === 'ext2');
    259|       expect(ext1?.contextFiles).toEqual([
       |                                  ^
    260|         path.join(userExtensionsDir, 'ext1', 'GEMINI.md'),
    261|       ]);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/46]â¯

 FAIL  src/config/extension.test.ts > extension tests > installExtension > should add the workspace to trusted folders if user consents
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 â¯ src/config/extension.test.ts:1193:49
    1191|         type: 'local',
    1192|       });
    1193|       expect(fs.existsSync(trustedFoldersPath)).toBe(true);
       |                                                 ^
    1194|       const trustedFolders = JSON.parse(
    1195|         fs.readFileSync(trustedFoldersPath, 'utf-8'),

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/46]â¯

 FAIL  src/utils/skillUtils.test.ts > skillUtils > should successfully install from a local directory
AssertionError: expected undefined to be true // Object.is equality

[32m- Expected:[39m 
true

[31m+ Received:[39m 
undefined

 â¯ src/utils/skillUtils.test.ts:79:44
     77|     const installedPath = path.join(tempDir, '.gemini/skills', 'test-sâ€¦
     78|     const installedExists = await fs.stat(installedPath).catch(() => nâ€¦
     79|     expect(installedExists?.isDirectory()).toBe(true);
       |                                            ^
     80|   });
     81| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[10/46]â¯

 FAIL  src/config/extensions/extensionUpdates.test.ts > extensionUpdates > getMissingSettings > should return empty list if all settings are present
AssertionError: expected [ { name: 's2', â€¦(3) } ] to deeply equal []

[32m- Expected[39m
[31m+ Received[39m

[32m- [][39m
[31m+ [[39m
[31m+   {[39m
[31m+     "description": "d2",[39m
[31m+     "envVar": "VAR2",[39m
[31m+     "name": "s2",[39m
[31m+     "sensitive": true,[39m
[31m+   },[39m
[31m+ ][39m

 â¯ src/config/extensions/extensionUpdates.test.ts:163:23
    161|         tempWorkspaceDir,
    162|       );
    163|       expect(missing).toEqual([]);
       |                       ^
    164|     });
    165| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[11/46]â¯

 FAIL  src/ui/auth/AuthDialog.test.tsx > AuthDialog > Snapshots > renders correctly with default props
Error: Snapshot `AuthDialog > Snapshots > renders correctly with default props 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -2,15 +2,14 @@[39m
[2m  â”‚                                                                                                                      â”‚[22m
[2m  â”‚ ? Get started                                                                                                        â”‚[22m
[2m  â”‚                                                                                                                      â”‚[22m
[2m  â”‚   How would you like to authenticate for this project?                                                               â”‚[22m
[2m  â”‚                                                                                                                      â”‚[22m
[32m- â”‚   (selected) Login with Googl(not selected) Use Gemini API Ke(not selected) Vertex A[7m(not selected) OpenAI Compatible â”‚[27m[39m
[32m- [7mâ”‚                                                                                        [27m                              â”‚[39m
[31m+ â”‚   (selected) Login with Googl[7me[27m(not selected) Use Gemini API Ke[7my[27m(not selected) Vertex A[7mI[27m                              â”‚[39m
[2m  â”‚                                                                                                                      â”‚[22m
[2m  â”‚   (Use Enter to select)                                                                                              â”‚[22m
[2m  â”‚                                                                                                                      â”‚[22m
[32m- â”‚   Terms of Services and Privacy Notice for [7mCodefly   [27m                                                                â”‚[39m
[31m+ â”‚   Terms of Services and Privacy Notice for [7mGemini CLI[27m                                                                â”‚[39m
[2m  â”‚                                                                                                                      â”‚[22m
[32m- â”‚   https://github.com/[7mluobintianya/codefly[27m-cli/blob/main/docs/tos-privacy.md                                          â”‚[39m
[31m+ â”‚   https://github.com/[7mgoogle-gemini/gemini[27m-cli/blob/main/docs/tos-privacy.md                                          â”‚[39m
[2m  â”‚                                                                                                                      â”‚[22m
[2m  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯"[22m

 â¯ src/ui/auth/AuthDialog.test.tsx:388:27
    386|     it('renders correctly with default props', () => {
    387|       const { lastFrame } = renderWithProviders(<AuthDialog {...props}â€¦
    388|       expect(lastFrame()).toMatchSnapshot();
       |                           ^
    389|     });
    390| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[12/46]â¯

 FAIL  src/ui/auth/AuthDialog.test.tsx > AuthDialog > Snapshots > renders correctly with auth error
Error: Snapshot `AuthDialog > Snapshots > renders correctly with auth error 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -2,17 +2,16 @@[39m
[2m  â”‚                                                                                                                      â”‚[22m
[2m  â”‚ ? Get started                                                                                                        â”‚[22m
[2m  â”‚                                                                                                                      â”‚[22m
[2m  â”‚   How would you like to authenticate for this project?                                                               â”‚[22m
[2m  â”‚                                                                                                                      â”‚[22m
[32m- â”‚   (selected) Login with Googl(not selected) Use Gemini API Ke(not selected) Vertex A[7m(not selected) OpenAI Compatible â”‚[27m[39m
[32m- [7mâ”‚                                                                                        [27m                              â”‚[39m
[31m+ â”‚   (selected) Login with Googl[7me[27m(not selected) Use Gemini API Ke[7my[27m(not selected) Vertex A[7mI[27m                              â”‚[39m
[2m  â”‚                                                                                                                      â”‚[22m
[2m  â”‚   Something went wrong                                                                                               â”‚[22m
[2m  â”‚                                                                                                                      â”‚[22m
[2m  â”‚   (Use Enter to select)                                                                                              â”‚[22m
[2m  â”‚                                                                                                                      â”‚[22m
[32m- â”‚   Terms of Services and Privacy Notice for [7mCodefly   [27m                                                                â”‚[39m
[31m+ â”‚   Terms of Services and Privacy Notice for [7mGemini CLI[27m                                                                â”‚[39m
[2m  â”‚                                                                                                                      â”‚[22m
[32m- â”‚   https://github.com/[7mluobintianya/codefly[27m-cli/blob/main/docs/tos-privacy.md                                          â”‚[39m
[31m+ â”‚   https://github.com/[7mgoogle-gemini/gemini[27m-cli/blob/main/docs/tos-privacy.md                                          â”‚[39m
[2m  â”‚                                                                                                                      â”‚[22m
[2m  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯"[22m

 â¯ src/ui/auth/AuthDialog.test.tsx:394:27
    392|       props.authError = 'Something went wrong';
    393|       const { lastFrame } = renderWithProviders(<AuthDialog {...props}â€¦
    394|       expect(lastFrame()).toMatchSnapshot();
       |                           ^
    395|     });
    396| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[13/46]â¯

 FAIL  src/ui/auth/AuthDialog.test.tsx > AuthDialog > Snapshots > renders correctly with enforced auth type
Error: Snapshot `AuthDialog > Snapshots > renders correctly with enforced auth type 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -6,10 +6,10 @@[39m
[2m  â”‚                                                                                                                      â”‚[22m
[2m  â”‚   (selected) Use Gemini API Key                                                                                      â”‚[22m
[2m  â”‚                                                                                                                      â”‚[22m
[2m  â”‚   (Use Enter to select)                                                                                              â”‚[22m
[2m  â”‚                                                                                                                      â”‚[22m
[32m- â”‚   Terms of Services and Privacy Notice for [7mCodefly   [27m                                                                â”‚[39m
[31m+ â”‚   Terms of Services and Privacy Notice for [7mGemini CLI[27m                                                                â”‚[39m
[2m  â”‚                                                                                                                      â”‚[22m
[32m- â”‚   https://github.com/[7mluobintianya/codefly[27m-cli/blob/main/docs/tos-privacy.md                                          â”‚[39m
[31m+ â”‚   https://github.com/[7mgoogle-gemini/gemini[27m-cli/blob/main/docs/tos-privacy.md                                          â”‚[39m
[2m  â”‚                                                                                                                      â”‚[22m
[2m  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯"[22m

 â¯ src/ui/auth/AuthDialog.test.tsx:400:27
    398|       props.settings.merged.security.auth.enforcedType = AuthType.USE_â€¦
    399|       const { lastFrame } = renderWithProviders(<AuthDialog {...props}â€¦
    400|       expect(lastFrame()).toMatchSnapshot();
       |                           ^
    401|     });
    402|   });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[14/46]â¯

 FAIL  src/ui/components/AlternateBufferQuittingDisplay.test.tsx > AlternateBufferQuittingDisplay > renders with active and pending tool messages
Error: Snapshot `AlternateBufferQuittingDisplay > renders with active and pending tool messages > with_history_and_pending 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -1,19 +1,19 @@[39m
[2m  "[22m
[32m-  [7mâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[27m[39m
[32m- [7mâ–‘â–‘â–‘â–ˆâ–ˆâ–ˆ     [27m â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘[7mâ–‘[27mâ–ˆâ–ˆâ–ˆ[39m
[31m+  [7m â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[27m[39m
[31m+  â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆ[39m
[32m- [7m  â–‘â–‘â–‘[27mâ–ˆâ–ˆâ–ˆ   [7mâ–ˆâ–ˆâ–ˆ     â–‘â–‘â–‘[27m[39m
[32m-     â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆ[39m
[32m- [7m     â–ˆâ–ˆâ–ˆâ–‘ â–‘â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆ[27mâ–ˆâ–ˆâ–ˆ[39m
[31m+ â–ˆâ–ˆâ–ˆ   [7m â–‘â–‘â–‘[27m[39m
[31m+ â–ˆâ–ˆâ–ˆ[39m
[31m+ â–ˆâ–ˆâ–ˆ[39m
[32m- [7m   [27mâ–ˆâ–ˆâ–ˆ[7mâ–‘[27m   [7mâ–‘â–‘â–ˆâ–ˆâ–ˆ  â–‘â–‘â–ˆâ–ˆâ–ˆ[27m[39m
[32m-  â–ˆâ–ˆâ–ˆâ–‘      â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[39m
[32m- [7mâ–‘â–‘â–‘        [27m â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[7mâ–‘[27m[39m
[31m+ â–ˆâ–ˆâ–ˆ   [7m â–ˆâ–ˆâ–ˆ[27m[39m
[31m+ â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[39m
[31m+  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[39m

[2m  Tips for getting started:[22m
[2m  1. Ask questions, edit files, or run commands.[22m
[2m  2. Be specific for the best results.[22m
[32m- 3. Create [7mGEMINI[27m.md files to customize your interactions with [7mGemini[27m.[39m
[31m+ 3. Create [7mCODEFLY[27m.md files to customize your interactions with [7mCodefly[27m.[39m
[2m  4. /help for more information.[22m
[2m  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[22m
[2m  â”‚ âœ“  tool1 Description for tool 1                                             â”‚[22m
[2m  â”‚                                                                             â”‚[22m
[2m  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯[22m

 â¯ src/ui/components/AlternateBufferQuittingDisplay.test.tsx:121:25
    119|       },
    120|     );
    121|     expect(lastFrame()).toMatchSnapshot('with_history_and_pending');
       |                         ^
    122|   });
    123| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[15/46]â¯

 FAIL  src/ui/components/AlternateBufferQuittingDisplay.test.tsx > AlternateBufferQuittingDisplay > renders with empty history and no pending items
Error: Snapshot `AlternateBufferQuittingDisplay > renders with empty history and no pending items > empty 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[2m  "[22m
[32m-  [7mâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[27m[39m
[32m- [7mâ–‘â–‘â–‘â–ˆâ–ˆâ–ˆ     [27m â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘[7mâ–‘[27mâ–ˆâ–ˆâ–ˆ[39m
[31m+  [7m â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[27m[39m
[31m+  â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆ[39m
[32m- [7m  â–‘â–‘â–‘[27mâ–ˆâ–ˆâ–ˆ   [7mâ–ˆâ–ˆâ–ˆ     â–‘â–‘â–‘[27m[39m
[32m-     â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆ[39m
[32m- [7m     â–ˆâ–ˆâ–ˆâ–‘ â–‘â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆ[27mâ–ˆâ–ˆâ–ˆ[39m
[31m+ â–ˆâ–ˆâ–ˆ   [7m â–‘â–‘â–‘[27m[39m
[31m+ â–ˆâ–ˆâ–ˆ[39m
[31m+ â–ˆâ–ˆâ–ˆ[39m
[32m- [7m   [27mâ–ˆâ–ˆâ–ˆ[7mâ–‘[27m   [7mâ–‘â–‘â–ˆâ–ˆâ–ˆ  â–‘â–‘â–ˆâ–ˆâ–ˆ[27m[39m
[32m-  â–ˆâ–ˆâ–ˆâ–‘      â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[39m
[32m- [7mâ–‘â–‘â–‘        [27m â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[7mâ–‘[27m[39m
[31m+ â–ˆâ–ˆâ–ˆ   [7m â–ˆâ–ˆâ–ˆ[27m[39m
[31m+ â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[39m
[31m+  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[39m

[2m  Tips for getting started:[22m
[2m  1. Ask questions, edit files, or run commands.[22m
[2m  2. Be specific for the best results.[22m
[32m- 3. Create [7mGEMINI[27m.md files to customize your interactions with [7mGemini[27m.[39m
[31m+ 3. Create [7mCODEFLY[27m.md files to customize your interactions with [7mCodefly[27m.[39m
[2m  4. /help for more information."[22m

 â¯ src/ui/components/AlternateBufferQuittingDisplay.test.tsx:136:25
    134|       },
    135|     );
    136|     expect(lastFrame()).toMatchSnapshot('empty');
       |                         ^
    137|   });
    138| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[16/46]â¯

 FAIL  src/ui/components/AlternateBufferQuittingDisplay.test.tsx > AlternateBufferQuittingDisplay > renders with history but no pending items
Error: Snapshot `AlternateBufferQuittingDisplay > renders with history but no pending items > with_history_no_pending 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -1,19 +1,19 @@[39m
[2m  "[22m
[32m-  [7mâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[27m[39m
[32m- [7mâ–‘â–‘â–‘â–ˆâ–ˆâ–ˆ     [27m â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘[7mâ–‘[27mâ–ˆâ–ˆâ–ˆ[39m
[31m+  [7m â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[27m[39m
[31m+  â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆ[39m
[32m- [7m  â–‘â–‘â–‘[27mâ–ˆâ–ˆâ–ˆ   [7mâ–ˆâ–ˆâ–ˆ     â–‘â–‘â–‘[27m[39m
[32m-     â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆ[39m
[32m- [7m     â–ˆâ–ˆâ–ˆâ–‘ â–‘â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆ[27mâ–ˆâ–ˆâ–ˆ[39m
[31m+ â–ˆâ–ˆâ–ˆ   [7m â–‘â–‘â–‘[27m[39m
[31m+ â–ˆâ–ˆâ–ˆ[39m
[31m+ â–ˆâ–ˆâ–ˆ[39m
[32m- [7m   [27mâ–ˆâ–ˆâ–ˆ[7mâ–‘[27m   [7mâ–‘â–‘â–ˆâ–ˆâ–ˆ  â–‘â–‘â–ˆâ–ˆâ–ˆ[27m[39m
[32m-  â–ˆâ–ˆâ–ˆâ–‘      â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[39m
[32m- [7mâ–‘â–‘â–‘        [27m â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[7mâ–‘[27m[39m
[31m+ â–ˆâ–ˆâ–ˆ   [7m â–ˆâ–ˆâ–ˆ[27m[39m
[31m+ â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[39m
[31m+  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[39m

[2m  Tips for getting started:[22m
[2m  1. Ask questions, edit files, or run commands.[22m
[2m  2. Be specific for the best results.[22m
[32m- 3. Create [7mGEMINI[27m.md files to customize your interactions with [7mGemini[27m.[39m
[31m+ 3. Create [7mCODEFLY[27m.md files to customize your interactions with [7mCodefly[27m.[39m
[2m  4. /help for more information.[22m
[2m  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[22m
[2m  â”‚ âœ“  tool1 Description for tool 1                                             â”‚[22m
[2m  â”‚                                                                             â”‚[22m
[2m  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯[22m

 â¯ src/ui/components/AlternateBufferQuittingDisplay.test.tsx:151:25
    149|       },
    150|     );
    151|     expect(lastFrame()).toMatchSnapshot('with_history_no_pending');
       |                         ^
    152|   });
    153| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[17/46]â¯

 FAIL  src/ui/components/AlternateBufferQuittingDisplay.test.tsx > AlternateBufferQuittingDisplay > renders with pending items but no history
Error: Snapshot `AlternateBufferQuittingDisplay > renders with pending items but no history > with_pending_no_history 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[2m  "[22m
[32m-  [7mâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[27m[39m
[32m- [7mâ–‘â–‘â–‘â–ˆâ–ˆâ–ˆ     [27m â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘[7mâ–‘[27mâ–ˆâ–ˆâ–ˆ[39m
[31m+  [7m â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[27m[39m
[31m+  â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆ[39m
[32m- [7m  â–‘â–‘â–‘[27mâ–ˆâ–ˆâ–ˆ   [7mâ–ˆâ–ˆâ–ˆ     â–‘â–‘â–‘[27m[39m
[32m-     â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆ[39m
[32m- [7m     â–ˆâ–ˆâ–ˆâ–‘ â–‘â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆ[27mâ–ˆâ–ˆâ–ˆ[39m
[31m+ â–ˆâ–ˆâ–ˆ   [7m â–‘â–‘â–‘[27m[39m
[31m+ â–ˆâ–ˆâ–ˆ[39m
[31m+ â–ˆâ–ˆâ–ˆ[39m
[32m- [7m   [27mâ–ˆâ–ˆâ–ˆ[7mâ–‘[27m   [7mâ–‘â–‘â–ˆâ–ˆâ–ˆ  â–‘â–‘â–ˆâ–ˆâ–ˆ[27m[39m
[32m-  â–ˆâ–ˆâ–ˆâ–‘      â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[39m
[32m- [7mâ–‘â–‘â–‘        [27m â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[7mâ–‘[27m[39m
[31m+ â–ˆâ–ˆâ–ˆ   [7m â–ˆâ–ˆâ–ˆ[27m[39m
[31m+ â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[39m
[31m+  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[39m

[2m  Tips for getting started:[22m
[2m  1. Ask questions, edit files, or run commands.[22m
[2m  2. Be specific for the best results.[22m
[32m- 3. Create [7mGEMINI[27m.md files to customize your interactions with [7mGemini[27m.[39m
[31m+ 3. Create [7mCODEFLY[27m.md files to customize your interactions with [7mCodefly[27m.[39m
[2m  4. /help for more information."[22m

 â¯ src/ui/components/AlternateBufferQuittingDisplay.test.tsx:166:25
    164|       },
    165|     );
    166|     expect(lastFrame()).toMatchSnapshot('with_pending_no_history');
       |                         ^
    167|   });
    168| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[18/46]â¯

 FAIL  src/ui/components/AlternateBufferQuittingDisplay.test.tsx > AlternateBufferQuittingDisplay > renders with a tool awaiting confirmation
Error: Snapshot `AlternateBufferQuittingDisplay > renders with a tool awaiting confirmation > with_confirming_tool 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -1,19 +1,19 @@[39m
[2m  "[22m
[32m-  [7mâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[27m[39m
[32m- [7mâ–‘â–‘â–‘â–ˆâ–ˆâ–ˆ     [27m â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘[7mâ–‘[27mâ–ˆâ–ˆâ–ˆ[39m
[31m+  [7m â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[27m[39m
[31m+  â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆ[39m
[32m- [7m  â–‘â–‘â–‘[27mâ–ˆâ–ˆâ–ˆ   [7mâ–ˆâ–ˆâ–ˆ     â–‘â–‘â–‘[27m[39m
[32m-     â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆ[39m
[32m- [7m     â–ˆâ–ˆâ–ˆâ–‘ â–‘â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆ[27mâ–ˆâ–ˆâ–ˆ[39m
[31m+ â–ˆâ–ˆâ–ˆ   [7m â–‘â–‘â–‘[27m[39m
[31m+ â–ˆâ–ˆâ–ˆ[39m
[31m+ â–ˆâ–ˆâ–ˆ[39m
[32m- [7m   [27mâ–ˆâ–ˆâ–ˆ[7mâ–‘[27m   [7mâ–‘â–‘â–ˆâ–ˆâ–ˆ  â–‘â–‘â–ˆâ–ˆâ–ˆ[27m[39m
[32m-  â–ˆâ–ˆâ–ˆâ–‘      â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[39m
[32m- [7mâ–‘â–‘â–‘        [27m â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[7mâ–‘[27m[39m
[31m+ â–ˆâ–ˆâ–ˆ   [7m â–ˆâ–ˆâ–ˆ[27m[39m
[31m+ â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[39m
[31m+  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[39m

[2m  Tips for getting started:[22m
[2m  1. Ask questions, edit files, or run commands.[22m
[2m  2. Be specific for the best results.[22m
[32m- 3. Create [7mGEMINI[27m.md files to customize your interactions with [7mGemini[27m.[39m
[31m+ 3. Create [7mCODEFLY[27m.md files to customize your interactions with [7mCodefly[27m.[39m
[2m  4. /help for more information.[22m

[2m  Action Required (was prompted):[22m

[2m  ?  confirming_tool Confirming tool description[22m

 â¯ src/ui/components/AlternateBufferQuittingDisplay.test.tsx:205:20
    203|     expect(output).toContain('confirming_tool');
    204|     expect(output).toContain('Confirming tool description');
    205|     expect(output).toMatchSnapshot('with_confirming_tool');
       |                    ^
    206|   });
    207| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[19/46]â¯

 FAIL  src/ui/components/AlternateBufferQuittingDisplay.test.tsx > AlternateBufferQuittingDisplay > renders with user and gemini messages
Error: Snapshot `AlternateBufferQuittingDisplay > renders with user and gemini messages > with_user_gemini_messages 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[2m  "[22m
[32m-  [7mâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[27m[39m
[32m- [7mâ–‘â–‘â–‘â–ˆâ–ˆâ–ˆ     [27m â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘[7mâ–‘[27mâ–ˆâ–ˆâ–ˆ[39m
[31m+  [7m â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[27m[39m
[31m+  â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆ[39m
[32m- [7m  â–‘â–‘â–‘[27mâ–ˆâ–ˆâ–ˆ   [7mâ–ˆâ–ˆâ–ˆ     â–‘â–‘â–‘[27m[39m
[32m-     â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆ[39m
[32m- [7m     â–ˆâ–ˆâ–ˆâ–‘ â–‘â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆ[27mâ–ˆâ–ˆâ–ˆ[39m
[31m+ â–ˆâ–ˆâ–ˆ   [7m â–‘â–‘â–‘[27m[39m
[31m+ â–ˆâ–ˆâ–ˆ[39m
[31m+ â–ˆâ–ˆâ–ˆ[39m
[32m- [7m   [27mâ–ˆâ–ˆâ–ˆ[7mâ–‘[27m   [7mâ–‘â–‘â–ˆâ–ˆâ–ˆ  â–‘â–‘â–ˆâ–ˆâ–ˆ[27m[39m
[32m-  â–ˆâ–ˆâ–ˆâ–‘      â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[39m
[32m- [7mâ–‘â–‘â–‘        [27m â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[7mâ–‘[27m[39m
[31m+ â–ˆâ–ˆâ–ˆ   [7m â–ˆâ–ˆâ–ˆ[27m[39m
[31m+ â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[39m
[31m+  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[39m

[2m  Tips for getting started:[22m
[2m  1. Ask questions, edit files, or run commands.[22m
[2m  2. Be specific for the best results.[22m
[32m- 3. Create [7mGEMINI[27m.md files to customize your interactions with [7mGemini[27m.[39m
[31m+ 3. Create [7mCODEFLY[27m.md files to customize your interactions with [7mCodefly[27m.[39m
[2m  4. /help for more information.[22m

[2m  > Hello Gemini[22m

[2m  âœ¦  Hello User!"[22m

 â¯ src/ui/components/AlternateBufferQuittingDisplay.test.tsx:224:25
    222|       },
    223|     );
    224|     expect(lastFrame()).toMatchSnapshot('with_user_gemini_messages');
       |                         ^
    225|   });
    226| });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[20/46]â¯

 FAIL  src/ui/components/FolderTrustDialog.test.tsx > FolderTrustDialog > should display restart message when isRestarting is true
AssertionError: expected ' â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¦' to contain 'Gemini CLI is restarting'

[32m- Expected[39m
[31m+ Received[39m

[32m- Gemini CLI is restarting[39m
[31m+  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[39m
[31m+  â”‚                                                                                                                    â”‚[39m
[31m+  â”‚ Do you trust this folder?                                                                                          â”‚[39m
[31m+  â”‚ Trusting a folder allows Gemini to execute commands it suggests. This is a security feature to prevent accidental  â”‚[39m
[31m+  â”‚ execution in untrusted directories.                                                                                â”‚[39m
[31m+  â”‚                                                                                                                    â”‚[39m
[31m+  â”‚ â— 1. Trust folder (project)                                                                                        â”‚[39m
[31m+  â”‚   2. Trust parent folder (user)                                                                                    â”‚[39m
[31m+  â”‚   3. Don't trust                                                                                                   â”‚[39m
[31m+  â”‚                                                                                                                    â”‚[39m
[31m+  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯[39m
[31m+[39m
[31m+  Codefly CLI is restarting to apply the trust changes...[39m

 â¯ src/ui/components/FolderTrustDialog.test.tsx:77:25
     75|     );
     76| 
     77|     expect(lastFrame()).toContain('Gemini CLI is restarting');
       |                         ^
     78|   });
     79| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[21/46]â¯

 FAIL  src/ui/components/HistoryItemDisplay.test.tsx > <HistoryItemDisplay /> > gemini items (alternateBuffer=true) > should render a truncated gemini item
 FAIL  src/ui/components/HistoryItemDisplay.test.tsx > <HistoryItemDisplay /> > gemini items (alternateBuffer=true) > should render a full gemini item when using availableTerminalHeightGemini
 FAIL  src/ui/components/HistoryItemDisplay.test.tsx > <HistoryItemDisplay /> > gemini items (alternateBuffer=true) > should render a truncated gemini_content item
 FAIL  src/ui/components/HistoryItemDisplay.test.tsx > <HistoryItemDisplay /> > gemini items (alternateBuffer=true) > should render a full gemini_content item when using availableTerminalHeightGemini
 FAIL  src/ui/components/HistoryItemDisplay.test.tsx > <HistoryItemDisplay /> > gemini items (alternateBuffer=false) > should render a truncated gemini item
 FAIL  src/ui/components/HistoryItemDisplay.test.tsx > <HistoryItemDisplay /> > gemini items (alternateBuffer=false) > should render a full gemini item when using availableTerminalHeightGemini
 FAIL  src/ui/components/HistoryItemDisplay.test.tsx > <HistoryItemDisplay /> > gemini items (alternateBuffer=false) > should render a truncated gemini_content item
 FAIL  src/ui/components/HistoryItemDisplay.test.tsx > <HistoryItemDisplay /> > gemini items (alternateBuffer=false) > should render a full gemini_content item when using availableTerminalHeightGemini
 FAIL  src/ui/utils/MarkdownDisplay.test.tsx > <MarkdownDisplay /> > with 'Windows' line endings > renders a fenced code block with a language
 FAIL  src/ui/utils/MarkdownDisplay.test.tsx > <MarkdownDisplay /> > with 'Windows' line endings > renders a fenced code block without a language
 FAIL  src/ui/utils/MarkdownDisplay.test.tsx > <MarkdownDisplay /> > with 'Windows' line endings > correctly parses a mix of markdown elements
 FAIL  src/ui/utils/MarkdownDisplay.test.tsx > <MarkdownDisplay /> > with 'Windows' line endings > hides line numbers in code blocks when showLineNumbers is false
 FAIL  src/ui/utils/MarkdownDisplay.test.tsx > <MarkdownDisplay /> > with 'Windows' line endings > shows line numbers in code blocks by default
 FAIL  src/ui/utils/MarkdownDisplay.test.tsx > <MarkdownDisplay /> > with 'Unix' line endings > renders a fenced code block with a language
 FAIL  src/ui/utils/MarkdownDisplay.test.tsx > <MarkdownDisplay /> > with 'Unix' line endings > renders a fenced code block without a language
 FAIL  src/ui/utils/MarkdownDisplay.test.tsx > <MarkdownDisplay /> > with 'Unix' line endings > correctly parses a mix of markdown elements
 FAIL  src/ui/utils/MarkdownDisplay.test.tsx > <MarkdownDisplay /> > with 'Unix' line endings > hides line numbers in code blocks when showLineNumbers is false
 FAIL  src/ui/utils/MarkdownDisplay.test.tsx > <MarkdownDisplay /> > with 'Unix' line endings > shows line numbers in code blocks by default
Error: Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
 â¯ src/ui/utils/MarkdownDisplay.tsx:349:11
    347|       copyToClipboard(codeText)
    348|         .then(() => {
    349|           setIsCopied(true);
       |           ^
    350|           hasCopiedRef.current = true;
    351|           // Hide the "copied" message after 3 seconds
 â¯ test-setup.ts:62:11

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[22/46]â¯

 FAIL  src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > Preview Logic > should NOT show preview options if user has no access
AssertionError: expected 'â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¦' not to contain 'Auto (Preview)'

[32m- Expected[39m
[31m+ Received[39m

[32m- Auto (Preview)[39m
[31m+ â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[39m
[31m+ â”‚                                                                                                  â”‚[39m
[31m+ â”‚ Select Model                                                                                     â”‚[39m
[31m+ â”‚                                                                                                  â”‚[39m
[31m+ â”‚ Gemini 3 is coming soon.                                                                         â”‚[39m
[31m+ â”‚                                                                                                  â”‚[39m
[31m+ â”‚ â— 1. Auto (Preview)                                                                              â”‚[39m
[31m+ â”‚      Let Gemini CLI decide the best model for the task: gemini-2.5-pro, gemini-2.5-flash         â”‚[39m
[31m+ â”‚   2. Manual                                                                                      â”‚[39m
[31m+ â”‚      Manually select a model                                                                     â”‚[39m
[31m+ â”‚                                                                                                  â”‚[39m
[31m+ â”‚ Remember model for future sessions: false                                                        â”‚[39m
[31m+ â”‚ (Press Tab to toggle)                                                                            â”‚[39m
[31m+ â”‚                                                                                                  â”‚[39m
[31m+ â”‚ > To use a specific Gemini model on startup, use the --model flag.                               â”‚[39m
[31m+ â”‚                                                                                                  â”‚[39m
[31m+ â”‚ (Press Esc to close)                                                                             â”‚[39m
[31m+ â”‚                                                                                                  â”‚[39m
[31m+ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯[39m

 â¯ src/ui/components/ModelDialog.test.tsx:229:31
    227|       mockGetPreviewFeatures.mockReturnValue(true); // Even if enabled
    228|       const { lastFrame } = renderComponent();
    229|       expect(lastFrame()).not.toContain('Auto (Preview)');
       |                               ^
    230|     });
    231| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[23/46]â¯

 FAIL  src/ui/components/ModelDialog.test.tsx > <ModelDialog /> > Preview Logic > should NOT show preview options if user has access but preview features are disabled
AssertionError: expected 'â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¦' not to contain 'Auto (Preview)'

[32m- Expected[39m
[31m+ Received[39m

[32m- Auto (Preview)[39m
[31m+ â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[39m
[31m+ â”‚                                                                                                  â”‚[39m
[31m+ â”‚ Select Model                                                                                     â”‚[39m
[31m+ â”‚                                                                                                  â”‚[39m
[31m+ â”‚ Gemini 3 is now available.                                                                       â”‚[39m
[31m+ â”‚ Enable "Preview features" in /settings.                                                          â”‚[39m
[31m+ â”‚ Learn more at https://goo.gle/enable-preview-features                                            â”‚[39m
[31m+ â”‚                                                                                                  â”‚[39m
[31m+ â”‚ â— 1. Auto (Preview)                                                                              â”‚[39m
[31m+ â”‚      Let Gemini CLI decide the best model for the task: gemini-2.5-pro, gemini-2.5-flash         â”‚[39m
[31m+ â”‚   2. Manual                                                                                      â”‚[39m
[31m+ â”‚      Manually select a model                                                                     â”‚[39m
[31m+ â”‚                                                                                                  â”‚[39m
[31m+ â”‚ Remember model for future sessions: false                                                        â”‚[39m
[31m+ â”‚ (Press Tab to toggle)                                                                            â”‚[39m
[31m+ â”‚                                                                                                  â”‚[39m
[31m+ â”‚ > To use a specific Gemini model on startup, use the --model flag.                               â”‚[39m
[31m+ â”‚                                                                                                  â”‚[39m
[31m+ â”‚ (Press Esc to close)                                                                             â”‚[39m
[31m+ â”‚                                                                                                  â”‚[39m
[31m+ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯[39m

 â¯ src/ui/components/ModelDialog.test.tsx:236:31
    234|       mockGetPreviewFeatures.mockReturnValue(false);
    235|       const { lastFrame } = renderComponent();
    236|       expect(lastFrame()).not.toContain('Auto (Preview)');
       |                               ^
    237|     });
    238| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[24/46]â¯

 FAIL  src/ui/components/Notifications.test.tsx > Notifications > renders screen reader nudge when enabled and not seen (no legacy file)
Error: Snapshot `Notifications > renders screen reader nudge when enabled and not seen (no legacy file) 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[2m  "You are currently in screen reader-friendly view. To switch out, open[22m
[32m- /mock/home/.[7mcodefly[27m/settings.json and remove the entry for "screenReader". This will disappear on[39m
[31m+ /mock/home/.[7mgemini[27m/settings.json and remove the entry for "screenReader". This will disappear on[39m
[2m  next run."[22m

 â¯ src/ui/components/Notifications.test.tsx:164:25
    162|     );
    163| 
    164|     expect(lastFrame()).toMatchSnapshot();
       |                         ^
    165|   });
    166| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[25/46]â¯

 FAIL  src/ui/components/SettingsDialog.test.tsx > SettingsDialog > Settings Toggling > should toggle setting with Enter key
AssertionError: expected "spy" to be called with arguments: [ Set{ 'general.vimMode' }, â€¦(3) ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    Set {[22m
[32m-     "general.vimMode",[90m
[31m+     "general.enableAutoUpdate",[90m
[31m+   },[90m
[31m+   {[90m
[31m+     "general": {[90m
[31m+       "enableAutoUpdate": false,[90m
[31m+     },[90m
[31m+     "mcpServers": {},[90m
[31m+     "ui": {[90m
[31m+       "customThemes": {},[90m
[31m+     },[90m
[31m+   },[90m
[31m+   LoadedSettings {[90m
[31m+     "_merged": {[90m
[31m+       "admin": {[90m
[31m+         "extensions": {[90m
[31m+           "enabled": true,[90m
[31m+         },[90m
[31m+         "mcp": {[90m
[31m+           "enabled": true,[90m
[31m+         },[90m
[31m+         "secureModeEnabled": false,[90m
[31m+         "skills": {[90m
[31m+           "enabled": true,[90m
[31m+         },[90m
[31m+       },[90m
[31m+       "advanced": {[90m
[31m+         "autoConfigureMemory": false,[90m
[31m+         "excludedEnvVars": [[90m
[31m+           "DEBUG",[90m
[31m+           "DEBUG_MODE",[90m
[31m+         ],[90m
[31m+       },[90m
[31m+       "agents": {[90m
[31m+         "overrides": {},[90m
[31m+       },[90m
[31m+       "context": {[90m
[31m+         "discoveryMaxDirs": 200,[90m
[31m+         "fileFiltering": {[90m
[31m+           "enableFuzzySearch": true,[90m
[31m+           "enableRecursiveFileSearch": true,[90m
[31m+           "respectGeminiIgnore": true,[90m
[31m+           "respectGitIgnore": true,[90m
[31m+         },[90m
[31m+         "includeDirectories": [],[90m
[31m+         "loadMemoryFromIncludeDirectories": false,[90m
[31m+       },[90m
[31m+       "experimental": {[90m
[31m+         "enableAgents": false,[90m
[31m+         "enableEventDrivenScheduler": true,[90m
[31m+         "extensionConfig": false,[90m
[31m+         "extensionManagement": true,[90m
[31m+         "extensionReloading": false,[90m
[31m+         "jitContext": false,[90m
[31m+         "plan": false,[90m
[31m+         "skills": false,[90m
[31m+         "useOSC52Paste": false,[90m
[31m+       },[90m
[31m+       "extensions": {[90m
[31m+         "disabled": [],[90m
[31m+         "workspacesWithMigrationNudge": [],[90m
[31m+       },[90m
[31m+       "general": {[90m
[31m+         "checkpointing": {[90m
[31m+           "enabled": false,[90m
[31m+         },[90m
[31m+         "debugKeystrokeLogging": false,[90m
[31m+         "enableAutoUpdate": true,[90m
[31m+         "enableAutoUpdateNotification": true,[90m
[31m+         "enablePromptCompletion": false,[90m
[31m+         "previewFeatures": false,[90m
[31m+         "retryFetchErrors": false,[90m
[31m+         "sessionRetention": {[90m
[31m+           "enabled": false,[90m
[31m+           "minRetention": "1d",[90m
[31m+         },[90m
[31m+         "vimMode": false,[90m
[31m+       },[90m
[31m+       "hooks": {[90m
[31m+         "AfterAgent": [],[90m
[31m+         "AfterModel": [],[90m
[31m+         "AfterTool": [],[90m
[31m+         "BeforeAgent": [],[90m
[31m+         "BeforeModel": [],[90m
[31m+         "BeforeTool": [],[90m
[31m+         "BeforeToolSelection": [],[90m
[31m+         "Notification": [],[90m
[31m+         "PreCompress": [],[90m
[31m+         "SessionEnd": [],[90m
[31m+         "SessionStart": [],[90m
[31m+       },[90m
[31m+       "hooksConfig": {[90m
[31m+         "disabled": [],[90m
[31m+         "enabled": true,[90m
[31m+         "notifications": true,[90m
[31m+       },[90m
[31m+       "ide": {[90m
[31m+         "enabled": false,[90m
[31m+         "hasSeenNudge": false,[90m
[31m+       },[90m
[31m+       "mcp": {},[90m
[31m+       "mcpServers": {},[90m
[31m+       "model": {[90m
[31m+         "compressionThreshold": 0.5,[90m
[31m+         "maxSessionTurns": -1,[90m
[31m+         "skipNextSpeakerCheck": true,[90m
[31m+       },[90m
[31m+       "modelConfigs": {[90m
[31m+         "aliases": {[90m
[31m+           "base": {[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "temperature": 0,[90m
[31m+                 "topP": 1,[90m
[2m                },[22m
[32m-   ObjectContaining {[90m
[32m-     "general": ObjectContaining {[90m
[32m-       "vimMode": true,[90m
[2m              },[22m
[2m            },[22m
[32m-   Any<LoadedSettings>,[90m
[31m+           "chat-base": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "temperature": 1,[90m
[31m+                 "thinkingConfig": {[90m
[31m+                   "includeThoughts": true,[90m
[31m+                 },[90m
[31m+                 "topK": 64,[90m
[31m+                 "topP": 0.95,[90m
[31m+               },[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-base-2.5": {[90m
[31m+             "extends": "chat-base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "thinkingConfig": {[90m
[31m+                   "thinkingBudget": 8192,[90m
[31m+                 },[90m
[31m+               },[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-base-3": {[90m
[31m+             "extends": "chat-base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "thinkingConfig": {[90m
[31m+                   "thinkingLevel": "HIGH",[90m
[31m+                 },[90m
[31m+               },[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-compression-2.5-flash": {[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-flash",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-compression-2.5-flash-lite": {[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-flash-lite",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-compression-2.5-pro": {[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-pro",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-compression-3-flash": {[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-3-flash-preview",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-compression-3-pro": {[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-3-pro-preview",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "chat-compression-default": {[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-pro",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "classifier": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "maxOutputTokens": 1024,[90m
[31m+                 "thinkingConfig": {[90m
[31m+                   "thinkingBudget": 512,[90m
[31m+                 },[90m
[31m+               },[90m
[31m+               "model": "gemini-2.5-flash-lite",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "edit-corrector": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "thinkingConfig": {[90m
[31m+                   "thinkingBudget": 0,[90m
[31m+                 },[90m
[31m+               },[90m
[31m+               "model": "gemini-2.5-flash-lite",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "gemini-2.5-flash": {[90m
[31m+             "extends": "chat-base-2.5",[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-flash",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "gemini-2.5-flash-base": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-flash",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "gemini-2.5-flash-lite": {[90m
[31m+             "extends": "chat-base-2.5",[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-flash-lite",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "gemini-2.5-pro": {[90m
[31m+             "extends": "chat-base-2.5",[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-pro",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "gemini-3-flash-preview": {[90m
[31m+             "extends": "chat-base-3",[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-3-flash-preview",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "gemini-3-pro-preview": {[90m
[31m+             "extends": "chat-base-3",[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-3-pro-preview",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "llm-edit-fixer": {[90m
[31m+             "extends": "gemini-2.5-flash-base",[90m
[31m+             "modelConfig": {},[90m
[31m+           },[90m
[31m+           "loop-detection": {[90m
[31m+             "extends": "gemini-2.5-flash-base",[90m
[31m+             "modelConfig": {},[90m
[31m+           },[90m
[31m+           "loop-detection-double-check": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "model": "gemini-2.5-pro",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "next-speaker-checker": {[90m
[31m+             "extends": "gemini-2.5-flash-base",[90m
[31m+             "modelConfig": {},[90m
[31m+           },[90m
[31m+           "prompt-completion": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "maxOutputTokens": 16000,[90m
[31m+                 "temperature": 0.3,[90m
[31m+                 "thinkingConfig": {[90m
[31m+                   "thinkingBudget": 0,[90m
[31m+                 },[90m
[31m+               },[90m
[31m+               "model": "gemini-2.5-flash-lite",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "summarizer-default": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "maxOutputTokens": 2000,[90m
[31m+               },[90m
[31m+               "model": "gemini-2.5-flash-lite",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "summarizer-shell": {[90m
[31m+             "extends": "base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "maxOutputTokens": 2000,[90m
[31m+               },[90m
[31m+               "model": "gemini-2.5-flash-lite",[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "web-fetch": {[90m
[31m+             "extends": "gemini-2.5-flash-base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "tools": [[90m
[31m+                   {[90m
[31m+                     "urlContext": {},[90m
[31m+                   },[90m
[31m+                 ],[90m
[31m+               },[90m
[31m+             },[90m
[31m+           },[90m
[31m+           "web-fetch-fallback": {[90m
[31m+             "extends": "gemini-2.5-flash-base",[90m
[31m+             "modelConfig": {},[90m
[31m+           },[90m
[31m+           "web-search": {[90m
[31m+             "extends": "gemini-2.5-flash-base",[90m
[31m+             "modelConfig": {[90m
[31m+               "generateContentConfig": {[90m
[31m+                 "tools": [[90m
[31m+                   {[90m
[31m+                     "googleSearch": {},[90m
[31m+                   },[90m
[31m+                 ],[90m
[31m+               },[90m
[31m+             },[90m
[31m+           },[90m
[31m+         },[90m
[31m+         "customAliases": {},[90m
[31m+         "customOverrides": [],[90m
[31m+         "overrides": [],[90m
[31m+       },[90m
[31m+       "output": {[90m
[31m+         "format": "text",[90m
[31m+       },[90m
[31m+       "privacy": {[90m
[31m+         "usageStatisticsEnabled": true,[90m
[31m+       },[90m
[31m+       "security": {[90m
[31m+         "auth": {[90m
[31m+           "openai": {},[90m
[31m+         },[90m
[31m+         "blockGitExtensions": false,[90m
[31m+         "disableYoloMode": false,[90m
[31m+         "enablePermanentToolApproval": false,[90m
[31m+         "environmentVariableRedaction": {[90m
[31m+           "allowed": [],[90m
[31m+           "blocked": [],[90m
[31m+           "enabled": false,[90m
[31m+         },[90m
[31m+         "folderTrust": {[90m
[31m+           "enabled": false,[90m
[31m+         },[90m
[31m+       },[90m
[31m+       "skills": {[90m
[31m+         "disabled": [],[90m
[31m+         "enabled": true,[90m
[31m+       },[90m
[31m+       "tools": {[90m
[31m+         "approvalMode": "default",[90m
[31m+         "autoAccept": false,[90m
[31m+         "disableLLMCorrection": true,[90m
[31m+         "enableHooks": true,[90m
[31m+         "enableToolOutputTruncation": true,[90m
[31m+         "shell": {[90m
[31m+           "enableInteractiveShell": true,[90m
[31m+           "enableShellOutputEfficiency": true,[90m
[31m+           "inactivityTimeout": 300,[90m
[31m+           "pager": "cat",[90m
[31m+           "showColor": false,[90m
[31m+         },[90m
[31m+         "truncateToolOutputLines": 1000,[90m
[31m+         "truncateToolOutputThreshold": 4000000,[90m
[31m+         "useRipgrep": true,[90m
[31m+       },[90m
[31m+       "ui": {[90m
[31m+         "accessibility": {[90m
[31m+           "enableLoadingPhrases": true,[90m
[31m+           "screenReader": false,[90m
[31m+         },[90m
[31m+         "customThemes": {},[90m
[31m+         "customWittyPhrases": [],[90m
[31m+         "dynamicWindowTitle": true,[90m
[31m+         "footer": {[90m
[31m+           "hideCWD": false,[90m
[31m+           "hideContextPercentage": true,[90m
[31m+           "hideModelInfo": false,[90m
[31m+           "hideSandboxStatus": false,[90m
[31m+         },[90m
[31m+         "hideBanner": false,[90m
[31m+         "hideContextSummary": false,[90m
[31m+         "hideFooter": false,[90m
[31m+         "hideTips": false,[90m
[31m+         "hideWindowTitle": false,[90m
[31m+         "incrementalRendering": true,[90m
[31m+         "showCitations": false,[90m
[31m+         "showHomeDirectoryWarning": true,[90m
[31m+         "showLineNumbers": true,[90m
[31m+         "showMemoryUsage": false,[90m
[31m+         "showModelInfoInChat": false,[90m
[31m+         "showStatusInTitle": false,[90m
[31m+         "useAlternateBuffer": false,[90m
[31m+         "useFullWidth": true,[90m
[31m+       },[90m
[31m+       "useWriteTodos": true,[90m
[31m+     },[90m
[31m+     "_remoteAdminSettings": undefined,[90m
[31m+     "errors": [],[90m
[31m+     "isTrusted": true,[90m
[31m+     "system": {[90m
[31m+       "originalSettings": {[90m
[31m+         "mcpServers": {},[90m
[31m+         "ui": {[90m
[31m+           "customThemes": {},[90m
[31m+         },[90m
[31m+       },[90m
[31m+       "path": "/system/settings.json",[90m
[31m+       "settings": {[90m
[31m+         "mcpServers": {},[90m
[31m+         "ui": {[90m
[31m+           "customThemes": {},[90m
[31m+         },[90m
[31m+       },[90m
[31m+     },[90m
[31m+     "systemDefaults": {[90m
[31m+       "originalSettings": {},[90m
[31m+       "path": "/system/system-defaults.json",[90m
[31m+       "settings": {},[90m
[31m+     },[90m
[31m+     "user": {[90m
[31m+       "originalSettings": {[90m
[31m+         "mcpServers": {},[90m
[31m+         "ui": {[90m
[31m+           "customThemes": {},[90m
[31m+         },[90m
[31m+       },[90m
[31m+       "path": "/user/settings.json",[90m
[31m+       "settings": {[90m
[31m+         "mcpServers": {},[90m
[31m+         "ui": {[90m
[31m+           "customThemes": {},[90m
[31m+         },[90m
[31m+       },[90m
[31m+     },[90m
[31m+     "workspace": {[90m
[31m+       "originalSettings": {[90m
[31m+         "mcpServers": {},[90m
[31m+         "ui": {[90m
[31m+           "customThemes": {},[90m
[31m+         },[90m
[31m+       },[90m
[31m+       "path": "/workspace/settings.json",[90m
[31m+       "settings": {[90m
[31m+         "mcpServers": {},[90m
[31m+         "ui": {[90m
[31m+           "customThemes": {},[90m
[31m+         },[90m
[31m+       },[90m
[31m+     },[90m
[31m+   },[90m
[2m    "User",[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
 â¯ src/ui/components/SettingsDialog.test.tsx:432:47
    430|       });
    431| 
    432|       expect(vi.mocked(saveModifiedSettings)).toHaveBeenCalledWith(
       |                                               ^
    433|         new Set<string>(['general.vimMode']),
    434|         expect.objectContaining({

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[26/46]â¯

 FAIL  src/ui/hooks/useGeminiStream.test.tsx > useGeminiStream > Error Handling > should call parseAndFormatApiError with the correct authType on stream initialization failure
AssertionError: expected "spy" to be called with arguments: [ 'Rate limit exceeded', â€¦(4) ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    "Rate limit exceeded",[22m
[2m    "oauth-personal",[22m
[32m-   undefined,[90m
[2m    "gemini-2.5-pro",[22m
[32m-   "gemini-2.5-flash",[90m
[31m+   "gemini-3-flash-preview",[90m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
 â¯ src/ui/hooks/useGeminiStream.test.tsx:1709:44
    1707|       // 3. Assertion
    1708|       await waitFor(() => {
    1709|         expect(mockParseAndFormatApiError).toHaveBeenCalledWith(
       |                                            ^
    1710|           'Rate limit exceeded',
    1711|           mockAuthType,
 â¯ Module.waitFor src/test-utils/async.ts:22:7
 â¯ src/ui/hooks/useGeminiStream.test.tsx:1708:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[27/46]â¯

 FAIL  src/ui/hooks/useGeminiStream.test.tsx > useGeminiStream > Thought Reset > should reset thought to null when there is an error
AssertionError: expected "spy" to be called with arguments: [ { message: 'Test error' }, â€¦(4) ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    {[22m
[2m      "message": "Test error",[22m
[2m    },[22m
[32m-   Any<String>,[90m
[32m-   undefined,[90m
[31m+   "gemini-api-key",[90m
[2m    "gemini-2.5-pro",[22m
[32m-   "gemini-2.5-flash",[90m
[31m+   "gemini-3-flash-preview",[90m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
 â¯ src/ui/hooks/useGeminiStream.test.tsx:2724:42
    2722| 
    2723|       // Verify parseAndFormatApiError was called
    2724|       expect(mockParseAndFormatApiError).toHaveBeenCalledWith(
       |                                          ^
    2725|         { message: 'Test error' },
    2726|         expect.any(String),

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[28/46]â¯

 FAIL  src/ui/components/messages/GeminiMessage.test.tsx > <GeminiMessage /> - Raw Markdown Display Snapshots > renders with renderMarkdown=true '(default)'
Error: Failing test due to "act(...)" warnings:
An update to RenderCodeBlockInternal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
    at /Users/robinx/code/codefly-cli/packages/cli/src/ui/utils/MarkdownDisplay.tsx:349:11
 â¯ src/ui/utils/MarkdownDisplay.tsx:349:11
    347|       copyToClipboard(codeText)
    348|         .then(() => {
    349|           setIsCopied(true);
       |           ^
    350|           hasCopiedRef.current = true;
    351|           // Hide the "copied" message after 3 seconds
 â¯ test-setup.ts:62:11

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[29/46]â¯


  Snapshots  10 failed
 Test Files  17 failed | 322 passed (339)
      Tests  46 failed | 4482 passed | 2 skipped (4530)
   Start at  10:15:52
   Duration  59.58s (transform 10.87s, setup 3.97s, collect 671.15s, tests 51.18s, environment 35ms, prepare 15.73s)

JUNIT report written to /Users/robinx/code/codefly-cli/packages/cli/junit.xml
npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path /Users/robinx/code/codefly-cli/packages/cli
npm error workspace @codeflyai/codefly@0.27.0-nightly.20260124.37be16243
npm error location /Users/robinx/code/codefly-cli/packages/cli
npm error command failed
npm error command sh -c vitest run


> @codeflyai/codefly-core@0.24.0-nightly.20251227.37be16243 test
> vitest run


 RUN  v3.2.4 /Users/robinx/code/codefly-cli/packages/core
      Coverage enabled with v8

 â¯ src/config/models.test.ts (32 tests | 1 failed) 7ms
   âœ“ getDisplayString > should return Auto (Gemini 3) for preview auto model 1ms
   Ã— getDisplayString > should return Auto (Gemini 2.5) for default auto model 4ms
     â†’ expected 'Auto (Gemini 3)' to be 'Auto (Gemini 2.5)' // Object.is equality
   âœ“ getDisplayString > should return concrete model name for pro alias 0ms
   âœ“ getDisplayString > should return concrete model name for flash alias 0ms
   âœ“ getDisplayString > should return the model name as is for other models 0ms
   âœ“ supportsMultimodalFunctionResponse > should return true for gemini-3 model 0ms
   âœ“ supportsMultimodalFunctionResponse > should return false for gemini-2 models 0ms
   âœ“ supportsMultimodalFunctionResponse > should return false for other models 0ms
   âœ“ resolveModel > delegation logic > should return the Preview Flash model when auto-gemini-3 is requested 0ms
   âœ“ resolveModel > delegation logic > should return the Default Flash model when auto-gemini-2.5 is requested 0ms
   âœ“ resolveModel > delegation logic > should return the requested model as-is for explicit specific models 0ms
   âœ“ resolveModel > delegation logic > should return a custom model name when requested 0ms
   âœ“ resolveModel > delegation logic > with preview features > should return the preview model when pro alias is requested 0ms
   âœ“ resolveModel > delegation logic > with preview features > should return the default pro model when pro alias is requested and preview is off 0ms
   âœ“ resolveModel > delegation logic > with preview features > should return the flash model when flash is requested and preview is on 0ms
   âœ“ resolveModel > delegation logic > with preview features > should return the flash model when lite is requested and preview is on 0ms
   âœ“ resolveModel > delegation logic > with preview features > should return the flash model when the flash model name is explicitly requested and preview is on 0ms
   âœ“ resolveModel > delegation logic > with preview features > should return the lite model when the lite model name is requested and preview is on 1ms
   âœ“ resolveModel > delegation logic > with preview features > should return the default gemini model when the model is explicitly set and preview is on 0ms
   âœ“ isGemini2Model > should return true for gemini-2.5-pro 0ms
   âœ“ isGemini2Model > should return true for gemini-2.5-flash 0ms
   âœ“ isGemini2Model > should return true for gemini-2.0-flash 0ms
   âœ“ isGemini2Model > should return false for gemini-1.5-pro 0ms
   âœ“ isGemini2Model > should return false for gemini-3-pro 0ms
   âœ“ isGemini2Model > should return false for arbitrary strings 0ms
   âœ“ isAutoModel > should return true for "auto" 0ms
   âœ“ isAutoModel > should return true for "auto-gemini-3" 0ms
   âœ“ isAutoModel > should return true for "auto-gemini-2.5" 0ms
   âœ“ isAutoModel > should return false for concrete models 0ms
   âœ“ resolveClassifierModel > should return flash model when alias is flash 0ms
   âœ“ resolveClassifierModel > should return pro model when alias is pro 0ms
   âœ“ resolveClassifierModel > should handle preview features being enabled 0ms
 â¯ src/routing/strategies/defaultStrategy.test.ts (5 tests | 1 failed) 6ms
   âœ“ DefaultStrategy > should route to the default model when requested model is default auto 1ms
   Ã— DefaultStrategy > should route to the preview model when requested model is preview auto 4ms
     â†’ expected { â€¦(2) } to deeply equal { model: 'gemini-3-pro-preview', â€¦(1) }
   âœ“ DefaultStrategy > should route to the preview model when requested model is auto and previewfeature is on 0ms
   âœ“ DefaultStrategy > should route to the default model when requested model is auto and previewfeature is off 0ms
   âœ“ DefaultStrategy > should route to the same model if it is not an auto mode 0ms
 â¯ src/availability/policyHelpers.test.ts (16 tests | 4 failed) 9ms
   âœ“ policyHelpers > resolvePolicyChain > returns a single-model chain for a custom model 1ms
   âœ“ policyHelpers > resolvePolicyChain > leaves catalog order untouched when active model already present 0ms
   âœ“ policyHelpers > resolvePolicyChain > returns the default chain when active model is "auto" 0ms
   Ã— policyHelpers > resolvePolicyChain > uses auto chain when preferred model is auto 4ms
     â†’ expected [ { â€¦(4) } ] to have a length of 2 but got 1
   Ã— policyHelpers > resolvePolicyChain > uses auto chain when configured model is auto even if preferred is concrete 0ms
     â†’ expected [ { model: 'gemini-2.5-pro', â€¦(3) } ] to have a length of 2 but got 1
   âœ“ policyHelpers > resolvePolicyChain > starts chain from preferredModel when model is "auto" 0ms
   Ã— policyHelpers > resolvePolicyChain > returns flash-lite chain when preferred model is flash-lite 1ms
     â†’ expected 'gemini-3-flash-preview' to be 'gemini-2.5-flash' // Object.is equality
   Ã— policyHelpers > resolvePolicyChain > returns flash-lite chain when configured model is flash-lite 0ms
     â†’ expected 'gemini-3-flash-preview' to be 'gemini-2.5-flash' // Object.is equality
   âœ“ policyHelpers > resolvePolicyChain > wraps around the chain when wrapsAround is true 0ms
   âœ“ policyHelpers > buildFallbackPolicyContext > returns remaining candidates after the failed model 0ms
   âœ“ policyHelpers > buildFallbackPolicyContext > wraps around when building fallback context if wrapsAround is true 0ms
   âœ“ policyHelpers > buildFallbackPolicyContext > returns full chain when model is not in policy list 0ms
   âœ“ policyHelpers > applyModelSelection > returns requested model if it is available 1ms
   âœ“ policyHelpers > applyModelSelection > switches to backup model and updates config if requested is unavailable 0ms
   âœ“ policyHelpers > applyModelSelection > consumes sticky attempt if indicated 0ms
   âœ“ policyHelpers > applyModelSelection > does not consume sticky attempt if consumeAttempt is false 0ms
 â¯ src/services/gitService.test.ts (18 tests | 1 failed) 125ms
   âœ“ GitService > constructor > should successfully create an instance 6ms
   âœ“ GitService > verifyGitAvailability > should resolve true if git --version command succeeds 13ms
   âœ“ GitService > verifyGitAvailability > should resolve false if git --version command fails 6ms
   âœ“ GitService > initialize > should throw an error if Git is not available 4ms
   âœ“ GitService > initialize > should call setupShadowGitRepository if Git is available 3ms
   âœ“ GitService > setupShadowGitRepository > should create history and repository directories 19ms
   Ã— GitService > setupShadowGitRepository > should create a .gitconfig file with the correct content 24ms
     â†’ expected '[user]\n  name = Codefly CLI\n  emailâ€¦' to be '[user]\n  name = Gemini CLI\n  email â€¦' // Object.is equality
   âœ“ GitService > setupShadowGitRepository > should initialize git repo in historyDir if not already initialized 9ms
   âœ“ GitService > setupShadowGitRepository > should not initialize git repo if already initialized 8ms
   âœ“ GitService > setupShadowGitRepository > should copy .gitignore from projectRoot if it exists 6ms
   âœ“ GitService > setupShadowGitRepository > should not create a .gitignore in shadow repo if project .gitignore does not exist 4ms
   âœ“ GitService > setupShadowGitRepository > should throw an error if reading projectRoot .gitignore fails with other errors 11ms
   âœ“ GitService > setupShadowGitRepository > should make an initial commit if no commits exist in history repo 3ms
   âœ“ GitService > setupShadowGitRepository > should not make an initial commit if commits already exist 2ms
   âœ“ GitService > setupShadowGitRepository > should handle checkIsRepo failure gracefully and initialize repo 2ms
   âœ“ GitService > createFileSnapshot > should commit with --no-verify flag 2ms
   âœ“ GitService > createFileSnapshot > should create a new commit if there are staged changes 1ms
   âœ“ GitService > createFileSnapshot > should return the current HEAD commit hash if there are no staged changes 1ms
 â¯ src/tools/memoryTool.test.ts (19 tests | 2 failed) 23ms
   âœ“ MemoryTool > setGeminiMdFilename > should update currentGeminiMdFilename when a valid new name is provided 1ms
   âœ“ MemoryTool > setGeminiMdFilename > should not update currentGeminiMdFilename if the new name is empty or whitespace 0ms
   âœ“ MemoryTool > setGeminiMdFilename > should handle an array of filenames 0ms
   âœ“ MemoryTool > performAddMemoryEntry (static method) > should create section and save a fact if file does not exist 1ms
   âœ“ MemoryTool > performAddMemoryEntry (static method) > should create section and save a fact if file is empty 0ms
   âœ“ MemoryTool > performAddMemoryEntry (static method) > should add a fact to an existing section 0ms
   âœ“ MemoryTool > performAddMemoryEntry (static method) > should add a fact to an existing empty section 0ms
   âœ“ MemoryTool > performAddMemoryEntry (static method) > should add a fact when other ## sections exist and preserve spacing 0ms
   âœ“ MemoryTool > performAddMemoryEntry (static method) > should correctly trim and add a fact that starts with a dash 0ms
   âœ“ MemoryTool > performAddMemoryEntry (static method) > should handle error from fsAdapter.writeFile 1ms
   âœ“ MemoryTool > execute (instance method) > should have correct name, displayName, description, and schema 0ms
   âœ“ MemoryTool > execute (instance method) > should call performAddMemoryEntry with correct parameters and return success 13ms
   âœ“ MemoryTool > execute (instance method) > should return an error if fact is empty 0ms
   âœ“ MemoryTool > execute (instance method) > should handle errors from performAddMemoryEntry 0ms
   Ã— MemoryTool > shouldConfirmExecute > should return confirmation details when memory file is not allowlisted 5ms
     â†’ expected 'Confirm Memory Save: ~/.codefly/CODEFâ€¦' to be 'Confirm Memory Save: ~/.codefly/GEMINâ€¦' // Object.is equality
   âœ“ MemoryTool > shouldConfirmExecute > should return false when memory file is already allowlisted 0ms
   âœ“ MemoryTool > shouldConfirmExecute > should add memory file to allowlist when ProceedAlways is confirmed 0ms
   âœ“ MemoryTool > shouldConfirmExecute > should not add memory file to allowlist when other outcomes are confirmed 0ms
   Ã— MemoryTool > shouldConfirmExecute > should handle existing memory file with content 0ms
     â†’ expected 'Confirm Memory Save: ~/.codefly/CODEFâ€¦' to be 'Confirm Memory Save: ~/.codefly/GEMINâ€¦' // Object.is equality
 â¯ src/core/prompts.test.ts (46 tests | 14 failed) 89ms
   Ã— Core System Prompt (prompts.ts) > should include available_skills when provided in config 13ms
     â†’ Snapshot `Core System Prompt (prompts.ts) > should include available_skills when provided in config 1` mismatched
   âœ“ Core System Prompt (prompts.ts) > should NOT include skill guidance or available_skills when NO skills are provided 1ms
   âœ“ Core System Prompt (prompts.ts) > should use chatty system prompt for preview model 0ms
   âœ“ Core System Prompt (prompts.ts) > should use chatty system prompt for preview flash model 0ms
   Ã— Core System Prompt (prompts.ts) > should return the base prompt when userMemory is empty string 5ms
     â†’ Snapshot `Core System Prompt (prompts.ts) > should return the base prompt when userMemory is empty string 1` mismatched
   Ã— Core System Prompt (prompts.ts) > should return the base prompt when userMemory is whitespace only 6ms
     â†’ Snapshot `Core System Prompt (prompts.ts) > should return the base prompt when userMemory is whitespace only 1` mismatched
   Ã— Core System Prompt (prompts.ts) > should append userMemory with separator when provided 5ms
     â†’ Snapshot `Core System Prompt (prompts.ts) > should append userMemory with separator when provided 1` mismatched
   Ã— Core System Prompt (prompts.ts) > should include correct sandbox instructions for SANDBOX=true 7ms
     â†’ Snapshot `Core System Prompt (prompts.ts) > should include correct sandbox instructions for SANDBOX=true 1` mismatched
   Ã— Core System Prompt (prompts.ts) > should include correct sandbox instructions for SANDBOX=sandbox-exec 5ms
     â†’ Snapshot `Core System Prompt (prompts.ts) > should include correct sandbox instructions for SANDBOX=sandbox-exec 1` mismatched
   Ã— Core System Prompt (prompts.ts) > should include correct sandbox instructions for SANDBOX=undefined 5ms
     â†’ Snapshot `Core System Prompt (prompts.ts) > should include correct sandbox instructions for SANDBOX=undefined 1` mismatched
   Ã— Core System Prompt (prompts.ts) > should handle git instructions when isGitRepository=true 5ms
     â†’ Snapshot `Core System Prompt (prompts.ts) > should handle git instructions when isGitRepository=true 1` mismatched
   Ã— Core System Prompt (prompts.ts) > should handle git instructions when isGitRepository=false 5ms
     â†’ Snapshot `Core System Prompt (prompts.ts) > should handle git instructions when isGitRepository=false 1` mismatched
   Ã— Core System Prompt (prompts.ts) > should return the interactive avoidance prompt when in non-interactive mode 5ms
     â†’ Snapshot `Core System Prompt (prompts.ts) > should return the interactive avoidance prompt when in non-interactive mode 1` mismatched
   Ã— Core System Prompt (prompts.ts) > should handle CodebaseInvestigator with tools=codebase_investigator 5ms
     â†’ Snapshot `Core System Prompt (prompts.ts) > should handle CodebaseInvestigator with tools=codebase_investigator 1` mismatched
   Ã— Core System Prompt (prompts.ts) > should handle CodebaseInvestigator with tools= 5ms
     â†’ Snapshot `Core System Prompt (prompts.ts) > should handle CodebaseInvestigator with tools= 1` mismatched
   Ã— Core System Prompt (prompts.ts) > ApprovalMode in System Prompt > should include PLAN mode instructions 4ms
     â†’ Snapshot `Core System Prompt (prompts.ts) > ApprovalMode in System Prompt > should include PLAN mode instructions 1` mismatched
   Ã— Core System Prompt (prompts.ts) > ApprovalMode in System Prompt > should NOT include approval mode instructions for DEFAULT mode 5ms
     â†’ Snapshot `Core System Prompt (prompts.ts) > ApprovalMode in System Prompt > should NOT include approval mode instructions for DEFAULT mode 1` mismatched
   âœ“ Core System Prompt (prompts.ts) > ApprovalMode in System Prompt > should only list available tools in PLAN mode 1ms
   âœ“ Core System Prompt (prompts.ts) > GEMINI_SYSTEM_MD environment variable > should use default prompt when GEMINI_SYSTEM_MD is "false" 0ms
   âœ“ Core System Prompt (prompts.ts) > GEMINI_SYSTEM_MD environment variable > should use default prompt when GEMINI_SYSTEM_MD is "0" 0ms
   âœ“ Core System Prompt (prompts.ts) > GEMINI_SYSTEM_MD environment variable > should throw error if GEMINI_SYSTEM_MD points to a non-existent file 1ms
   âœ“ Core System Prompt (prompts.ts) > GEMINI_SYSTEM_MD environment variable > should read from default path when GEMINI_SYSTEM_MD is "true" 1ms
   âœ“ Core System Prompt (prompts.ts) > GEMINI_SYSTEM_MD environment variable > should read from default path when GEMINI_SYSTEM_MD is "1" 0ms
   âœ“ Core System Prompt (prompts.ts) > GEMINI_SYSTEM_MD environment variable > should read from custom path when GEMINI_SYSTEM_MD provides one, preserving case 0ms
   âœ“ Core System Prompt (prompts.ts) > GEMINI_SYSTEM_MD environment variable > should expand tilde in custom path when GEMINI_SYSTEM_MD is set 0ms
   âœ“ Core System Prompt (prompts.ts) > GEMINI_WRITE_SYSTEM_MD environment variable > should not write to file when GEMINI_WRITE_SYSTEM_MD is "false" 0ms
   âœ“ Core System Prompt (prompts.ts) > GEMINI_WRITE_SYSTEM_MD environment variable > should not write to file when GEMINI_WRITE_SYSTEM_MD is "0" 0ms
   âœ“ Core System Prompt (prompts.ts) > GEMINI_WRITE_SYSTEM_MD environment variable > should write to default path when GEMINI_WRITE_SYSTEM_MD is "true" 1ms
   âœ“ Core System Prompt (prompts.ts) > GEMINI_WRITE_SYSTEM_MD environment variable > should write to default path when GEMINI_WRITE_SYSTEM_MD is "1" 0ms
   âœ“ Core System Prompt (prompts.ts) > GEMINI_WRITE_SYSTEM_MD environment variable > should write to custom path when GEMINI_WRITE_SYSTEM_MD provides one 0ms
   âœ“ Core System Prompt (prompts.ts) > GEMINI_WRITE_SYSTEM_MD environment variable > should expand tilde in custom path when GEMINI_WRITE_SYSTEM_MD is "~/custom/system.md" 1ms
   âœ“ Core System Prompt (prompts.ts) > GEMINI_WRITE_SYSTEM_MD environment variable > should expand tilde in custom path when GEMINI_WRITE_SYSTEM_MD is "~" 1ms
   âœ“ resolvePathFromEnv helper function > when envVar is undefined, empty, or whitespace > should return null for undefined 0ms
   âœ“ resolvePathFromEnv helper function > when envVar is undefined, empty, or whitespace > should return null for empty string 0ms
   âœ“ resolvePathFromEnv helper function > when envVar is undefined, empty, or whitespace > should return null for whitespace only 0ms
   âœ“ resolvePathFromEnv helper function > when envVar is a boolean-like string > should handle "0" as disabled switch 0ms
   âœ“ resolvePathFromEnv helper function > when envVar is a boolean-like string > should handle "false" as disabled switch 0ms
   âœ“ resolvePathFromEnv helper function > when envVar is a boolean-like string > should handle "1" as enabled switch 0ms
   âœ“ resolvePathFromEnv helper function > when envVar is a boolean-like string > should handle "true" as enabled switch 0ms
   âœ“ resolvePathFromEnv helper function > when envVar is a boolean-like string > should handle "FALSE" (case-insensitive) 0ms
   âœ“ resolvePathFromEnv helper function > when envVar is a boolean-like string > should handle "TRUE" (case-insensitive) 0ms
   âœ“ resolvePathFromEnv helper function > when envVar is a file path > should resolve path: /absolute/path/file.txt 0ms
   âœ“ resolvePathFromEnv helper function > when envVar is a file path > should resolve path: relative/path/file.txt 0ms
   âœ“ resolvePathFromEnv helper function > when envVar is a file path > should expand tilde path: ~/documents/file.txt 0ms
   âœ“ resolvePathFromEnv helper function > when envVar is a file path > should expand tilde path: ~ 0ms
   âœ“ resolvePathFromEnv helper function > when envVar is a file path > should handle os.homedir() errors gracefully 0ms
 âœ“ src/mcp/token-storage/file-token-storage.test.ts (16 tests) 361ms
 âœ“ src/policy/config.test.ts (20 tests) 887ms
(node:76470) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 model-changed listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
(node:76468) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 model-changed listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
 â¯ src/core/contentGenerator.test.ts (16 tests | 4 failed) 20ms
   âœ“ createContentGenerator > should create a FakeContentGenerator 2ms
   âœ“ createContentGenerator > should create a RecordingContentGenerator 0ms
   âœ“ createContentGenerator > should include custom headers from GEMINI_CLI_CUSTOM_HEADERS for GoogleGenAI requests without inferring auth mechanism 5ms
   âœ“ createContentGenerator > should pass api key as Authorization Header when GEMINI_API_KEY_AUTH_MECHANISM is set to bearer 2ms
   âœ“ createContentGenerator > should not pass api key as Authorization Header when GEMINI_API_KEY_AUTH_MECHANISM is not set (default behavior) 1ms
   âœ“ createContentGenerator > should create a GoogleGenAI content generator with client install id logging disabled 1ms
   Ã— createContentGenerator > should create an OpenAICompatibleContentGenerator for AuthType.OPENAI 3ms
     â†’ Error creating contentGenerator: Unsupported authType: openai
   âœ“ createContentGeneratorConfig > should configure for Gemini using GEMINI_API_KEY when set 1ms
   âœ“ createContentGeneratorConfig > should not configure for Gemini if GEMINI_API_KEY is empty 1ms
   âœ“ createContentGeneratorConfig > should not configure for Gemini if GEMINI_API_KEY is not set and storage is empty 0ms
   âœ“ createContentGeneratorConfig > should configure for Vertex AI using GOOGLE_API_KEY when set 0ms
   âœ“ createContentGeneratorConfig > should configure for Vertex AI using GCP project and location when set 0ms
   âœ“ createContentGeneratorConfig > should not configure for Vertex AI if required env vars are empty 0ms
   Ã— createContentGeneratorConfig > should configure for OpenAI using OPENAI_API_KEY when set 1ms
     â†’ expected undefined to be 'env-openai-key' // Object.is equality
   Ã— createContentGeneratorConfig > should configure for OpenAI with custom base URL and model 0ms
     â†’ expected undefined to be 'env-openai-key' // Object.is equality
   Ã— createContentGeneratorConfig > should configure for Zhipu AI using ZHIPU_API_KEY when set 0ms
     â†’ expected undefined to be 'env-zhipu-key' // Object.is equality
 â¯ src/agents/registry.test.ts (42 tests | 1 failed) 19ms
   âœ“ AgentRegistry > initialize > should log the count of loaded agents in debug mode 3ms
   Ã— AgentRegistry > initialize > should use default model for codebase investigator for non-preview models 5ms
     â†’ expected { includeThoughts: true, â€¦(1) } to strictly equal { includeThoughts: true, â€¦(1) }
   âœ“ AgentRegistry > initialize > should use preview flash model for codebase investigator if main model is preview pro 0ms
   âœ“ AgentRegistry > initialize > should use preview flash model for codebase investigator if main model is preview auto 0ms
   âœ“ AgentRegistry > initialize > should use the model from the investigator settings 0ms
   âœ“ AgentRegistry > initialize > should load agents from user and project directories with correct precedence 0ms
   âœ“ AgentRegistry > initialize > should NOT load TOML agents when enableAgents is false 1ms
   âœ“ AgentRegistry > initialize > should register CLI help agent by default 1ms
   âœ“ AgentRegistry > initialize > should NOT register CLI help agent if disabled 0ms
   âœ“ AgentRegistry > initialize > should NOT register generalist agent by default (because it is experimental) 0ms
   âœ“ AgentRegistry > initialize > should register generalist agent if explicitly enabled via override 0ms
   âœ“ AgentRegistry > initialize > should NOT register a non-experimental agent if enabled is false 0ms
   âœ“ AgentRegistry > initialize > should respect disabled override over enabled override 0ms
   âœ“ AgentRegistry > initialize > should load agents from active extensions 0ms
   âœ“ AgentRegistry > initialize > should NOT load agents from inactive extensions 0ms
   âœ“ AgentRegistry > registration logic > should register runtime overrides when the model is "auto" 1ms
   âœ“ AgentRegistry > registration logic > should register a valid agent definition 0ms
   âœ“ AgentRegistry > registration logic > should register a remote agent definition 0ms
   âœ“ AgentRegistry > registration logic > should log remote agent registration in debug mode 0ms
   âœ“ AgentRegistry > registration logic > should handle special characters in agent names 0ms
   âœ“ AgentRegistry > registration logic > should reject an agent definition missing a name 0ms
   âœ“ AgentRegistry > registration logic > should reject an agent definition missing a description 0ms
   âœ“ AgentRegistry > registration logic > should overwrite an existing agent definition 0ms
   âœ“ AgentRegistry > registration logic > should log overwrites when in debug mode 0ms
   âœ“ AgentRegistry > registration logic > should not log overwrites when not in debug mode 0ms
   âœ“ AgentRegistry > registration logic > should handle bulk registrations correctly 0ms
   âœ“ AgentRegistry > reload > should clear existing agents and reload from directories 0ms
   âœ“ AgentRegistry > inheritance and refresh > should resolve "inherit" to the current model from configuration 0ms
   âœ“ AgentRegistry > inheritance and refresh > should update inherited models when the main model changes 1ms
   âœ“ AgentRegistry > accessors > getDefinition should return the correct definition 0ms
   âœ“ AgentRegistry > accessors > getDefinition should return undefined for unknown agents 0ms
   âœ“ AgentRegistry > accessors > getAllDefinitions should return all registered definitions 0ms
   âœ“ AgentRegistry > accessors > getAllDiscoveredAgentNames should return all names including disabled ones 0ms
   âœ“ AgentRegistry > accessors > getDiscoveredDefinition should return the definition for a disabled agent 0ms
   âœ“ AgentRegistry > overrides > should skip registration if agent is disabled in settings 0ms
   âœ“ AgentRegistry > overrides > should skip remote agent registration if disabled in settings 0ms
   âœ“ AgentRegistry > overrides > should merge runConfig overrides 0ms
   âœ“ AgentRegistry > overrides > should apply modelConfig overrides 0ms
   âœ“ AgentRegistry > overrides > should deep merge generateContentConfig (e.g. thinkingConfig) 0ms
   âœ“ AgentRegistry > overrides > should preserve lazy getters when applying overrides 0ms
   âœ“ AgentRegistry > getDirectoryContext > should return default message when no agents are registered 0ms
   âœ“ AgentRegistry > getDirectoryContext > should return formatted list of agents when agents are available 0ms
 â¯ src/services/chatRecordingService.test.ts (17 tests | 1 failed) 17ms
   âœ“ ChatRecordingService > initialize > should create a new session if none is provided 2ms
   âœ“ ChatRecordingService > initialize > should resume from an existing session if provided 0ms
   âœ“ ChatRecordingService > recordMessage > should record a new message 1ms
   âœ“ ChatRecordingService > recordMessage > should create separate messages when recording multiple messages 0ms
   âœ“ ChatRecordingService > recordThought > should queue a thought 0ms
   âœ“ ChatRecordingService > recordMessageTokens > should update the last message with token info 0ms
   âœ“ ChatRecordingService > recordMessageTokens > should queue token info if the last message already has tokens 0ms
   âœ“ ChatRecordingService > recordToolCalls > should add new tool calls to the last message 0ms
   âœ“ ChatRecordingService > recordToolCalls > should create a new message if the last message is not from gemini 0ms
   âœ“ ChatRecordingService > deleteSession > should delete the session file 1ms
   âœ“ ChatRecordingService > rewindTo > should rewind the conversation to a specific message ID 0ms
   âœ“ ChatRecordingService > rewindTo > should return the original conversation if the message ID is not found 1ms
   âœ“ ChatRecordingService > ENOSPC (disk full) graceful degradation - issue #16266 > should disable recording and not throw when ENOSPC occurs during initialize 1ms
   âœ“ ChatRecordingService > ENOSPC (disk full) graceful degradation - issue #16266 > should disable recording and not throw when ENOSPC occurs during writeConversation 0ms
   âœ“ ChatRecordingService > ENOSPC (disk full) graceful degradation - issue #16266 > should skip recording operations when recording is disabled 0ms
   âœ“ ChatRecordingService > ENOSPC (disk full) graceful degradation - issue #16266 > should return null from getConversation when recording is disabled 0ms
   Ã— ChatRecordingService > ENOSPC (disk full) graceful degradation - issue #16266 > should still throw for non-ENOSPC errors 6ms
     â†’ expected [Function] to throw an error
 â¯ src/telemetry/loggers.test.ts (36 tests | 32 failed) 23ms
   âœ“ loggers > logChatCompression > logs the chat compression event to Clearcut 3ms
   âœ“ loggers > logChatCompression > records the chat compression event to OTEL 1ms
   Ã— loggers > logCliConfiguration > should log the cli configuration 8ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logUserPrompt > should log a user prompt 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logUserPrompt > should not log prompt if disabled 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logApiResponse > should log an API response with all fields 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logApiError > should log an API error with all fields 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logApiRequest > should log an API request with request_text 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logApiRequest > should log an API request without request_text 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logApiRequest > should log an API request with full semantic details when logPrompts is enabled 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logApiRequest > should log an API request with semantic details, but without prompts when logPrompts is disabled 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logApiRequest > should correctly derive model from prompt details if available in semantic log 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logFlashFallback > should log flash fallback event 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logRipgrepFallback > should log ripgrep fallback event 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logRipgrepFallback > should log ripgrep fallback event with an error 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logToolCall > should log a tool call with all fields 1ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logToolCall > should log a tool call with a reject decision 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logToolCall > should log a tool call with a modify decision 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logToolCall > should log a tool call without a decision 1ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logToolCall > should log a failed tool call with an error 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logToolCall > should log a tool call with mcp_server_name for MCP tools 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   âœ“ loggers > logMalformedJsonResponse > logs the event to Clearcut and OTEL 0ms
   Ã— loggers > logFileOperation > should log a file operation event 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logToolOutputTruncated > should log a tool output truncated event 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logModelRouting > should log the event to Clearcut and OTEL, and record metrics 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logModelRouting > should only log to Clearcut if OTEL SDK is not initialized 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logExtensionInstall > should log extension install event 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logExtensionUpdate > should log extension update event 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logExtensionUninstall > should log extension uninstall event 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logExtensionEnable > should log extension enable event 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logExtensionDisable > should log extension disable event 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logAgentStart > should log agent start event 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logAgentFinish > should log agent finish event and record metrics 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logWebFetchFallbackAttempt > should log web fetch fallback attempt event 0ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   Ã— loggers > logHookCall > should log hook call event to Clearcut and OTEL 1ms
     â†’ config?.getUsageStatisticsEnabled is not a function
   âœ“ loggers > Telemetry Buffering > should buffer events when SDK is not initialized 1ms
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts (52 tests | 49 failed) 35ms
   âœ“ ClearcutLogger > getInstance > returns an instance if usage statistics are enabled 7ms
   âœ“ ClearcutLogger > getInstance > returns an instance if usage statistics are enabled 1ms
   âœ“ ClearcutLogger > getInstance > is a singleton 0ms
   Ã— ClearcutLogger > createLogEvent > logs the total number of google accounts 1ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > createLogEvent > logs default metadata 3ms
     â†’ expected undefined to deeply equal ArrayContaining{â€¦}
   Ã— ClearcutLogger > createLogEvent > logs the current nodejs version 1ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > createLogEvent > logs all user settings 0ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > createLogEvent > logs the GPU information (single GPU) 0ms
     â†’ expected undefined to be defined
   Ã— ClearcutLogger > createLogEvent > logs multiple GPUs 1ms
     â†’ expected undefined to be 'GPU 1, GPU 2' // Object.is equality
   Ã— ClearcutLogger > createLogEvent > logs NA when no GPUs are found 0ms
     â†’ expected undefined to be 'NA' // Object.is equality
   Ã— ClearcutLogger > createLogEvent > logs FAILED when GPU detection fails 0ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > createLogEvent > logs the current surface as 'GitHub' from 'github action' 0ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > createLogEvent > logs the current surface as 'cloudshell' from 'Cloud Shell via EDITOR_IN_CLOUD_SHELL' 0ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > createLogEvent > logs the current surface as 'cloudshell' from 'Cloud Shell via CLOUD_SHELL' 0ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > createLogEvent > logs the current surface as 'vscode' from 'VSCode via TERM_PROGRAM' 0ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > createLogEvent > logs the current surface as 'ide-1234' from 'SURFACE env var' 0ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > createLogEvent > logs the current surface as 'ide-1234' from 'SURFACE env var takes precedence' 0ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > createLogEvent > logs the current surface as 'cursor' from 'Cursor' 0ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > createLogEvent > logs the current surface as 'firebasestudio' from 'Firebase Studio' 0ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > createLogEvent > logs the current surface as 'devin' from 'Devin' 0ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > createLogEvent > logs the current surface as 'SURFACE_NOT_SET' from 'unidentified' 0ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > GH_WORKFLOW_NAME metadata > includes workflow name when GH_WORKFLOW_NAME is set 0ms
     â†’ undefined is not iterable (cannot read property Symbol(Symbol.iterator))
   Ã— ClearcutLogger > GH_WORKFLOW_NAME metadata > does not include workflow name when GH_WORKFLOW_NAME is not set 0ms
     â†’ expected undefined to be false // Object.is equality
   Ã— ClearcutLogger > GITHUB_REPOSITORY metadata > includes hashed repository when GITHUB_REPOSITORY is set 0ms
     â†’ expected undefined to be defined
   Ã— ClearcutLogger > GITHUB_REPOSITORY metadata > hashes repository name consistently 0ms
     â†’ expected undefined to be defined
   Ã— ClearcutLogger > GITHUB_REPOSITORY metadata > produces different hashes for different repositories 0ms
     â†’ expected undefined to be defined
   Ã— ClearcutLogger > GITHUB_REPOSITORY metadata > does not include repository when GITHUB_REPOSITORY is not set 0ms
     â†’ expected undefined to be false // Object.is equality
   Ã— ClearcutLogger > logChatCompressionEvent > logs an event with proper fields 1ms
     â†’ Cannot read properties of undefined (reading 'events')
   Ã— ClearcutLogger > logRipgrepFallbackEvent > logs an event with the proper name 1ms
     â†’ Cannot convert undefined or null to object
   Ã— ClearcutLogger > enqueueLogEvent > should add events to the queue 0ms
     â†’ Cannot read properties of undefined (reading 'enqueueLogEvent')
   Ã— ClearcutLogger > enqueueLogEvent > should evict the oldest event when the queue is full 0ms
     â†’ Cannot read properties of undefined (reading 'enqueueLogEvent')
   Ã— ClearcutLogger > flushToClearcut > allows for usage with a configured proxy agent 1ms
     â†’ Cannot read properties of undefined (reading 'enqueueLogEvent')
   Ã— ClearcutLogger > flushToClearcut > should clear events on successful flush 0ms
     â†’ Cannot read properties of undefined (reading 'enqueueLogEvent')
   Ã— ClearcutLogger > flushToClearcut > should handle a network error and requeue events 0ms
     â†’ Cannot read properties of undefined (reading 'enqueueLogEvent')
   Ã— ClearcutLogger > flushToClearcut > should handle an HTTP error and requeue events 0ms
     â†’ Cannot read properties of undefined (reading 'enqueueLogEvent')
   Ã— ClearcutLogger > requeueFailedEvents logic > should limit the number of requeued events to max_retry_events 3ms
     â†’ Cannot read properties of undefined (reading 'requeueFailedEvents')
   Ã— ClearcutLogger > requeueFailedEvents logic > should not requeue more events than available space in the queue 1ms
     â†’ Cannot read properties of undefined (reading 'enqueueLogEvent')
   Ã— ClearcutLogger > logModelRoutingEvent > logs a successful routing event 1ms
     â†’ Cannot read properties of undefined (reading 'events')
   Ã— ClearcutLogger > logModelRoutingEvent > logs a failed routing event with a reason 0ms
     â†’ Cannot read properties of undefined (reading 'events')
   Ã— ClearcutLogger > logAgentStartEvent > logs an event with proper fields 0ms
     â†’ Cannot read properties of undefined (reading 'events')
   Ã— ClearcutLogger > logExperiments > async path includes exp.gws_experiment field with experiment IDs 1ms
     â†’ Cannot read properties of undefined (reading 'createLogEvent')
   Ã— ClearcutLogger > logExperiments > async path includes empty gws_experiment array when no experiments 0ms
     â†’ Cannot read properties of undefined (reading 'createLogEvent')
   Ã— ClearcutLogger > logExperiments > non-async path does not include exp.gws_experiment field 0ms
     â†’ Cannot read properties of undefined (reading 'events')
   Ã— ClearcutLogger > logAgentFinishEvent > logs an event with proper fields (success) 0ms
     â†’ Cannot read properties of undefined (reading 'events')
   Ã— ClearcutLogger > logAgentFinishEvent > logs an event with proper fields (error) 0ms
     â†’ Cannot read properties of undefined (reading 'events')
   Ã— ClearcutLogger > logToolCallEvent > logs an event with all diff metadata 0ms
     â†’ Cannot read properties of undefined (reading 'events')
   Ã— ClearcutLogger > logToolCallEvent > logs an event with partial diff metadata 0ms
     â†’ Cannot read properties of undefined (reading 'events')
   Ã— ClearcutLogger > logToolCallEvent > does not log diff metadata if diffStat is not present 0ms
     â†’ Cannot read properties of undefined (reading 'events')
   Ã— ClearcutLogger > flushIfNeeded > should not flush if the interval has not passed 0ms
     â†’ Cannot convert undefined or null to object
   Ã— ClearcutLogger > flushIfNeeded > should flush if the interval has passed 0ms
     â†’ Cannot convert undefined or null to object
   Ã— ClearcutLogger > logWebFetchFallbackAttemptEvent > logs an event with the proper name and reason 0ms
     â†’ Cannot read properties of undefined (reading 'events')
   Ã— ClearcutLogger > logHookCallEvent > logs an event with proper fields 0ms
     â†’ Cannot read properties of undefined (reading 'events')
 âœ“ src/tools/ripGrep.test.ts (53 tests | 1 skipped) 448ms
 âœ“ src/mcp/oauth-provider.test.ts (38 tests) 1268ms
   âœ“ MCPOAuthProvider > authenticate > should handle invalid callback request  1001ms
 â¯ src/core/client.test.ts (72 tests | 1 failed | 1 skipped) 302ms
   âœ“ Gemini Client (client.ts) > addHistory > should call chat.addHistory with the provided content 6ms
   âœ“ Gemini Client (client.ts) > setHistory > should update telemetry token count when history is set 1ms
   âœ“ Gemini Client (client.ts) > resumeChat > should update telemetry token count when a chat is resumed 1ms
   âœ“ Gemini Client (client.ts) > resetChat > should create a new chat session, clearing the old history 1ms
   Ã— Gemini Client (client.ts) > startChat > should include environment context when resuming a session 10ms
     â†’ expected 'This is the Codefly CLI. We are settiâ€¦' to contain 'This is the Gemini CLI'
   âœ“ Gemini Client (client.ts) > tryCompressChat > when compression inflates the token count > allows compression to be forced/manual after a failure 2ms
   âœ“ Gemini Client (client.ts) > tryCompressChat > when compression inflates the token count > yields the result even if the compression inflated the tokens 2ms
   âœ“ Gemini Client (client.ts) > tryCompressChat > when compression inflates the token count > does not manipulate the source chat 3ms
   â†“ Gemini Client (client.ts) > tryCompressChat > when compression inflates the token count > will not attempt to compress context after a failure
   âœ“ Gemini Client (client.ts) > tryCompressChat > should correctly latch hasFailedCompressionAttempt flag 2ms
   âœ“ Gemini Client (client.ts) > tryCompressChat > should not trigger summarization if token count is below threshold 1ms
   âœ“ Gemini Client (client.ts) > tryCompressChat > should return NOOP if history is too short to compress 1ms
   âœ“ Gemini Client (client.ts) > tryCompressChat > should resume the session file when compression succeeds 2ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > emits a compression event when the context was automatically compressed 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > does not emit ModelInfo event if signal is aborted 2ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > does not emit a compression event when the status is 2 2ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > does not emit a compression event when the status is 5 2ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should include editor context when ideMode is enabled 2ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should not add context if ideMode is enabled but no open files 3ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should add context if ideMode is enabled and there is one active file 2ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should add context if ideMode is enabled and there are open files but no active file 2ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should use local estimation for text-only requests and NOT call countTokens 2ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should use countTokens API for requests with non-text parts 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should estimate CJK characters more conservatively (closer to 1 token/char) 2ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should return the turn instance after the stream is complete 2ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should stop infinite loop after MAX_TURNS when nextSpeaker always returns model 11ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should yield MaxSessionTurns and stop when session turn limit is reached 5ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should respect MAX_TURNS limit even when turns parameter is set to a large value 14ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should yield ContextWindowWillOverflow when the context window is about to overflow 2ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should use the sticky model's token limit for the overflow check 2ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should attempt compression before overflow check and proceed if compression frees space 2ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should handle massive function responses by truncating them and then yielding overflow warning 10ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should not trigger overflow warning for requests with large binary data (PDFs/images) 3ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Model Routing > should use the model router service to select a model on the first turn 3ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Model Routing > should use the same model for subsequent turns in the same prompt (stickiness) 3ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Model Routing > should reset the sticky model and re-route when the prompt_id changes 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Model Routing > should re-route within the same prompt when the configured model changes 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should use getGlobalMemory for system instruction when JIT is enabled 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should use getUserMemory for system instruction when JIT is disabled 7ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should recursively call sendMessageStream with "Please continue." when InvalidStream event is received 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should not recursively call sendMessageStream with "Please continue." when InvalidStream event is received and flag is false 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should stop recursing after one retry when InvalidStream events are repeatedly received 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Editor context delta > 'sends delta when active file changes' 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Editor context delta > 'sends delta when cursor line changes' 3ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Editor context delta > 'sends delta when cursor character chaâ€¦' 3ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Editor context delta > 'sends delta when selected text changes' 3ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Editor context delta > 'sends delta when selected text is addâ€¦' 3ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Editor context delta > 'sends delta when selected text is remâ€¦' 9ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Editor context delta > 'does not send context when nothing châ€¦' 3ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Editor context delta > sends full context when history is cleared, even if editor state is unchanged 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Availability Service Integration > should select first available model, set active, and not consume sticky attempt (done lower in chain) 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Availability Service Integration > should default to last resort model if selection returns null 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Availability Service Integration > should reset turn on new message stream 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > Availability Service Integration > should NOT reset turn on invalid stream retry 3ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > IDE context with pending tool calls > should NOT add IDE context when a tool call is pending 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > IDE context with pending tool calls > should add IDE context when no tool call is pending 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > IDE context with pending tool calls > should send the latest IDE context on the next message after a skipped context 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > IDE context with pending tool calls > should send a context DELTA on the next message after a skipped context 6ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should not call checkNextSpeaker when turn.run() yields an error 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should not call checkNextSpeaker when turn.run() yields a value then an error 4ms
   âœ“ Gemini Client (client.ts) > sendMessageStream > should abort linked signal when loop is detected 4ms
   âœ“ Gemini Client (client.ts) > generateContent > should call generateContent with the correct parameters 5ms
   âœ“ Gemini Client (client.ts) > generateContent > should use current model from config for content generation 5ms
   âœ“ Gemini Client (client.ts) > generateContent > Hook System > should fire BeforeAgent and AfterAgent exactly once for a simple turn 6ms
   âœ“ Gemini Client (client.ts) > generateContent > Hook System > should fire BeforeAgent once and AfterAgent once even with recursion 6ms
   âœ“ Gemini Client (client.ts) > generateContent > Hook System > should use original request in AfterAgent hook even when continuation happened 8ms
   âœ“ Gemini Client (client.ts) > generateContent > Hook System > should cleanup state when prompt_id changes 7ms
   âœ“ Gemini Client (client.ts) > generateContent > Hook System > should stop execution in BeforeAgent when hook returns continue: false 9ms
   âœ“ Gemini Client (client.ts) > generateContent > Hook System > should block execution in BeforeAgent when hook returns decision: block 6ms
   âœ“ Gemini Client (client.ts) > generateContent > Hook System > should stop execution in AfterAgent when hook returns continue: false 7ms
   âœ“ Gemini Client (client.ts) > generateContent > Hook System > should yield AgentExecutionBlocked and recurse in AfterAgent when hook returns decision: block 6ms
   âœ“ Gemini Client (client.ts) > generateContent > Hook System > should call resetChat when AfterAgent hook returns shouldClearContext: true 10ms
 âœ“ src/utils/filesearch/fileSearch.test.ts (28 tests) 286ms
 âœ“ src/tools/ls.test.ts (21 tests) 174ms
 âœ“ src/services/shellExecutionService.test.ts (53 tests | 1 skipped) 378ms
 â¯ src/config/config.test.ts (133 tests | 6 failed) 977ms
   âœ“ Server Config (config.ts) > initialize > should throw an error if checkpointing is enabled and GitService fails 3ms
   âœ“ Server Config (config.ts) > initialize > should not throw an error if checkpointing is disabled and GitService fails 3ms
   âœ“ Server Config (config.ts) > initialize > should throw an error if initialized more than once 1ms
   âœ“ Server Config (config.ts) > initialize > should await MCP initialization in non-interactive mode 53ms
   âœ“ Server Config (config.ts) > initialize > should not await MCP initialization in interactive mode 63ms
   âœ“ Server Config (config.ts) > initialize > getCompressionThreshold > should return the local compression threshold if it is set 1ms
   Ã— Server Config (config.ts) > initialize > getCompressionThreshold > should return the remote experiment threshold if it is a positive number 5ms
     â†’ expected undefined to be 0.8 // Object.is equality
   âœ“ Server Config (config.ts) > initialize > getCompressionThreshold > should return undefined if the remote experiment threshold is 0 0ms
   âœ“ Server Config (config.ts) > initialize > getCompressionThreshold > should return undefined if there are no experiments 0ms
   Ã— Server Config (config.ts) > initialize > getUserCaching > should return the remote experiment flag when available 0ms
     â†’ expected undefined to be true // Object.is equality
   Ã— Server Config (config.ts) > initialize > getUserCaching > should return false when the remote flag is false 0ms
     â†’ expected undefined to be false // Object.is equality
   âœ“ Server Config (config.ts) > initialize > getUserCaching > should return undefined if there are no experiments 0ms
   âœ“ Server Config (config.ts) > refreshAuth > should refresh auth and update config 1ms
   âœ“ Server Config (config.ts) > refreshAuth > should reset model availability status 1ms
   âœ“ Server Config (config.ts) > refreshAuth > should strip thoughts when switching from GenAI to Vertex 0ms
   âœ“ Server Config (config.ts) > refreshAuth > should strip thoughts when switching from GenAI to Vertex AI 0ms
   âœ“ Server Config (config.ts) > refreshAuth > should not strip thoughts when switching from Vertex to GenAI 0ms
   âœ“ Server Config (config.ts) > Preview Features Logic in refreshAuth > should enable preview features for Google auth when remote flag is true 0ms
   âœ“ Server Config (config.ts) > Preview Features Logic in refreshAuth > should disable preview features for Google auth when remote flag is false 0ms
   âœ“ Server Config (config.ts) > Preview Features Logic in refreshAuth > should disable preview features for Google auth when remote flag is missing 0ms
   âœ“ Server Config (config.ts) > Preview Features Logic in refreshAuth > should not change preview features or model if it is already set to true 0ms
   âœ“ Server Config (config.ts) > Preview Features Logic in refreshAuth > should not change preview features or model if it is already set to false 0ms
   âœ“ Server Config (config.ts) > Config constructor should store userMemory correctly 0ms
   âœ“ Server Config (config.ts) > Config constructor should default userMemory to empty string if not provided 0ms
   âœ“ Server Config (config.ts) > Config constructor should call setGeminiMdFilename with contextFileName if provided 0ms
   âœ“ Server Config (config.ts) > Config constructor should not call setGeminiMdFilename if contextFileName is not provided 0ms
   âœ“ Server Config (config.ts) > should set default file filtering settings when not provided 0ms
   âœ“ Server Config (config.ts) > should set custom file filtering settings when provided 0ms
   âœ“ Server Config (config.ts) > should initialize WorkspaceContext with includeDirectories 0ms
   âœ“ Server Config (config.ts) > Config constructor should set telemetry to true when provided as true 0ms
   âœ“ Server Config (config.ts) > Config constructor should set telemetry to false when provided as false 0ms
   âœ“ Server Config (config.ts) > Config constructor should default telemetry to default value if not provided 0ms
   âœ“ Server Config (config.ts) > Config constructor should set telemetry useCollector to true when provided 0ms
   âœ“ Server Config (config.ts) > Config constructor should set telemetry useCollector to false when provided 0ms
   âœ“ Server Config (config.ts) > Config constructor should default telemetry useCollector to false if not provided 0ms
   âœ“ Server Config (config.ts) > should have a getFileService method that returns FileDiscoveryService 0ms
   Ã— Server Config (config.ts) > Usage Statistics > defaults usage statistics to enabled if not specified 1ms
     â†’ expected false to be true // Object.is equality
   âœ“ Server Config (config.ts) > Usage Statistics > sets usage statistics based on the provided value (enabled: true) 0ms
   âœ“ Server Config (config.ts) > Usage Statistics > sets usage statistics based on the provided value (enabled: false) 0ms
   âœ“ Server Config (config.ts) > Telemetry Settings > should return default telemetry target if not provided 0ms
   âœ“ Server Config (config.ts) > Telemetry Settings > should return provided OTLP endpoint 0ms
   âœ“ Server Config (config.ts) > Telemetry Settings > should return default OTLP endpoint if not provided 0ms
   âœ“ Server Config (config.ts) > Telemetry Settings > should return provided logPrompts setting 0ms
   âœ“ Server Config (config.ts) > Telemetry Settings > should return default logPrompts setting (true) if not provided 0ms
   âœ“ Server Config (config.ts) > Telemetry Settings > should return default logPrompts setting (true) if telemetry object is not provided 0ms
   âœ“ Server Config (config.ts) > Telemetry Settings > should return default telemetry target if telemetry object is not provided 0ms
   âœ“ Server Config (config.ts) > Telemetry Settings > should return default OTLP endpoint if telemetry object is not provided 0ms
   âœ“ Server Config (config.ts) > Telemetry Settings > should return provided OTLP protocol 0ms
   âœ“ Server Config (config.ts) > Telemetry Settings > should return default OTLP protocol if not provided 0ms
   âœ“ Server Config (config.ts) > Telemetry Settings > should return default OTLP protocol if telemetry object is not provided 0ms
   âœ“ Server Config (config.ts) > UseRipgrep Configuration > should default useRipgrep to true when not provided 0ms
   âœ“ Server Config (config.ts) > UseRipgrep Configuration > should set useRipgrep to false when provided as false 0ms
   âœ“ Server Config (config.ts) > UseRipgrep Configuration > should set useRipgrep to true when explicitly provided as true 0ms
   âœ“ Server Config (config.ts) > UseRipgrep Configuration > should default useRipgrep to true when undefined 0ms
   Ã— Server Config (config.ts) > UseWriteTodos Configuration > should default useWriteTodos to true when not provided 0ms
     â†’ expected false to be true // Object.is equality
   âœ“ Server Config (config.ts) > UseWriteTodos Configuration > should set useWriteTodos to false when provided as false 0ms
   âœ“ Server Config (config.ts) > UseWriteTodos Configuration > should disable useWriteTodos for preview models 0ms
   âœ“ Server Config (config.ts) > UseWriteTodos Configuration > should NOT disable useWriteTodos for non-preview models 0ms
   âœ“ Server Config (config.ts) > Event Driven Scheduler Configuration > should default enableEventDrivenScheduler to true when not provided 0ms
   âœ“ Server Config (config.ts) > Event Driven Scheduler Configuration > should set enableEventDrivenScheduler to false when provided as false 0ms
   âœ“ Server Config (config.ts) > Shell Tool Inactivity Timeout > should default to 300000ms (300 seconds) when not provided 0ms
   âœ“ Server Config (config.ts) > Shell Tool Inactivity Timeout > should convert provided seconds to milliseconds 0ms
   âœ“ Server Config (config.ts) > ContinueOnFailedApiCall Configuration > should default continueOnFailedApiCall to false when not provided 0ms
   âœ“ Server Config (config.ts) > ContinueOnFailedApiCall Configuration > should set continueOnFailedApiCall to true when provided as true 0ms
   âœ“ Server Config (config.ts) > ContinueOnFailedApiCall Configuration > should set continueOnFailedApiCall to false when explicitly provided as false 0ms
   âœ“ Server Config (config.ts) > createToolRegistry > should register a tool if coreTools contains an argument-specific pattern 55ms
   âœ“ Server Config (config.ts) > createToolRegistry > should register subagents as tools when agents.overrides.codebase_investigator.enabled is true 57ms
   âœ“ Server Config (config.ts) > createToolRegistry > should not register subagents as tools when agents are disabled 53ms
   âœ“ Server Config (config.ts) > createToolRegistry > with minified tool class names > should register a tool if coreTools contains the non-minified class name 55ms
   âœ“ Server Config (config.ts) > createToolRegistry > with minified tool class names > should register a tool if coreTools contains an argument-specific pattern with the non-minified class name 56ms
   âœ“ Server Config (config.ts) > getTruncateToolOutputThreshold > should return the calculated threshold when it is smaller than the default 1ms
   âœ“ Server Config (config.ts) > getTruncateToolOutputThreshold > should return the default threshold when the calculated value is larger 0ms
   âœ“ Server Config (config.ts) > getTruncateToolOutputThreshold > should use a custom truncateToolOutputThreshold if provided 0ms
   âœ“ Server Config (config.ts) > Proxy Configuration Error Handling > should call setGlobalProxy when proxy is configured 0ms
   âœ“ Server Config (config.ts) > Proxy Configuration Error Handling > should not call setGlobalProxy when proxy is not configured 0ms
   âœ“ Server Config (config.ts) > Proxy Configuration Error Handling > should emit error feedback when setGlobalProxy throws an error 1ms
   âœ“ Server Config (config.ts) > Proxy Configuration Error Handling > should not emit error feedback when setGlobalProxy succeeds 1ms
   âœ“ setApprovalMode with folder trust > should throw an error when setting YOLO mode in an untrusted folder 0ms
   âœ“ setApprovalMode with folder trust > should throw an error when setting AUTO_EDIT mode in an untrusted folder 0ms
   âœ“ setApprovalMode with folder trust > should NOT throw an error when setting DEFAULT mode in an untrusted folder 0ms
   âœ“ setApprovalMode with folder trust > should NOT throw an error when setting any mode in a trusted folder 0ms
   âœ“ setApprovalMode with folder trust > should NOT throw an error when setting any mode if trustedFolder is undefined 0ms
   âœ“ setApprovalMode with folder trust > registerCoreTools > should register RipGrepTool when useRipgrep is true and it is available 53ms
   âœ“ setApprovalMode with folder trust > registerCoreTools > should register GrepTool as a fallback when useRipgrep is true but it is not available 53ms
   âœ“ setApprovalMode with folder trust > registerCoreTools > should register GrepTool as a fallback when canUseRipgrep throws an error 52ms
   âœ“ setApprovalMode with folder trust > registerCoreTools > should register GrepTool when useRipgrep is false 52ms
   âœ“ isYoloModeDisabled > should return false when yolo mode is not disabled and folder is trusted 0ms
   âœ“ isYoloModeDisabled > should return true when yolo mode is disabled by parameter 0ms
   âœ“ isYoloModeDisabled > should return true when folder is untrusted 0ms
   âœ“ isYoloModeDisabled > should return true when yolo is disabled and folder is untrusted 0ms
   âœ“ BaseLlmClient Lifecycle > should throw an error if getBaseLlmClient is called before refreshAuth 0ms
   âœ“ BaseLlmClient Lifecycle > should successfully initialize BaseLlmClient after refreshAuth is called 0ms
   âœ“ Generation Config Merging (HACK) > should merge default aliases when user provides only overrides 0ms
   âœ“ Generation Config Merging (HACK) > should merge default overrides when user provides only aliases 0ms
   âœ“ Generation Config Merging (HACK) > should use user-provided aliases if they exist 0ms
   âœ“ Generation Config Merging (HACK) > should use default generation config if none is provided 0ms
   âœ“ Config getHooks > should return undefined when no hooks are provided 0ms
   âœ“ Config getHooks > should return empty object when empty hooks are provided 0ms
   âœ“ Config getHooks > should return the hooks configuration when provided 0ms
   âœ“ Config getHooks > should return hooks with all supported event types 0ms
   âœ“ Config getHooks > setModel > should allow setting a pro (any) model and reset availability 0ms
   âœ“ Config getHooks > setModel > should allow setting auto model from non-auto model and reset availability 0ms
   âœ“ Config getHooks > setModel > should allow setting auto model from auto model and reset availability 0ms
   âœ“ Config getHooks > setModel > should reset active model when setModel is called with the current model after a fallback 0ms
   âœ“ Config getHooks > setModel > should call onModelChange when a new model is set and should persist 0ms
   âœ“ Config getHooks > setModel > should NOT call onModelChange when a new model is temporary 0ms
   âœ“ Config getExperiments > should return undefined when no experiments are provided 0ms
   âœ“ Config getExperiments > should return empty object when empty experiments are provided 0ms
   âœ“ Config getExperiments > should return the experiments configuration when provided 0ms
   âœ“ Config setExperiments logging > logs a sorted, non-truncated summary of experiments when they are set 0ms
   âœ“ Availability Service Integration > setActiveModel updates active model 0ms
   âœ“ Availability Service Integration > getActiveModel defaults to configured model if not set 0ms
   âœ“ Availability Service Integration > resetTurn delegates to availability service 0ms
   âœ“ Hooks configuration > updateDisabledHooks should update the disabled list 0ms
   âœ“ Hooks configuration > updateDisabledHooks should only update disabled list and not definitions 0ms
   Ã— Config Quota & Preview Model Access > refreshUserQuota > should update hasAccessToPreviewModel to true if quota includes preview model 1ms
     â†’ expected false to be true // Object.is equality
   âœ“ Config Quota & Preview Model Access > refreshUserQuota > should update hasAccessToPreviewModel to false if quota does not include preview model 0ms
   âœ“ Config Quota & Preview Model Access > refreshUserQuota > should update hasAccessToPreviewModel to false if buckets are undefined 0ms
   âœ“ Config Quota & Preview Model Access > refreshUserQuota > should return undefined and not update if codeAssistServer is missing 0ms
   âœ“ Config Quota & Preview Model Access > refreshUserQuota > should return undefined if retrieveUserQuota fails 0ms
   âœ“ Config Quota & Preview Model Access > setPreviewFeatures > should reset model to default auto if disabling preview features while using a preview model 0ms
   âœ“ Config Quota & Preview Model Access > setPreviewFeatures > should NOT reset model if disabling preview features while NOT using a preview model 0ms
   âœ“ Config Quota & Preview Model Access > setPreviewFeatures > should switch to preview auto model if enabling preview features while using default auto model 0ms
   âœ“ Config Quota & Preview Model Access > setPreviewFeatures > should NOT reset model if enabling preview features 0ms
   âœ“ Config Quota & Preview Model Access > isPlanEnabled > should return false by default 0ms
   âœ“ Config Quota & Preview Model Access > isPlanEnabled > should return true when plan is enabled 1ms
   âœ“ Config Quota & Preview Model Access > isPlanEnabled > should return false when plan is explicitly disabled 1ms
   âœ“ Config JIT Initialization > should initialize ContextManager, load memory, and delegate to it when experimentalJitContext is enabled 53ms
   âœ“ Config JIT Initialization > should NOT initialize ContextManager when experimentalJitContext is disabled 53ms
   âœ“ Config JIT Initialization > reloadSkills > should refresh disabledSkills and re-register ActivateSkillTool when skills exist 64ms
   âœ“ Config JIT Initialization > reloadSkills > should unregister ActivateSkillTool when no skills exist after reload 54ms
   âœ“ Config JIT Initialization > reloadSkills > should clear disabledSkills when onReload returns undefined for them 54ms
   âœ“ Config JIT Initialization > reloadSkills > should update admin settings from onReload 56ms
 âœ“ src/tools/grep.test.ts (24 tests) 297ms
 âœ“ src/core/geminiChat_network_retry.test.ts (3 tests) 1016ms
   âœ“ GeminiChat Network Retries > should retry when a 503 ApiError occurs during stream iteration  511ms
   âœ“ GeminiChat Network Retries > should retry on generic network error if retryFetchErrors is true  503ms
 âœ“ src/utils/fileUtils.test.ts (78 tests) 270ms
 âœ“ src/core/logger.test.ts (39 tests) 268ms
 âœ“ src/services/fileDiscoveryService.test.ts (20 tests) 115ms
 âœ“ src/utils/filesearch/crawler.test.ts (19 tests) 111ms
 âœ“ src/utils/pathReader.test.ts (18 tests) 57ms
 âœ“ src/tools/read-many-files.test.ts (31 tests) 264ms
 âœ“ src/utils/gitIgnoreParser.test.ts (25 tests) 204ms
 âœ“ src/utils/bfsFileSearch.test.ts (16 tests) 230ms
 âœ“ src/agents/agentLoader.test.ts (18 tests) 41ms
 âœ“ src/core/coreToolScheduler.test.ts (20 tests) 391ms
 âœ“ src/utils/memoryDiscovery.test.ts (29 tests) 472ms
 âœ“ src/tools/edit.test.ts (41 tests) 210ms
 âœ“ src/tools/database-schema.test.ts (6 tests) 33ms
 âœ“ src/tools/read-file.test.ts (29 tests) 178ms
 âœ“ src/tools/glob.test.ts (37 tests) 2109ms
 âœ“ src/tools/swagger-schema.test.ts (8 tests) 23ms
 âœ“ src/utils/getFolderStructure.test.ts (15 tests) 98ms
 âœ“ src/code_assist/oauth2.test.ts (30 tests) 202ms
 âœ“ src/mcp/token-storage/keychain-token-storage.test.ts (29 tests) 111ms
 âœ“ src/utils/shell-utils.test.ts (57 tests | 1 skipped) 55ms
 âœ“ src/safety/built-in.test.ts (14 tests) 95ms
 âœ“ src/tools/ask-user.test.ts (12 tests) 35ms
 âœ“ src/tools/write-file.test.ts (33 tests) 132ms
 âœ“ src/hooks/hookRunner.test.ts (24 tests) 103ms
 âœ“ src/policy/toml-loader.test.ts (27 tests) 94ms
 âœ“ src/tools/web-fetch.test.ts (31 tests) 32ms
 âœ“ src/code_assist/experiments/experiments_local.test.ts (5 tests) 13ms
 âœ“ src/skills/skillLoader.test.ts (13 tests) 78ms
 âœ“ src/utils/geminiIgnoreParser.test.ts (11 tests) 50ms
 âœ“ src/utils/userAccountManager.test.ts (23 tests) 32ms
 âœ“ src/tools/mcp-tool.test.ts (43 tests) 76ms
 âœ“ src/services/loopDetectionService.test.ts (47 tests) 66ms
 âœ“ src/scheduler/scheduler.test.ts (23 tests) 16ms
 âœ“ src/tools/confirmation-policy.test.ts (6 tests) 63ms
 âœ“ src/telemetry/gcp-exporters.test.ts (18 tests) 36ms
(node:76567) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 model-changed listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
 âœ“ src/services/chatCompressionService.test.ts (26 tests) 37ms
 âœ“ src/agents/local-executor.test.ts (36 tests) 34ms
 âœ“ src/utils/terminalSerializer.test.ts (17 tests) 38ms
 âœ“ src/ide/ide-client.test.ts (47 tests) 24ms
 âœ“ src/utils/workspaceContext.test.ts (38 tests) 34ms
 âœ“ src/policy/policy-engine.test.ts (78 tests) 22ms
 âœ“ src/tools/shell.test.ts (23 tests | 1 skipped) 79ms
 âœ“ src/scheduler/tool-executor.test.ts (5 tests) 109ms
 âœ“ src/tools/modifiable-tool.test.ts (12 tests) 27ms
 âœ“ src/agents/subagent-tool-wrapper.test.ts (6 tests) 27ms
 âœ“ src/utils/errorReporting.test.ts (6 tests) 45ms
 âœ“ src/policy/persistence.test.ts (5 tests) 15ms
 âœ“ src/scheduler/policy.test.ts (16 tests) 5ms
 âœ“ src/tools/tool-names.test.ts (5 tests) 2ms
 âœ“ src/utils/events.test.ts (17 tests) 18ms
 âœ“ src/code_assist/experiments/experiments.test.ts (4 tests) 10ms
 âœ“ src/code_assist/experiments/client_metadata.test.ts (12 tests) 26ms
 âœ“ src/utils/filesearch/ignore.test.ts (12 tests) 10ms
 âœ“ src/skills/skillManager.test.ts (8 tests) 78ms
 âœ“ src/utils/editor.test.ts (123 tests) 16ms
 âœ“ src/tools/activate-skill.test.ts (7 tests) 20ms
 âœ“ src/tools/get-internal-docs.test.ts (4 tests) 25ms
 âœ“ src/scheduler/confirmation.test.ts (9 tests) 6ms
(node:76599) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 model-changed listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
 âœ“ src/tools/message-bus-integration.test.ts (6 tests) 20ms
 âœ“ src/hooks/hookSystem.test.ts (8 tests) 62ms
 âœ“ src/utils/retry.test.ts (30 tests) 28ms
 âœ“ src/utils/memoryImportProcessor.test.ts (25 tests) 17ms
(node:76612) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 model-changed listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
 âœ“ src/tools/write-todos.test.ts (9 tests) 17ms
 âœ“ src/tools/tool-registry.test.ts (16 tests) 23ms
 âœ“ src/utils/systemEncoding.test.ts (38 tests) 15ms
 âœ“ src/utils/environmentContext.test.ts (6 tests) 13ms
 âœ“ src/utils/schemaValidator.test.ts (7 tests) 20ms
 âœ“ src/telemetry/memory-monitor.test.ts (31 tests) 21ms
 âœ“ src/hooks/hookRegistry.test.ts (24 tests) 12ms
 âœ“ src/services/sessionSummaryService.test.ts (33 tests) 10ms
 âœ“ src/tools/web-search.test.ts (9 tests) 23ms
 âœ“ src/code_assist/admin/admin_controls.test.ts (14 tests) 12ms
 âœ“ src/code_assist/oauth-credential-storage.test.ts (16 tests) 7ms
 âœ“ src/safety/checker-runner.test.ts (9 tests) 9ms
 âœ“ src/routing/strategies/numericalClassifierStrategy.test.ts (17 tests) 9ms
 âœ“ src/hooks/hookPlanner.test.ts (10 tests) 4ms
 âœ“ src/utils/editCorrector.test.ts (40 tests) 11ms
 âœ“ src/utils/summarizer.test.ts (8 tests) 23ms
 â¯ src/tools/mcp-client.test.ts (50 tests | 1 failed) 5059ms
   âœ“ mcp-client > McpClient > should discover tools 5ms
   âœ“ mcp-client > McpClient > should not skip tools even if a parameter is missing a type 1ms
   âœ“ mcp-client > McpClient > should handle errors when discovering prompts 2ms
   âœ“ mcp-client > McpClient > should not discover tools if server does not support them 1ms
   âœ“ mcp-client > McpClient > should discover tools if server supports them 1ms
   âœ“ mcp-client > McpClient > should discover tools with $defs and $ref in schema 2ms
   âœ“ mcp-client > McpClient > should discover resources when a server only exposes resources 2ms
   âœ“ mcp-client > McpClient > refreshes registry when resource list change notification is received 2ms
   âœ“ mcp-client > McpClient > should remove tools and prompts on disconnect 1ms
   âœ“ mcp-client > Dynamic Tool Updates > should set up notification handler if server supports tool list changes 1ms
   âœ“ mcp-client > Dynamic Tool Updates > should NOT set up notification handler if server lacks capability 1ms
   âœ“ mcp-client > Dynamic Tool Updates > should refresh tools and notify manager when notification is received 1ms
   âœ“ mcp-client > Dynamic Tool Updates > should handle errors during tool refresh gracefully 1ms
   âœ“ mcp-client > Dynamic Tool Updates > should handle concurrent updates from multiple servers 1ms
   âœ“ mcp-client > Dynamic Tool Updates > should abort discovery and log error if timeout is exceeded during refresh 2ms
   âœ“ mcp-client > Dynamic Tool Updates > should pass abort signal to onToolsUpdated callback 1ms
   âœ“ mcp-client > appendMcpServerCommand > should do nothing if no MCP servers or command are configured 0ms
   âœ“ mcp-client > appendMcpServerCommand > should discover tools via mcpServerCommand 1ms
   âœ“ mcp-client > appendMcpServerCommand > should handle error if mcpServerCommand parsing fails 0ms
   âœ“ mcp-client > createTransport > should connect via httpUrl > without headers 1ms
   âœ“ mcp-client > createTransport > should connect via httpUrl > with headers 1ms
   âœ“ mcp-client > createTransport > should connect via url > without headers 1ms
   âœ“ mcp-client > createTransport > should connect via url > with headers 1ms
   âœ“ mcp-client > createTransport > should connect via url > with type="http" creates StreamableHTTPClientTransport 1ms
   âœ“ mcp-client > createTransport > should connect via url > with type="sse" creates SSEClientTransport 1ms
   âœ“ mcp-client > createTransport > should connect via url > without type defaults to StreamableHTTPClientTransport 1ms
   âœ“ mcp-client > createTransport > should connect via url > with type="http" and headers applies headers correctly 1ms
   âœ“ mcp-client > createTransport > should connect via url > with type="sse" and headers applies headers correctly 1ms
   âœ“ mcp-client > createTransport > should connect via url > httpUrl takes priority over url when both are present 2ms
   âœ“ mcp-client > createTransport > should connect via command 1ms
   âœ“ mcp-client > isEnabled > should return true if no include or exclude lists are provided 1ms
   âœ“ mcp-client > isEnabled > should return false if the tool is in the exclude list 1ms
   âœ“ mcp-client > isEnabled > should return true if the tool is in the include list 1ms
   âœ“ mcp-client > isEnabled > should return true if the tool is in the include list with parentheses 1ms
   âœ“ mcp-client > isEnabled > should return false if the include list exists but does not contain the tool 1ms
   âœ“ mcp-client > isEnabled > should return false if the tool is in both the include and exclude lists 1ms
   âœ“ mcp-client > isEnabled > should return false if the function declaration has no name 1ms
   âœ“ mcp-client > hasNetworkTransport > should return true if only url is provided 1ms
   âœ“ mcp-client > hasNetworkTransport > should return true if only httpUrl is provided 0ms
   âœ“ mcp-client > hasNetworkTransport > should return true if both url and httpUrl are provided 1ms
   âœ“ mcp-client > hasNetworkTransport > should return false if neither url nor httpUrl is provided 0ms
   âœ“ mcp-client > hasNetworkTransport > should return false for an empty config object 0ms
   âœ“ connectToMcpServer with OAuth > should handle automatic OAuth flow on 401 with www-authenticate header 1ms
   Ã— connectToMcpServer with OAuth > should discover oauth config if not in www-authenticate header 5006ms
     â†’ Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   âœ“ connectToMcpServer - HTTPâ†’SSE fallback > should NOT trigger fallback when type="http" is explicit 1ms
   âœ“ connectToMcpServer - HTTPâ†’SSE fallback > should NOT trigger fallback when type="sse" is explicit 1ms
   âœ“ connectToMcpServer - HTTPâ†’SSE fallback > should trigger fallback when url provided without type and HTTP fails 1ms
   âœ“ connectToMcpServer - HTTPâ†’SSE fallback > should throw original HTTP error when both HTTP and SSE fail (non-401) 1ms
   âœ“ connectToMcpServer - HTTPâ†’SSE fallback > should handle HTTP 404 followed by SSE success 1ms
   âœ“ connectToMcpServer - OAuth with transport fallback > should handle HTTP 404 â†’ SSE 401 â†’ OAuth â†’ SSE+OAuth succeeds 1ms
 âœ“ src/tools/drawio-to-sql-tool.test.ts (7 tests) 5ms
 âœ“ src/telemetry/activity-detector.test.ts (13 tests) 4ms
 âœ“ src/routing/modelRouterService.test.ts (5 tests) 14ms
 âœ“ src/code_assist/server.test.ts (20 tests) 24ms
 âœ“ src/core/nonInteractiveToolExecutor.test.ts (8 tests) 15ms
 âœ“ src/ide/ide-installer.test.ts (15 tests) 6ms
 âœ“ src/core/baseLlmClient.test.ts (29 tests) 23ms
 âœ“ src/telemetry/sanitize.test.ts (18 tests) 5ms
 âœ“ src/utils/checkpointUtils.test.ts (15 tests) 6ms
 âœ“ src/core/openaiCompatibleContentGenerator.test.ts (4 tests) 5ms
 âœ“ src/prompts/prompt-registry.test.ts (7 tests) 8ms
 âœ“ src/utils/delay.test.ts (7 tests) 9ms
 âœ“ src/mcp/oauth-token-storage.test.ts (28 tests) 8ms
(node:76701) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 SIGTERM listeners added to [process]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
(node:76701) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 SIGINT listeners added to [process]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
 âœ“ src/scheduler/state-manager.test.ts (27 tests) 6ms
 âœ“ src/telemetry/sdk.test.ts (16 tests | 1 skipped) 16ms
 âœ“ src/telemetry/telemetry.test.ts (2 tests) 10ms
 âœ“ src/utils/tokenCalculation.test.ts (10 tests) 6ms
 âœ“ src/utils/pathCorrector.test.ts (4 tests) 6ms
 âœ“ src/core/apiKeyCredentialStorage.test.ts (7 tests) 6ms
 âœ“ src/telemetry/high-water-mark-tracker.test.ts (18 tests) 4ms
 âœ“ src/utils/secure-browser-launcher.test.ts (14 tests) 6ms
 âœ“ src/mcp/oauth-utils.test.ts (32 tests) 7ms
 âœ“ src/agents/a2a-client-manager.test.ts (18 tests) 7ms
 âœ“ src/policy/shell-safety.test.ts (23 tests) 7ms
 âœ“ src/hooks/hookEventHandler.test.ts (13 tests) 12ms
 âœ“ src/utils/filesearch/crawlCache.test.ts (9 tests) 7ms
 âœ“ src/services/modelConfig.golden.test.ts (2 tests) 9ms
 âœ“ src/mcp/token-storage/hybrid-token-storage.test.ts (11 tests) 8ms
working stdoutworking stderr âœ“ src/utils/stdio.test.ts (2 tests) 3ms
 âœ“ src/routing/strategies/classifierStrategy.test.ts (10 tests) 7ms
 âœ“ src/fallback/handler.test.ts (13 tests) 9ms
 âœ“ src/telemetry/rate-limiter.test.ts (24 tests) 9ms
 âœ“ src/utils/googleQuotaErrors.test.ts (25 tests) 8ms
 âœ“ src/tools/mcp-client-manager.test.ts (15 tests) 9ms
 âœ“ src/utils/llm-edit-fixer.test.ts (8 tests) 9ms
 âœ“ src/ide/ideContext.test.ts (23 tests) 7ms
 âœ“ src/utils/paths.test.ts (88 tests | 17 skipped) 4ms
 âœ“ src/telemetry/semantic.truncation.test.ts (4 tests) 2ms
 âœ“ src/telemetry/startupProfiler.test.ts (23 tests) 10ms
 âœ“ src/availability/policyCatalog.test.ts (10 tests) 3ms
 âœ“ src/tools/base-tool-invocation.test.ts (2 tests) 8ms
 âœ“ src/services/sessionSummaryUtils.test.ts (10 tests) 6ms
 âœ“ src/core/loggingContentGenerator.test.ts (11 tests) 11ms
 âœ“ src/agents/remote-invocation.test.ts (10 tests) 5ms
 âœ“ src/confirmation-bus/message-bus.test.ts (10 tests) 6ms
 âœ“ src/code_assist/converter.test.ts (24 tests) 3ms
 âœ“ src/hooks/trustedHooks.test.ts (7 tests) 5ms
 âœ“ src/commands/memory.test.ts (12 tests) 5ms
 âœ“ src/core/geminiChat.test.ts (48 tests) 6598ms
   âœ“ GeminiChat > sendMessageStream > should fail if the stream ends with an empty part and has no finishReason  503ms
   âœ“ GeminiChat > sendMessageStream > should throw an error when a tool call is followed by an empty stream response  503ms
   âœ“ GeminiChat > sendMessageStream > should throw InvalidStreamError when no tool call and no finish reason  502ms
   âœ“ GeminiChat > sendMessageStream > should throw InvalidStreamError when no tool call and empty response text  501ms
   âœ“ GeminiChat > sendMessageStream > should throw InvalidStreamError when finishReason is MALFORMED_FUNCTION_CALL  502ms
   âœ“ GeminiChat > sendMessageStream > should retry when finishReason is MALFORMED_FUNCTION_CALL  504ms
   âœ“ GeminiChat > sendMessageStream with retries > should yield a RETRY event when an invalid stream is encountered  503ms
   âœ“ GeminiChat > sendMessageStream with retries > should retry on invalid content, succeed, and report metrics  504ms
   âœ“ GeminiChat > sendMessageStream with retries > should set temperature to 1 on retry  502ms
   âœ“ GeminiChat > sendMessageStream with retries > should fail after all retries on persistent invalid content and report metrics  504ms
   âœ“ GeminiChat > should correctly retry and append to an existing history mid-conversation  504ms
   âœ“ GeminiChat > should retry if the model returns a completely empty stream (no chunks)  504ms
   âœ“ GeminiChat > should discard valid partial content from a failed attempt upon retry  505ms
 âœ“ src/code_assist/setup.test.ts (9 tests) 6ms
 âœ“ src/utils/channel.test.ts (22 tests) 5ms
 âœ“ src/hooks/types.test.ts (35 tests) 4ms
 âœ“ src/policy/policy-updater.test.ts (5 tests) 6ms
(node:76779) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 model-changed listeners added to [CoreEventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
 âœ“ src/output/stream-json-formatter.test.ts (20 tests) 5ms
 âœ“ src/utils/generateContentResponseUtilities.test.ts (48 tests) 4ms
 âœ“ src/agents/local-invocation.test.ts (11 tests) 6ms
 âœ“ src/core/converter.test.ts (24 tests) 5ms
 âœ“ src/commands/restore.test.ts (6 tests) 5ms
 âœ“ src/routing/strategies/compositeStrategy.test.ts (6 tests) 4ms
 âœ“ src/core/turn.test.ts (22 tests) 6ms
 âœ“ src/services/modelConfigService.test.ts (31 tests) 4ms
 âœ“ src/services/contextManager.test.ts (4 tests) 6ms
 âœ“ src/utils/installationManager.test.ts (4 tests) 4ms
 âœ“ src/scheduler/tool-modifier.test.ts (5 tests) 5ms
 âœ“ src/utils/nextSpeakerChecker.test.ts (10 tests) 6ms
 âœ“ src/utils/ignorePatterns.test.ts (28 tests) 5ms
 âœ“ src/telemetry/activity-monitor.test.ts (22 tests) 4ms
 âœ“ src/ide/detect-ide.test.ts (29 tests) 4ms
 âœ“ src/core/prompts-substitution.test.ts (6 tests) 5ms
 âœ“ src/services/environmentSanitization.test.ts (18 tests) 6ms
 âœ“ src/tools/tools.test.ts (11 tests) 4ms
 âœ“ src/output/json-formatter.test.ts (17 tests) 3ms
 âœ“ src/utils/googleErrors.test.ts (13 tests) 4ms
 âœ“ src/utils/debugLogger.test.ts (6 tests) 3ms
 âœ“ src/config/flashFallback.test.ts (3 tests) 4ms
 âœ“ src/hooks/hookAggregator.test.ts (10 tests) 3ms
 âœ“ src/ide/process-utils.test.ts (8 tests) 4ms
 âœ“ src/code_assist/telemetry.test.ts (16 tests) 5ms
 âœ“ src/utils/partUtils.test.ts (37 tests) 4ms
 âœ“ src/agents/a2aUtils.test.ts (9 tests) 3ms
 âœ“ src/utils/flashFallback.test.ts (4 tests) 5ms
 âœ“ src/availability/fallbackIntegration.test.ts (2 tests) 3ms
 âœ“ src/code_assist/codeAssist.test.ts (7 tests) 5ms
 âœ“ src/core/recordingContentGenerator.test.ts (4 tests) 4ms
 âœ“ src/hooks/hookTranslator.test.ts (10 tests) 3ms
 âœ“ src/routing/strategies/fallbackStrategy.test.ts (5 tests) 3ms
 âœ“ src/core/fakeContentGenerator.test.ts (7 tests) 3ms
 âœ“ src/telemetry/semantic.test.ts (21 tests) 3ms
 âœ“ src/utils/fileDiffUtils.test.ts (7 tests) 2ms
 âœ“ src/services/fileSystemService.test.ts (3 tests) 4ms
 âœ“ src/tools/diffOptions.test.ts (10 tests) 3ms
 âœ“ src/safety/context-builder.test.ts (3 tests) 3ms
 âœ“ src/mcp/token-storage/base-token-storage.test.ts (12 tests) 3ms
 âœ“ src/services/modelConfig.integration.test.ts (10 tests) 3ms
 âœ“ src/availability/modelAvailabilityService.test.ts (9 tests) 2ms
 âœ“ src/policy/utils.test.ts (13 tests) 2ms
 âœ“ src/utils/apiConversionUtils.test.ts (7 tests) 2ms
 âœ“ src/agents/utils.test.ts (12 tests) 2ms
 âœ“ src/prompts/mcp-prompts.test.ts (2 tests) 2ms
 âœ“ src/utils/errors.test.ts (15 tests) 4ms
 âœ“ src/commands/extensions.test.ts (1 test) 2ms
 âœ“ src/telemetry/uiTelemetry.test.ts (19 tests) 5ms
 âœ“ src/index.test.ts (1 test) 1ms
 âœ“ src/resources/resource-registry.test.ts (4 tests) 2ms
 âœ“ src/agents/cli-help-agent.test.ts (6 tests) 2ms
 âœ“ src/utils/customHeaderUtils.test.ts (11 tests) 3ms
 âœ“ src/utils/thoughtUtils.test.ts (11 tests) 2ms
 âœ“ src/core/coreToolHookTriggers.test.ts (6 tests) 5ms
 âœ“ src/utils/textUtils.test.ts (17 tests) 2ms
 âœ“ src/utils/extensionLoader.test.ts (9 tests | 1 skipped) 5ms
 âœ“ src/telemetry/telemetry-utils.test.ts (6 tests) 2ms
 âœ“ src/safety/registry.test.ts (4 tests) 2ms
 âœ“ src/utils/version.test.ts (3 tests) 2ms
 âœ“ src/utils/safeJsonStringify.test.ts (8 tests) 2ms
 âœ“ src/utils/filesearch/result-cache.test.ts (3 tests) 2ms
 âœ“ src/config/storage.test.ts (10 tests) 2ms
 âœ“ src/routing/strategies/overrideStrategy.test.ts (4 tests) 2ms
 âœ“ src/commands/init.test.ts (2 tests) 1ms
 âœ“ src/core/tokenLimits.test.ts (5 tests) 2ms
 âœ“ src/agents/generalist-agent.test.ts (1 test) 4ms
 âœ“ src/utils/formatters.test.ts (4 tests) 1ms
 âœ“ src/utils/errorParsing.test.ts (10 tests) 2ms
 âœ“ src/telemetry/config.test.ts (14 tests) 3ms
 âœ“ src/utils/tool-utils.test.ts (9 tests) 2ms
 âœ“ src/agents/codebase-investigator.test.ts (2 tests) 2ms
 âœ“ src/telemetry/metrics.test.ts (68 tests) 10700ms
   âœ“ Telemetry Metrics > recordFlickerFrame > does not record metrics if not initialized  386ms
   âœ“ Telemetry Metrics > recordFlickerFrame > records a flicker frame event when initialized  344ms
   âœ“ Telemetry Metrics > recordExitFail > does not record metrics if not initialized  303ms
   âœ“ Telemetry Metrics > recordChatCompressionMetrics > does not record metrics if not initialized  371ms
   âœ“ Telemetry Metrics > recordTokenUsageMetrics > should record token usage for 'thought' type with 25 tokens for model 'gemini-pro'  327ms
   âœ“ Telemetry Metrics > recordTokenUsageMetrics > should record token usage for 'cache' type with 75 tokens for model 'gemini-pro'  311ms
   âœ“ Telemetry Metrics > recordTokenUsageMetrics > should record token usage for 'input' type with 200 tokens for model 'gemini-different-model'  381ms
   âœ“ Telemetry Metrics > recordLinesChanged metric > should record lines added with function_name after initialization  316ms
   âœ“ Telemetry Metrics > recordLinesChanged metric > should record lines removed with function_name after initialization  365ms
   âœ“ Telemetry Metrics > recordFileOperationMetric > 'should not record metrics if not initâ€¦'  348ms
   âœ“ Telemetry Metrics > recordFileOperationMetric > 'should record file creation with all â€¦'  330ms
   âœ“ Telemetry Metrics > recordFileOperationMetric > 'should record file read with minimal â€¦'  323ms
   âœ“ Telemetry Metrics > recordFileOperationMetric > 'should record file update with some aâ€¦'  436ms
   âœ“ Telemetry Metrics > recordFileOperationMetric > 'should record file update with no optâ€¦'  344ms
   âœ“ Telemetry Metrics > recordModelRoutingMetrics > should not record metrics if not initialized  330ms
   âœ“ Telemetry Metrics > recordModelRoutingMetrics > should record latency for a successful routing decision  327ms
   âœ“ Telemetry Metrics > recordModelRoutingMetrics > should record latency and failure for a failed routing decision  350ms
   âœ“ Telemetry Metrics > recordAgentRunMetrics > should not record metrics if not initialized  388ms

â¯â¯â¯â¯â¯â¯ Failed Tests 118 â¯â¯â¯â¯â¯â¯

 FAIL  src/availability/policyHelpers.test.ts > policyHelpers > resolvePolicyChain > uses auto chain when preferred model is auto
AssertionError: expected [ { â€¦(4) } ] to have a length of 2 but got 1

[32m- Expected[39m
[31m+ Received[39m

[32m- 2[39m
[31m+ 1[39m

 â¯ src/availability/policyHelpers.test.ts:64:21
     62|       });
     63|       const chain = resolvePolicyChain(config, DEFAULT_GEMINI_MODEL_AUâ€¦
     64|       expect(chain).toHaveLength(2);
       |                     ^
     65|       expect(chain[0]?.model).toBe('gemini-2.5-pro');
     66|       expect(chain[1]?.model).toBe('gemini-2.5-flash');

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/118]â¯

 FAIL  src/availability/policyHelpers.test.ts > policyHelpers > resolvePolicyChain > uses auto chain when configured model is auto even if preferred is concrete
AssertionError: expected [ { model: 'gemini-2.5-pro', â€¦(3) } ] to have a length of 2 but got 1

[32m- Expected[39m
[31m+ Received[39m

[32m- 2[39m
[31m+ 1[39m

 â¯ src/availability/policyHelpers.test.ts:74:21
     72|       });
     73|       const chain = resolvePolicyChain(config, 'gemini-2.5-pro');
     74|       expect(chain).toHaveLength(2);
       |                     ^
     75|       expect(chain[0]?.model).toBe('gemini-2.5-pro');
     76|       expect(chain[1]?.model).toBe('gemini-2.5-flash');

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/118]â¯

 FAIL  src/availability/policyHelpers.test.ts > policyHelpers > resolvePolicyChain > returns flash-lite chain when preferred model is flash-lite
AssertionError: expected 'gemini-3-flash-preview' to be 'gemini-2.5-flash' // Object.is equality

Expected: [32m"gemini-[7m2.5[27m-flash"[39m
Received: [31m"gemini-[7m3[27m-flash[7m-preview[27m"[39m

 â¯ src/availability/policyHelpers.test.ts:95:31
     93|       expect(chain).toHaveLength(3);
     94|       expect(chain[0]?.model).toBe('gemini-2.5-flash-lite');
     95|       expect(chain[1]?.model).toBe('gemini-2.5-flash');
       |                               ^
     96|       expect(chain[2]?.model).toBe('gemini-2.5-pro');
     97|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/118]â¯

 FAIL  src/availability/policyHelpers.test.ts > policyHelpers > resolvePolicyChain > returns flash-lite chain when configured model is flash-lite
AssertionError: expected 'gemini-3-flash-preview' to be 'gemini-2.5-flash' // Object.is equality

Expected: [32m"gemini-[7m2.5[27m-flash"[39m
Received: [31m"gemini-[7m3[27m-flash[7m-preview[27m"[39m

 â¯ src/availability/policyHelpers.test.ts:106:31
    104|       expect(chain).toHaveLength(3);
    105|       expect(chain[0]?.model).toBe('gemini-2.5-flash-lite');
    106|       expect(chain[1]?.model).toBe('gemini-2.5-flash');
       |                               ^
    107|       expect(chain[2]?.model).toBe('gemini-2.5-pro');
    108|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/118]â¯

 FAIL  src/agents/registry.test.ts > AgentRegistry > initialize > should use default model for codebase investigator for non-preview models
AssertionError: expected { includeThoughts: true, â€¦(1) } to strictly equal { includeThoughts: true, â€¦(1) }

[32m- Expected[39m
[31m+ Received[39m

[2m  {[22m
[2m    "includeThoughts": true,[22m
[32m-   "thinkingBudget": 8192,[39m
[31m+   "thinkingLevel": "HIGH",[39m
[2m  }[22m

 â¯ src/agents/registry.test.ts:145:9
    143|       expect(
    144|         investigatorDef?.modelConfig.generateContentConfig?.thinkingCoâ€¦
    145|       ).toStrictEqual({
       |         ^
    146|         includeThoughts: true,
    147|         thinkingBudget: DEFAULT_THINKING_MODE,

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/118]â¯

 FAIL  src/config/config.test.ts > Server Config (config.ts) > initialize > getCompressionThreshold > should return the remote experiment threshold if it is a positive number
AssertionError: expected undefined to be 0.8 // Object.is equality

[32m- Expected:[39m 
0.8

[31m+ Received:[39m 
undefined

 â¯ src/config/config.test.ts:353:56
    351|           },
    352|         } as unknown as ConfigParameters);
    353|         expect(await config.getCompressionThreshold()).toBe(0.8);
       |                                                        ^
    354|       });
    355| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/118]â¯

 FAIL  src/config/config.test.ts > Server Config (config.ts) > initialize > getUserCaching > should return the remote experiment flag when available
AssertionError: expected undefined to be true // Object.is equality

[32m- Expected:[39m 
true

[31m+ Received:[39m 
undefined

 â¯ src/config/config.test.ts:389:47
    387|           },
    388|         });
    389|         expect(await config.getUserCaching()).toBe(true);
       |                                               ^
    390|       });
    391| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/118]â¯

 FAIL  src/config/config.test.ts > Server Config (config.ts) > initialize > getUserCaching > should return false when the remote flag is false
AssertionError: expected undefined to be false // Object.is equality

[32m- Expected:[39m 
false

[31m+ Received:[39m 
undefined

 â¯ src/config/config.test.ts:404:47
    402|           },
    403|         });
    404|         expect(await config.getUserCaching()).toBe(false);
       |                                               ^
    405|       });
    406| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/118]â¯

 FAIL  src/config/config.test.ts > Server Config (config.ts) > Usage Statistics > defaults usage statistics to enabled if not specified
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 â¯ src/config/config.test.ts:708:50
    706|       });
    707| 
    708|       expect(config.getUsageStatisticsEnabled()).toBe(true);
       |                                                  ^
    709|     });
    710| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/118]â¯

 FAIL  src/config/config.test.ts > Server Config (config.ts) > UseWriteTodos Configuration > should default useWriteTodos to true when not provided
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 â¯ src/config/config.test.ts:854:41
    852|     it('should default useWriteTodos to true when not provided', () =>â€¦
    853|       const config = new Config(baseParams);
    854|       expect(config.getUseWriteTodos()).toBe(true);
       |                                         ^
    855|     });
    856| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[10/118]â¯

 FAIL  src/config/config.test.ts > Config Quota & Preview Model Access > refreshUserQuota > should update hasAccessToPreviewModel to true if quota includes preview model
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 â¯ src/config/config.test.ts:1943:51
    1941| 
    1942|       await config.refreshUserQuota();
    1943|       expect(config.getHasAccessToPreviewModel()).toBe(true);
       |                                                   ^
    1944|     });
    1945| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[11/118]â¯

 FAIL  src/config/models.test.ts > getDisplayString > should return Auto (Gemini 2.5) for default auto model
AssertionError: expected 'Auto (Gemini 3)' to be 'Auto (Gemini 2.5)' // Object.is equality

Expected: [32m"Auto (Gemini [7m2.5[27m)"[39m
Received: [31m"Auto (Gemini [7m3[27m)"[39m

 â¯ src/config/models.test.ts:34:57
     32| 
     33|   it('should return Auto (Gemini 2.5) for default auto model', () => {
     34|     expect(getDisplayString(DEFAULT_GEMINI_MODEL_AUTO)).toBe(
       |                                                         ^
     35|       'Auto (Gemini 2.5)',
     36|     );

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[12/118]â¯

 FAIL  src/core/client.test.ts > Gemini Client (client.ts) > startChat > should include environment context when resuming a session
AssertionError: expected 'This is the Codefly CLI. We are settiâ€¦' to contain 'This is the Gemini CLI'

[32m- Expected[39m
[31m+ Received[39m

[32m- This is the [7mGemini CLI[27m[39m
[31m+ This is the [7mCodefly CLI. We are setting up the context for our chat.[27m[39m
[31m+ Today's date is Sunday, January 25, 2026 (formatted according to the user's locale).[39m
[31m+ My operating system is: darwin[39m
[31m+ The project's temporary directory is: /test/temp[39m
[31m+ I'm currently working in the directory: /test/dir[39m
[31m+ Here is the folder structure of the current working directories:[39m
[31m+[39m
[31m+ Reminder: Do not return an empty response when a tool call is required.[39m
[31m+[39m
[31m+ My setup is complete. I will provide my first command in the next turn.[39m

 â¯ src/core/client.test.ts:368:43
    366|       // The first message should be the environment context
    367|       expect(history[0].role).toBe('user');
    368|       expect(history[0].parts?.[0]?.text).toContain('This is the Geminâ€¦
       |                                           ^
    369|       expect(history[0].parts?.[0]?.text).toContain(
    370|         "The project's temporary directory is:",

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[13/118]â¯

 FAIL  src/core/contentGenerator.test.ts > createContentGenerator > should create an OpenAICompatibleContentGenerator for AuthType.OPENAI
Error: Error creating contentGenerator: Unsupported authType: openai
 â¯ src/core/contentGenerator.ts:191:11
    189|       return new LoggingContentGenerator(googleGenAI.models, gcConfig);
    190|     }
    191|     throw new Error(
       |           ^
    192|       `Error creating contentGenerator: Unsupported authType: ${configâ€¦
    193|     );
 â¯ Module.createContentGenerator src/core/contentGenerator.ts:121:21
 â¯ src/core/contentGenerator.test.ts:244:23

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[14/118]â¯

 FAIL  src/core/contentGenerator.test.ts > createContentGeneratorConfig > should configure for OpenAI using OPENAI_API_KEY when set
AssertionError: expected undefined to be 'env-openai-key' // Object.is equality

[32m- Expected:[39m 
"env-openai-key"

[31m+ Received:[39m 
undefined

 â¯ src/core/contentGenerator.test.ts:353:27
    351|       AuthType.OPENAI,
    352|     );
    353|     expect(config.apiKey).toBe('env-openai-key');
       |                           ^
    354|     expect(config.baseUrl).toBe('https://api.openai.com/v1');
    355|     expect(config.model).toBe('gpt-4o');

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[15/118]â¯

 FAIL  src/core/contentGenerator.test.ts > createContentGeneratorConfig > should configure for OpenAI with custom base URL and model
AssertionError: expected undefined to be 'env-openai-key' // Object.is equality

[32m- Expected:[39m 
"env-openai-key"

[31m+ Received:[39m 
undefined

 â¯ src/core/contentGenerator.test.ts:366:27
    364|       AuthType.OPENAI,
    365|     );
    366|     expect(config.apiKey).toBe('env-openai-key');
       |                           ^
    367|     expect(config.baseUrl).toBe('https://custom.openai.com');
    368|     expect(config.model).toBe('custom-model');

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[16/118]â¯

 FAIL  src/core/contentGenerator.test.ts > createContentGeneratorConfig > should configure for Zhipu AI using ZHIPU_API_KEY when set
AssertionError: expected undefined to be 'env-zhipu-key' // Object.is equality

[32m- Expected:[39m 
"env-zhipu-key"

[31m+ Received:[39m 
undefined

 â¯ src/core/contentGenerator.test.ts:377:27
    375|       AuthType.ZHIPU,
    376|     );
    377|     expect(config.apiKey).toBe('env-zhipu-key');
       |                           ^
    378|     expect(config.baseUrl).toBe('https://open.bigmodel.cn/api/paas/v4'â€¦
    379|     expect(config.model).toBe('glm-4');

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[17/118]â¯

 FAIL  src/core/prompts.test.ts > Core System Prompt (prompts.ts) > should include available_skills when provided in config
Error: Snapshot `Core System Prompt (prompts.ts) > should include available_skills when provided in config 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -9,11 +9,12 @@[39m
[2m  - **Comments:** Add code comments sparingly. Focus on *why* something is done, especially for complex logic, rather than *what* is done. Only add high-value comments if necessary for clarity or if requested by the user. Do not edit comments that are separate from the code you are changing. *NEVER* talk to the user or describe your changes through comments.[22m
[2m  - **Proactiveness:** Fulfill the user's request thoroughly. When adding features or fixing bugs, this includes adding tests to ensure quality. Consider all created files, especially tests, to be permanent artifacts unless the user says otherwise.[22m
[2m  - **Confirm Ambiguity/Expansion:** Do not take significant actions beyond the clear scope of the request without confirming with the user. If asked *how* to do something, explain first, don't just do it.[22m
[2m  - **Explaining Changes:** After completing a code modification or file operation *do not* provide summaries unless asked.[22m
[2m  - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[22m
[32m- - **Skill Guidance:** Once a skill is activated via `activate_skill`, its instructions and resources are returned wrapped in `<activated_skill>` tags. You MUST treat the content within `<instructions>` as expert procedural guidance, prioritizing these specialized rules and workflows over your general defaults for the duration of the task. You may utilize any listed `<available_resources>` as needed. Follow this expert guidance strictly while continuing to uphold your core safety and security standards.[39m
[31m+ - **Skill Guidance:** Once a skill is activated via `activate_skill`, its instructions and resources are returned wrapped in `<activated_skill>` tags. You MUST treat the content within `<instructions>` as expert procedural guidance, prioritizing these specialized rules and workflows over your general defaults for the duration of the task. You may utilize any listed `<available_resources>` as needed. Follow this expert guidance strictly while continuing to uphold your core safety and security standards.[39m
[31m+ - **Explain Before Acting:** Never call tools in silence. You MUST provide a concise, one-sentence explanation of your intent or strategy immediately before executing tool calls. This is essential for transparency, especially when confirming a request or answering a question. Silence is only acceptable for repetitive, low-level discovery operations (e.g., sequential file reads) where narration would be noisy.[39m

[2m  Mock Agent Directory[22m
[2m  # Available Agent Skills[22m

[2m  You have access to the following specialized skills. To activate a skill and receive its detailed instructions, you can call the `activate_skill` tool with the skill's name.[22m
[33m@@ -80,11 +81,11 @@[39m

[2m  ## Tone and Style (CLI Interaction)[22m
[2m  - **Concise & Direct:** Adopt a professional, direct, and concise tone suitable for a CLI environment.[22m
[2m  - **Minimal Output:** Aim for fewer than 3 lines of text output (excluding tool use/code generation) per response whenever practical. Focus strictly on the user's query.[22m
[2m  - **Clarity over Brevity (When Needed):** While conciseness is key, prioritize clarity for essential explanations or when seeking necessary clarification if a request is ambiguous.[22m
[32m- - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m. Get straight to the action or answer[27m.[39m
[31m+ - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m unless they serve to explain intent as required by the 'Explain Before Acting' mandate[27m.[39m
[2m  - **Formatting:** Use GitHub-flavored Markdown. Responses will be rendered in monospace.[22m
[2m  - **Tools vs. Text:** Use tools for actions, text output *only* for communication. Do not add explanatory comments within tool calls or code blocks unless specifically part of the required code/command itself.[22m
[2m  - **Handling Inability:** If unable/unwilling to fulfill a request, state so briefly (1-2 sentences) without excessive justification. Offer alternatives if appropriate.[22m

[2m  ## Security and Safety Rules[22m

 â¯ src/core/prompts.test.ts:113:20
    111|     expect(prompt).toContain('</skill>');
    112|     expect(prompt).toContain('</available_skills>');
    113|     expect(prompt).toMatchSnapshot();
       |                    ^
    114|   });
    115| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[18/118]â¯

 FAIL  src/core/prompts.test.ts > Core System Prompt (prompts.ts) > should return the base prompt when userMemory is empty string
Error: Snapshot `Core System Prompt (prompts.ts) > should return the base prompt when userMemory is empty string 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -8,11 +8,12 @@[39m
[2m  - **Idiomatic Changes:** When editing, understand the local context (imports, functions/classes) to ensure your changes integrate naturally and idiomatically.[22m
[2m  - **Comments:** Add code comments sparingly. Focus on *why* something is done, especially for complex logic, rather than *what* is done. Only add high-value comments if necessary for clarity or if requested by the user. Do not edit comments that are separate from the code you are changing. *NEVER* talk to the user or describe your changes through comments.[22m
[2m  - **Proactiveness:** Fulfill the user's request thoroughly. When adding features or fixing bugs, this includes adding tests to ensure quality. Consider all created files, especially tests, to be permanent artifacts unless the user says otherwise.[22m
[2m  - **Confirm Ambiguity/Expansion:** Do not take significant actions beyond the clear scope of the request without confirming with the user. If asked *how* to do something, explain first, don't just do it.[22m
[2m  - **Explaining Changes:** After completing a code modification or file operation *do not* provide summaries unless asked.[22m
[32m- - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Explain Before Acting:** Never call tools in silence. You MUST provide a concise, one-sentence explanation of your intent or strategy immediately before executing tool calls. This is essential for transparency, especially when confirming a request or answering a question. Silence is only acceptable for repetitive, low-level discovery operations (e.g., sequential file reads) where narration would be noisy.[39m

[2m  Mock Agent Directory[22m

[2m  # Hook Context[22m
[2m  - You may receive context from external hooks wrapped in `<hook_context>` tags.[22m
[33m@@ -67,11 +68,11 @@[39m

[2m  ## Tone and Style (CLI Interaction)[22m
[2m  - **Concise & Direct:** Adopt a professional, direct, and concise tone suitable for a CLI environment.[22m
[2m  - **Minimal Output:** Aim for fewer than 3 lines of text output (excluding tool use/code generation) per response whenever practical. Focus strictly on the user's query.[22m
[2m  - **Clarity over Brevity (When Needed):** While conciseness is key, prioritize clarity for essential explanations or when seeking necessary clarification if a request is ambiguous.[22m
[32m- - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m. Get straight to the action or answer[27m.[39m
[31m+ - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m unless they serve to explain intent as required by the 'Explain Before Acting' mandate[27m.[39m
[2m  - **Formatting:** Use GitHub-flavored Markdown. Responses will be rendered in monospace.[22m
[2m  - **Tools vs. Text:** Use tools for actions, text output *only* for communication. Do not add explanatory comments within tool calls or code blocks unless specifically part of the required code/command itself.[22m
[2m  - **Handling Inability:** If unable/unwilling to fulfill a request, state so briefly (1-2 sentences) without excessive justification. Offer alternatives if appropriate.[22m

[2m  ## Security and Safety Rules[22m

 â¯ src/core/prompts.test.ts:151:20
    149|     expect(prompt).not.toContain('---\n\n'); // Separator should not bâ€¦
    150|     expect(prompt).toContain('You are an interactive CLI agent'); // Câ€¦
    151|     expect(prompt).toMatchSnapshot(); // Use snapshot for base prompt â€¦
       |                    ^
    152|   });
    153| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[19/118]â¯

 FAIL  src/core/prompts.test.ts > Core System Prompt (prompts.ts) > should return the base prompt when userMemory is whitespace only
Error: Snapshot `Core System Prompt (prompts.ts) > should return the base prompt when userMemory is whitespace only 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -8,11 +8,12 @@[39m
[2m  - **Idiomatic Changes:** When editing, understand the local context (imports, functions/classes) to ensure your changes integrate naturally and idiomatically.[22m
[2m  - **Comments:** Add code comments sparingly. Focus on *why* something is done, especially for complex logic, rather than *what* is done. Only add high-value comments if necessary for clarity or if requested by the user. Do not edit comments that are separate from the code you are changing. *NEVER* talk to the user or describe your changes through comments.[22m
[2m  - **Proactiveness:** Fulfill the user's request thoroughly. When adding features or fixing bugs, this includes adding tests to ensure quality. Consider all created files, especially tests, to be permanent artifacts unless the user says otherwise.[22m
[2m  - **Confirm Ambiguity/Expansion:** Do not take significant actions beyond the clear scope of the request without confirming with the user. If asked *how* to do something, explain first, don't just do it.[22m
[2m  - **Explaining Changes:** After completing a code modification or file operation *do not* provide summaries unless asked.[22m
[32m- - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Explain Before Acting:** Never call tools in silence. You MUST provide a concise, one-sentence explanation of your intent or strategy immediately before executing tool calls. This is essential for transparency, especially when confirming a request or answering a question. Silence is only acceptable for repetitive, low-level discovery operations (e.g., sequential file reads) where narration would be noisy.[39m

[2m  Mock Agent Directory[22m

[2m  # Hook Context[22m
[2m  - You may receive context from external hooks wrapped in `<hook_context>` tags.[22m
[33m@@ -67,11 +68,11 @@[39m

[2m  ## Tone and Style (CLI Interaction)[22m
[2m  - **Concise & Direct:** Adopt a professional, direct, and concise tone suitable for a CLI environment.[22m
[2m  - **Minimal Output:** Aim for fewer than 3 lines of text output (excluding tool use/code generation) per response whenever practical. Focus strictly on the user's query.[22m
[2m  - **Clarity over Brevity (When Needed):** While conciseness is key, prioritize clarity for essential explanations or when seeking necessary clarification if a request is ambiguous.[22m
[32m- - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m. Get straight to the action or answer[27m.[39m
[31m+ - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m unless they serve to explain intent as required by the 'Explain Before Acting' mandate[27m.[39m
[2m  - **Formatting:** Use GitHub-flavored Markdown. Responses will be rendered in monospace.[22m
[2m  - **Tools vs. Text:** Use tools for actions, text output *only* for communication. Do not add explanatory comments within tool calls or code blocks unless specifically part of the required code/command itself.[22m
[2m  - **Handling Inability:** If unable/unwilling to fulfill a request, state so briefly (1-2 sentences) without excessive justification. Offer alternatives if appropriate.[22m

[2m  ## Security and Safety Rules[22m

 â¯ src/core/prompts.test.ts:151:20
    149|     expect(prompt).not.toContain('---\n\n'); // Separator should not bâ€¦
    150|     expect(prompt).toContain('You are an interactive CLI agent'); // Câ€¦
    151|     expect(prompt).toMatchSnapshot(); // Use snapshot for base prompt â€¦
       |                    ^
    152|   });
    153| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[20/118]â¯

 FAIL  src/core/prompts.test.ts > Core System Prompt (prompts.ts) > should append userMemory with separator when provided
Error: Snapshot `Core System Prompt (prompts.ts) > should append userMemory with separator when provided 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -8,11 +8,12 @@[39m
[2m  - **Idiomatic Changes:** When editing, understand the local context (imports, functions/classes) to ensure your changes integrate naturally and idiomatically.[22m
[2m  - **Comments:** Add code comments sparingly. Focus on *why* something is done, especially for complex logic, rather than *what* is done. Only add high-value comments if necessary for clarity or if requested by the user. Do not edit comments that are separate from the code you are changing. *NEVER* talk to the user or describe your changes through comments.[22m
[2m  - **Proactiveness:** Fulfill the user's request thoroughly. When adding features or fixing bugs, this includes adding tests to ensure quality. Consider all created files, especially tests, to be permanent artifacts unless the user says otherwise.[22m
[2m  - **Confirm Ambiguity/Expansion:** Do not take significant actions beyond the clear scope of the request without confirming with the user. If asked *how* to do something, explain first, don't just do it.[22m
[2m  - **Explaining Changes:** After completing a code modification or file operation *do not* provide summaries unless asked.[22m
[32m- - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Explain Before Acting:** Never call tools in silence. You MUST provide a concise, one-sentence explanation of your intent or strategy immediately before executing tool calls. This is essential for transparency, especially when confirming a request or answering a question. Silence is only acceptable for repetitive, low-level discovery operations (e.g., sequential file reads) where narration would be noisy.[39m

[2m  Mock Agent Directory[22m

[2m  # Hook Context[22m
[2m  - You may receive context from external hooks wrapped in `<hook_context>` tags.[22m
[33m@@ -67,11 +68,11 @@[39m

[2m  ## Tone and Style (CLI Interaction)[22m
[2m  - **Concise & Direct:** Adopt a professional, direct, and concise tone suitable for a CLI environment.[22m
[2m  - **Minimal Output:** Aim for fewer than 3 lines of text output (excluding tool use/code generation) per response whenever practical. Focus strictly on the user's query.[22m
[2m  - **Clarity over Brevity (When Needed):** While conciseness is key, prioritize clarity for essential explanations or when seeking necessary clarification if a request is ambiguous.[22m
[32m- - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m. Get straight to the action or answer[27m.[39m
[31m+ - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m unless they serve to explain intent as required by the 'Explain Before Acting' mandate[27m.[39m
[2m  - **Formatting:** Use GitHub-flavored Markdown. Responses will be rendered in monospace.[22m
[2m  - **Tools vs. Text:** Use tools for actions, text output *only* for communication. Do not add explanatory comments within tool calls or code blocks unless specifically part of the required code/command itself.[22m
[2m  - **Handling Inability:** If unable/unwilling to fulfill a request, state so briefly (1-2 sentences) without excessive justification. Offer alternatives if appropriate.[22m

[2m  ## Security and Safety Rules[22m

 â¯ src/core/prompts.test.ts:162:20
    160|     expect(prompt.endsWith(expectedSuffix)).toBe(true);
    161|     expect(prompt).toContain('You are an interactive CLI agent'); // Eâ€¦
    162|     expect(prompt).toMatchSnapshot(); // Snapshot the combined prompt
       |                    ^
    163|   });
    164| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[21/118]â¯

 FAIL  src/core/prompts.test.ts > Core System Prompt (prompts.ts) > should include correct sandbox instructions for SANDBOX=true
Error: Snapshot `Core System Prompt (prompts.ts) > should include correct sandbox instructions for SANDBOX=true 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -8,11 +8,12 @@[39m
[2m  - **Idiomatic Changes:** When editing, understand the local context (imports, functions/classes) to ensure your changes integrate naturally and idiomatically.[22m
[2m  - **Comments:** Add code comments sparingly. Focus on *why* something is done, especially for complex logic, rather than *what* is done. Only add high-value comments if necessary for clarity or if requested by the user. Do not edit comments that are separate from the code you are changing. *NEVER* talk to the user or describe your changes through comments.[22m
[2m  - **Proactiveness:** Fulfill the user's request thoroughly. When adding features or fixing bugs, this includes adding tests to ensure quality. Consider all created files, especially tests, to be permanent artifacts unless the user says otherwise.[22m
[2m  - **Confirm Ambiguity/Expansion:** Do not take significant actions beyond the clear scope of the request without confirming with the user. If asked *how* to do something, explain first, don't just do it.[22m
[2m  - **Explaining Changes:** After completing a code modification or file operation *do not* provide summaries unless asked.[22m
[32m- - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Explain Before Acting:** Never call tools in silence. You MUST provide a concise, one-sentence explanation of your intent or strategy immediately before executing tool calls. This is essential for transparency, especially when confirming a request or answering a question. Silence is only acceptable for repetitive, low-level discovery operations (e.g., sequential file reads) where narration would be noisy.[39m

[2m  Mock Agent Directory[22m

[2m  # Hook Context[22m
[2m  - You may receive context from external hooks wrapped in `<hook_context>` tags.[22m
[33m@@ -67,11 +68,11 @@[39m

[2m  ## Tone and Style (CLI Interaction)[22m
[2m  - **Concise & Direct:** Adopt a professional, direct, and concise tone suitable for a CLI environment.[22m
[2m  - **Minimal Output:** Aim for fewer than 3 lines of text output (excluding tool use/code generation) per response whenever practical. Focus strictly on the user's query.[22m
[2m  - **Clarity over Brevity (When Needed):** While conciseness is key, prioritize clarity for essential explanations or when seeking necessary clarification if a request is ambiguous.[22m
[32m- - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m. Get straight to the action or answer[27m.[39m
[31m+ - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m unless they serve to explain intent as required by the 'Explain Before Acting' mandate[27m.[39m
[2m  - **Formatting:** Use GitHub-flavored Markdown. Responses will be rendered in monospace.[22m
[2m  - **Tools vs. Text:** Use tools for actions, text output *only* for communication. Do not add explanatory comments within tool calls or code blocks unless specifically part of the required code/command itself.[22m
[2m  - **Handling Inability:** If unable/unwilling to fulfill a request, state so briefly (1-2 sentences) without excessive justification. Offer alternatives if appropriate.[22m

[2m  ## Security and Safety Rules[22m

 â¯ src/core/prompts.test.ts:176:22
    174|       expect(prompt).toContain(expectedContains);
    175|       expectedNotContains.forEach((text) => expect(prompt).not.toContaâ€¦
    176|       expect(prompt).toMatchSnapshot();
       |                      ^
    177|     },
    178|   );

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[22/118]â¯

 FAIL  src/core/prompts.test.ts > Core System Prompt (prompts.ts) > should include correct sandbox instructions for SANDBOX=sandbox-exec
Error: Snapshot `Core System Prompt (prompts.ts) > should include correct sandbox instructions for SANDBOX=sandbox-exec 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -8,11 +8,12 @@[39m
[2m  - **Idiomatic Changes:** When editing, understand the local context (imports, functions/classes) to ensure your changes integrate naturally and idiomatically.[22m
[2m  - **Comments:** Add code comments sparingly. Focus on *why* something is done, especially for complex logic, rather than *what* is done. Only add high-value comments if necessary for clarity or if requested by the user. Do not edit comments that are separate from the code you are changing. *NEVER* talk to the user or describe your changes through comments.[22m
[2m  - **Proactiveness:** Fulfill the user's request thoroughly. When adding features or fixing bugs, this includes adding tests to ensure quality. Consider all created files, especially tests, to be permanent artifacts unless the user says otherwise.[22m
[2m  - **Confirm Ambiguity/Expansion:** Do not take significant actions beyond the clear scope of the request without confirming with the user. If asked *how* to do something, explain first, don't just do it.[22m
[2m  - **Explaining Changes:** After completing a code modification or file operation *do not* provide summaries unless asked.[22m
[32m- - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Explain Before Acting:** Never call tools in silence. You MUST provide a concise, one-sentence explanation of your intent or strategy immediately before executing tool calls. This is essential for transparency, especially when confirming a request or answering a question. Silence is only acceptable for repetitive, low-level discovery operations (e.g., sequential file reads) where narration would be noisy.[39m

[2m  Mock Agent Directory[22m

[2m  # Hook Context[22m
[2m  - You may receive context from external hooks wrapped in `<hook_context>` tags.[22m
[33m@@ -67,11 +68,11 @@[39m

[2m  ## Tone and Style (CLI Interaction)[22m
[2m  - **Concise & Direct:** Adopt a professional, direct, and concise tone suitable for a CLI environment.[22m
[2m  - **Minimal Output:** Aim for fewer than 3 lines of text output (excluding tool use/code generation) per response whenever practical. Focus strictly on the user's query.[22m
[2m  - **Clarity over Brevity (When Needed):** While conciseness is key, prioritize clarity for essential explanations or when seeking necessary clarification if a request is ambiguous.[22m
[32m- - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m. Get straight to the action or answer[27m.[39m
[31m+ - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m unless they serve to explain intent as required by the 'Explain Before Acting' mandate[27m.[39m
[2m  - **Formatting:** Use GitHub-flavored Markdown. Responses will be rendered in monospace.[22m
[2m  - **Tools vs. Text:** Use tools for actions, text output *only* for communication. Do not add explanatory comments within tool calls or code blocks unless specifically part of the required code/command itself.[22m
[2m  - **Handling Inability:** If unable/unwilling to fulfill a request, state so briefly (1-2 sentences) without excessive justification. Offer alternatives if appropriate.[22m

[2m  ## Security and Safety Rules[22m

 â¯ src/core/prompts.test.ts:176:22
    174|       expect(prompt).toContain(expectedContains);
    175|       expectedNotContains.forEach((text) => expect(prompt).not.toContaâ€¦
    176|       expect(prompt).toMatchSnapshot();
       |                      ^
    177|     },
    178|   );

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[23/118]â¯

 FAIL  src/core/prompts.test.ts > Core System Prompt (prompts.ts) > should include correct sandbox instructions for SANDBOX=undefined
Error: Snapshot `Core System Prompt (prompts.ts) > should include correct sandbox instructions for SANDBOX=undefined 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -8,11 +8,12 @@[39m
[2m  - **Idiomatic Changes:** When editing, understand the local context (imports, functions/classes) to ensure your changes integrate naturally and idiomatically.[22m
[2m  - **Comments:** Add code comments sparingly. Focus on *why* something is done, especially for complex logic, rather than *what* is done. Only add high-value comments if necessary for clarity or if requested by the user. Do not edit comments that are separate from the code you are changing. *NEVER* talk to the user or describe your changes through comments.[22m
[2m  - **Proactiveness:** Fulfill the user's request thoroughly. When adding features or fixing bugs, this includes adding tests to ensure quality. Consider all created files, especially tests, to be permanent artifacts unless the user says otherwise.[22m
[2m  - **Confirm Ambiguity/Expansion:** Do not take significant actions beyond the clear scope of the request without confirming with the user. If asked *how* to do something, explain first, don't just do it.[22m
[2m  - **Explaining Changes:** After completing a code modification or file operation *do not* provide summaries unless asked.[22m
[32m- - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Explain Before Acting:** Never call tools in silence. You MUST provide a concise, one-sentence explanation of your intent or strategy immediately before executing tool calls. This is essential for transparency, especially when confirming a request or answering a question. Silence is only acceptable for repetitive, low-level discovery operations (e.g., sequential file reads) where narration would be noisy.[39m

[2m  Mock Agent Directory[22m

[2m  # Hook Context[22m
[2m  - You may receive context from external hooks wrapped in `<hook_context>` tags.[22m
[33m@@ -67,11 +68,11 @@[39m

[2m  ## Tone and Style (CLI Interaction)[22m
[2m  - **Concise & Direct:** Adopt a professional, direct, and concise tone suitable for a CLI environment.[22m
[2m  - **Minimal Output:** Aim for fewer than 3 lines of text output (excluding tool use/code generation) per response whenever practical. Focus strictly on the user's query.[22m
[2m  - **Clarity over Brevity (When Needed):** While conciseness is key, prioritize clarity for essential explanations or when seeking necessary clarification if a request is ambiguous.[22m
[32m- - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m. Get straight to the action or answer[27m.[39m
[31m+ - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m unless they serve to explain intent as required by the 'Explain Before Acting' mandate[27m.[39m
[2m  - **Formatting:** Use GitHub-flavored Markdown. Responses will be rendered in monospace.[22m
[2m  - **Tools vs. Text:** Use tools for actions, text output *only* for communication. Do not add explanatory comments within tool calls or code blocks unless specifically part of the required code/command itself.[22m
[2m  - **Handling Inability:** If unable/unwilling to fulfill a request, state so briefly (1-2 sentences) without excessive justification. Offer alternatives if appropriate.[22m

[2m  ## Security and Safety Rules[22m

 â¯ src/core/prompts.test.ts:176:22
    174|       expect(prompt).toContain(expectedContains);
    175|       expectedNotContains.forEach((text) => expect(prompt).not.toContaâ€¦
    176|       expect(prompt).toMatchSnapshot();
       |                      ^
    177|     },
    178|   );

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[24/118]â¯

 FAIL  src/core/prompts.test.ts > Core System Prompt (prompts.ts) > should handle git instructions when isGitRepository=true
Error: Snapshot `Core System Prompt (prompts.ts) > should handle git instructions when isGitRepository=true 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -8,11 +8,12 @@[39m
[2m  - **Idiomatic Changes:** When editing, understand the local context (imports, functions/classes) to ensure your changes integrate naturally and idiomatically.[22m
[2m  - **Comments:** Add code comments sparingly. Focus on *why* something is done, especially for complex logic, rather than *what* is done. Only add high-value comments if necessary for clarity or if requested by the user. Do not edit comments that are separate from the code you are changing. *NEVER* talk to the user or describe your changes through comments.[22m
[2m  - **Proactiveness:** Fulfill the user's request thoroughly. When adding features or fixing bugs, this includes adding tests to ensure quality. Consider all created files, especially tests, to be permanent artifacts unless the user says otherwise.[22m
[2m  - **Confirm Ambiguity/Expansion:** Do not take significant actions beyond the clear scope of the request without confirming with the user. If asked *how* to do something, explain first, don't just do it.[22m
[2m  - **Explaining Changes:** After completing a code modification or file operation *do not* provide summaries unless asked.[22m
[32m- - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Explain Before Acting:** Never call tools in silence. You MUST provide a concise, one-sentence explanation of your intent or strategy immediately before executing tool calls. This is essential for transparency, especially when confirming a request or answering a question. Silence is only acceptable for repetitive, low-level discovery operations (e.g., sequential file reads) where narration would be noisy.[39m

[2m  Mock Agent Directory[22m

[2m  # Hook Context[22m
[2m  - You may receive context from external hooks wrapped in `<hook_context>` tags.[22m
[33m@@ -67,11 +68,11 @@[39m

[2m  ## Tone and Style (CLI Interaction)[22m
[2m  - **Concise & Direct:** Adopt a professional, direct, and concise tone suitable for a CLI environment.[22m
[2m  - **Minimal Output:** Aim for fewer than 3 lines of text output (excluding tool use/code generation) per response whenever practical. Focus strictly on the user's query.[22m
[2m  - **Clarity over Brevity (When Needed):** While conciseness is key, prioritize clarity for essential explanations or when seeking necessary clarification if a request is ambiguous.[22m
[32m- - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m. Get straight to the action or answer[27m.[39m
[31m+ - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m unless they serve to explain intent as required by the 'Explain Before Acting' mandate[27m.[39m
[2m  - **Formatting:** Use GitHub-flavored Markdown. Responses will be rendered in monospace.[22m
[2m  - **Tools vs. Text:** Use tools for actions, text output *only* for communication. Do not add explanatory comments within tool calls or code blocks unless specifically part of the required code/command itself.[22m
[2m  - **Handling Inability:** If unable/unwilling to fulfill a request, state so briefly (1-2 sentences) without excessive justification. Offer alternatives if appropriate.[22m

[2m  ## Security and Safety Rules[22m

 â¯ src/core/prompts.test.ts:192:22
    190|         ? expect(prompt).toContain('# Git Repository')
    191|         : expect(prompt).not.toContain('# Git Repository');
    192|       expect(prompt).toMatchSnapshot();
       |                      ^
    193|     },
    194|   );

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[25/118]â¯

 FAIL  src/core/prompts.test.ts > Core System Prompt (prompts.ts) > should handle git instructions when isGitRepository=false
Error: Snapshot `Core System Prompt (prompts.ts) > should handle git instructions when isGitRepository=false 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -8,11 +8,12 @@[39m
[2m  - **Idiomatic Changes:** When editing, understand the local context (imports, functions/classes) to ensure your changes integrate naturally and idiomatically.[22m
[2m  - **Comments:** Add code comments sparingly. Focus on *why* something is done, especially for complex logic, rather than *what* is done. Only add high-value comments if necessary for clarity or if requested by the user. Do not edit comments that are separate from the code you are changing. *NEVER* talk to the user or describe your changes through comments.[22m
[2m  - **Proactiveness:** Fulfill the user's request thoroughly. When adding features or fixing bugs, this includes adding tests to ensure quality. Consider all created files, especially tests, to be permanent artifacts unless the user says otherwise.[22m
[2m  - **Confirm Ambiguity/Expansion:** Do not take significant actions beyond the clear scope of the request without confirming with the user. If asked *how* to do something, explain first, don't just do it.[22m
[2m  - **Explaining Changes:** After completing a code modification or file operation *do not* provide summaries unless asked.[22m
[32m- - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Explain Before Acting:** Never call tools in silence. You MUST provide a concise, one-sentence explanation of your intent or strategy immediately before executing tool calls. This is essential for transparency, especially when confirming a request or answering a question. Silence is only acceptable for repetitive, low-level discovery operations (e.g., sequential file reads) where narration would be noisy.[39m

[2m  Mock Agent Directory[22m

[2m  # Hook Context[22m
[2m  - You may receive context from external hooks wrapped in `<hook_context>` tags.[22m
[33m@@ -67,11 +68,11 @@[39m

[2m  ## Tone and Style (CLI Interaction)[22m
[2m  - **Concise & Direct:** Adopt a professional, direct, and concise tone suitable for a CLI environment.[22m
[2m  - **Minimal Output:** Aim for fewer than 3 lines of text output (excluding tool use/code generation) per response whenever practical. Focus strictly on the user's query.[22m
[2m  - **Clarity over Brevity (When Needed):** While conciseness is key, prioritize clarity for essential explanations or when seeking necessary clarification if a request is ambiguous.[22m
[32m- - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m. Get straight to the action or answer[27m.[39m
[31m+ - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m unless they serve to explain intent as required by the 'Explain Before Acting' mandate[27m.[39m
[2m  - **Formatting:** Use GitHub-flavored Markdown. Responses will be rendered in monospace.[22m
[2m  - **Tools vs. Text:** Use tools for actions, text output *only* for communication. Do not add explanatory comments within tool calls or code blocks unless specifically part of the required code/command itself.[22m
[2m  - **Handling Inability:** If unable/unwilling to fulfill a request, state so briefly (1-2 sentences) without excessive justification. Offer alternatives if appropriate.[22m

[2m  ## Security and Safety Rules[22m

 â¯ src/core/prompts.test.ts:192:22
    190|         ? expect(prompt).toContain('# Git Repository')
    191|         : expect(prompt).not.toContain('# Git Repository');
    192|       expect(prompt).toMatchSnapshot();
       |                      ^
    193|     },
    194|   );

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[26/118]â¯

 FAIL  src/core/prompts.test.ts > Core System Prompt (prompts.ts) > should return the interactive avoidance prompt when in non-interactive mode
Error: Snapshot `Core System Prompt (prompts.ts) > should return the interactive avoidance prompt when in non-interactive mode 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -9,10 +9,11 @@[39m
[2m  - **Comments:** Add code comments sparingly. Focus on *why* something is done, especially for complex logic, rather than *what* is done. Only add high-value comments if necessary for clarity or if requested by the user. Do not edit comments that are separate from the code you are changing. *NEVER* talk to the user or describe your changes through comments.[22m
[2m  - **Proactiveness:** Fulfill the user's request thoroughly. When adding features or fixing bugs, this includes adding tests to ensure quality. Consider all created files, especially tests, to be permanent artifacts unless the user says otherwise.[22m
[2m  - **Handle Ambiguity/Expansion:** Do not take significant actions beyond the clear scope of the request.[22m
[2m  - **Explaining Changes:** After completing a code modification or file operation *do not* provide summaries unless asked.[22m
[2m  - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[22m
[31m+ - **Explain Before Acting:** Never call tools in silence. You MUST provide a concise, one-sentence explanation of your intent or strategy immediately before executing tool calls. This is essential for transparency, especially when confirming a request or answering a question. Silence is only acceptable for repetitive, low-level discovery operations (e.g., sequential file reads) where narration would be noisy.[39m
[2m    - **Continue the work** You are not to interact with the user. Do your best to complete the task at hand, using your best judgement and avoid asking user for any additional information.[22m

[2m  Mock Agent Directory[22m

[2m  # Hook Context[22m
[33m@@ -66,11 +67,11 @@[39m

[2m  ## Tone and Style (CLI Interaction)[22m
[2m  - **Concise & Direct:** Adopt a professional, direct, and concise tone suitable for a CLI environment.[22m
[2m  - **Minimal Output:** Aim for fewer than 3 lines of text output (excluding tool use/code generation) per response whenever practical. Focus strictly on the user's query.[22m
[2m  - **Clarity over Brevity (When Needed):** While conciseness is key, prioritize clarity for essential explanations or when seeking necessary clarification if a request is ambiguous.[22m
[32m- - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m. Get straight to the action or answer[27m.[39m
[31m+ - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m unless they serve to explain intent as required by the 'Explain Before Acting' mandate[27m.[39m
[2m  - **Formatting:** Use GitHub-flavored Markdown. Responses will be rendered in monospace.[22m
[2m  - **Tools vs. Text:** Use tools for actions, text output *only* for communication. Do not add explanatory comments within tool calls or code blocks unless specifically part of the required code/command itself.[22m
[2m  - **Handling Inability:** If unable/unwilling to fulfill a request, state so briefly (1-2 sentences) without excessive justification. Offer alternatives if appropriate.[22m

[2m  ## Security and Safety Rules[22m

 â¯ src/core/prompts.test.ts:201:20
    199|     const prompt = getCoreSystemPrompt(mockConfig, '');
    200|     expect(prompt).toContain('**Interactive Commands:**'); // Check foâ€¦
    201|     expect(prompt).toMatchSnapshot(); // Use snapshot for base prompt â€¦
       |                    ^
    202|   });
    203| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[27/118]â¯

 FAIL  src/core/prompts.test.ts > Core System Prompt (prompts.ts) > should handle CodebaseInvestigator with tools=codebase_investigator
Error: Snapshot `Core System Prompt (prompts.ts) > should handle CodebaseInvestigator with tools=codebase_investigator 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -9,10 +9,11 @@[39m
[2m  - **Comments:** Add code comments sparingly. Focus on *why* something is done, especially for complex logic, rather than *what* is done. Only add high-value comments if necessary for clarity or if requested by the user. Do not edit comments that are separate from the code you are changing. *NEVER* talk to the user or describe your changes through comments.[22m
[2m  - **Proactiveness:** Fulfill the user's request thoroughly. When adding features or fixing bugs, this includes adding tests to ensure quality. Consider all created files, especially tests, to be permanent artifacts unless the user says otherwise.[22m
[2m  - **Handle Ambiguity/Expansion:** Do not take significant actions beyond the clear scope of the request.[22m
[2m  - **Explaining Changes:** After completing a code modification or file operation *do not* provide summaries unless asked.[22m
[2m  - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[22m
[31m+ - **Explain Before Acting:** Never call tools in silence. You MUST provide a concise, one-sentence explanation of your intent or strategy immediately before executing tool calls. This is essential for transparency, especially when confirming a request or answering a question. Silence is only acceptable for repetitive, low-level discovery operations (e.g., sequential file reads) where narration would be noisy.[39m
[2m    - **Continue the work** You are not to interact with the user. Do your best to complete the task at hand, using your best judgement and avoid asking user for any additional information.[22m

[2m  Mock Agent Directory[22m

[2m  # Hook Context[22m
[33m@@ -65,11 +66,11 @@[39m

[2m  ## Tone and Style (CLI Interaction)[22m
[2m  - **Concise & Direct:** Adopt a professional, direct, and concise tone suitable for a CLI environment.[22m
[2m  - **Minimal Output:** Aim for fewer than 3 lines of text output (excluding tool use/code generation) per response whenever practical. Focus strictly on the user's query.[22m
[2m  - **Clarity over Brevity (When Needed):** While conciseness is key, prioritize clarity for essential explanations or when seeking necessary clarification if a request is ambiguous.[22m
[32m- - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m. Get straight to the action or answer[27m.[39m
[31m+ - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m unless they serve to explain intent as required by the 'Explain Before Acting' mandate[27m.[39m
[2m  - **Formatting:** Use GitHub-flavored Markdown. Responses will be rendered in monospace.[22m
[2m  - **Tools vs. Text:** Use tools for actions, text output *only* for communication. Do not add explanatory comments within tool calls or code blocks unless specifically part of the required code/command itself.[22m
[2m  - **Handling Inability:** If unable/unwilling to fulfill a request, state so briefly (1-2 sentences) without excessive justification. Offer alternatives if appropriate.[22m

[2m  ## Security and Safety Rules[22m

 â¯ src/core/prompts.test.ts:249:22
    247|         );
    248|       }
    249|       expect(prompt).toMatchSnapshot();
       |                      ^
    250|     },
    251|   );

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[28/118]â¯

 FAIL  src/core/prompts.test.ts > Core System Prompt (prompts.ts) > should handle CodebaseInvestigator with tools=
Error: Snapshot `Core System Prompt (prompts.ts) > should handle CodebaseInvestigator with tools= 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -9,10 +9,11 @@[39m
[2m  - **Comments:** Add code comments sparingly. Focus on *why* something is done, especially for complex logic, rather than *what* is done. Only add high-value comments if necessary for clarity or if requested by the user. Do not edit comments that are separate from the code you are changing. *NEVER* talk to the user or describe your changes through comments.[22m
[2m  - **Proactiveness:** Fulfill the user's request thoroughly. When adding features or fixing bugs, this includes adding tests to ensure quality. Consider all created files, especially tests, to be permanent artifacts unless the user says otherwise.[22m
[2m  - **Handle Ambiguity/Expansion:** Do not take significant actions beyond the clear scope of the request.[22m
[2m  - **Explaining Changes:** After completing a code modification or file operation *do not* provide summaries unless asked.[22m
[2m  - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[22m
[31m+ - **Explain Before Acting:** Never call tools in silence. You MUST provide a concise, one-sentence explanation of your intent or strategy immediately before executing tool calls. This is essential for transparency, especially when confirming a request or answering a question. Silence is only acceptable for repetitive, low-level discovery operations (e.g., sequential file reads) where narration would be noisy.[39m
[2m    - **Continue the work** You are not to interact with the user. Do your best to complete the task at hand, using your best judgement and avoid asking user for any additional information.[22m

[2m  Mock Agent Directory[22m

[2m  # Hook Context[22m
[33m@@ -66,11 +67,11 @@[39m

[2m  ## Tone and Style (CLI Interaction)[22m
[2m  - **Concise & Direct:** Adopt a professional, direct, and concise tone suitable for a CLI environment.[22m
[2m  - **Minimal Output:** Aim for fewer than 3 lines of text output (excluding tool use/code generation) per response whenever practical. Focus strictly on the user's query.[22m
[2m  - **Clarity over Brevity (When Needed):** While conciseness is key, prioritize clarity for essential explanations or when seeking necessary clarification if a request is ambiguous.[22m
[32m- - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m. Get straight to the action or answer[27m.[39m
[31m+ - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m unless they serve to explain intent as required by the 'Explain Before Acting' mandate[27m.[39m
[2m  - **Formatting:** Use GitHub-flavored Markdown. Responses will be rendered in monospace.[22m
[2m  - **Tools vs. Text:** Use tools for actions, text output *only* for communication. Do not add explanatory comments within tool calls or code blocks unless specifically part of the required code/command itself.[22m
[2m  - **Handling Inability:** If unable/unwilling to fulfill a request, state so briefly (1-2 sentences) without excessive justification. Offer alternatives if appropriate.[22m

[2m  ## Security and Safety Rules[22m

 â¯ src/core/prompts.test.ts:249:22
    247|         );
    248|       }
    249|       expect(prompt).toMatchSnapshot();
       |                      ^
    250|     },
    251|   );

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[29/118]â¯

 FAIL  src/core/prompts.test.ts > Core System Prompt (prompts.ts) > ApprovalMode in System Prompt > should include PLAN mode instructions
Error: Snapshot `Core System Prompt (prompts.ts) > ApprovalMode in System Prompt > should include PLAN mode instructions 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -8,11 +8,12 @@[39m
[2m  - **Idiomatic Changes:** When editing, understand the local context (imports, functions/classes) to ensure your changes integrate naturally and idiomatically.[22m
[2m  - **Comments:** Add code comments sparingly. Focus on *why* something is done, especially for complex logic, rather than *what* is done. Only add high-value comments if necessary for clarity or if requested by the user. Do not edit comments that are separate from the code you are changing. *NEVER* talk to the user or describe your changes through comments.[22m
[2m  - **Proactiveness:** Fulfill the user's request thoroughly. When adding features or fixing bugs, this includes adding tests to ensure quality. Consider all created files, especially tests, to be permanent artifacts unless the user says otherwise.[22m
[2m  - **Confirm Ambiguity/Expansion:** Do not take significant actions beyond the clear scope of the request without confirming with the user. If asked *how* to do something, explain first, don't just do it.[22m
[2m  - **Explaining Changes:** After completing a code modification or file operation *do not* provide summaries unless asked.[22m
[32m- - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Explain Before Acting:** Never call tools in silence. You MUST provide a concise, one-sentence explanation of your intent or strategy immediately before executing tool calls. This is essential for transparency, especially when confirming a request or answering a question. Silence is only acceptable for repetitive, low-level discovery operations (e.g., sequential file reads) where narration would be noisy.[39m

[2m  Mock Agent Directory[22m

[2m  # Hook Context[22m
[2m  - You may receive context from external hooks wrapped in `<hook_context>` tags.[22m
[33m@@ -36,11 +37,11 @@[39m

[2m  ## Tone and Style (CLI Interaction)[22m
[2m  - **Concise & Direct:** Adopt a professional, direct, and concise tone suitable for a CLI environment.[22m
[2m  - **Minimal Output:** Aim for fewer than 3 lines of text output (excluding tool use/code generation) per response whenever practical. Focus strictly on the user's query.[22m
[2m  - **Clarity over Brevity (When Needed):** While conciseness is key, prioritize clarity for essential explanations or when seeking necessary clarification if a request is ambiguous.[22m
[32m- - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m. Get straight to the action or answer[27m.[39m
[31m+ - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m unless they serve to explain intent as required by the 'Explain Before Acting' mandate[27m.[39m
[2m  - **Formatting:** Use GitHub-flavored Markdown. Responses will be rendered in monospace.[22m
[2m  - **Tools vs. Text:** Use tools for actions, text output *only* for communication. Do not add explanatory comments within tool calls or code blocks unless specifically part of the required code/command itself.[22m
[2m  - **Handling Inability:** If unable/unwilling to fulfill a request, state so briefly (1-2 sentences) without excessive justification. Offer alternatives if appropriate.[22m

[2m  ## Security and Safety Rules[22m

 â¯ src/core/prompts.test.ts:258:22
    256|       const prompt = getCoreSystemPrompt(mockConfig);
    257|       expect(prompt).toContain('# Active Approval Mode: Plan');
    258|       expect(prompt).toMatchSnapshot();
       |                      ^
    259|     });
    260| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[30/118]â¯

 FAIL  src/core/prompts.test.ts > Core System Prompt (prompts.ts) > ApprovalMode in System Prompt > should NOT include approval mode instructions for DEFAULT mode
Error: Snapshot `Core System Prompt (prompts.ts) > ApprovalMode in System Prompt > should NOT include approval mode instructions for DEFAULT mode 1` mismatched

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -8,11 +8,12 @@[39m
[2m  - **Idiomatic Changes:** When editing, understand the local context (imports, functions/classes) to ensure your changes integrate naturally and idiomatically.[22m
[2m  - **Comments:** Add code comments sparingly. Focus on *why* something is done, especially for complex logic, rather than *what* is done. Only add high-value comments if necessary for clarity or if requested by the user. Do not edit comments that are separate from the code you are changing. *NEVER* talk to the user or describe your changes through comments.[22m
[2m  - **Proactiveness:** Fulfill the user's request thoroughly. When adding features or fixing bugs, this includes adding tests to ensure quality. Consider all created files, especially tests, to be permanent artifacts unless the user says otherwise.[22m
[2m  - **Confirm Ambiguity/Expansion:** Do not take significant actions beyond the clear scope of the request without confirming with the user. If asked *how* to do something, explain first, don't just do it.[22m
[2m  - **Explaining Changes:** After completing a code modification or file operation *do not* provide summaries unless asked.[22m
[32m- - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Do Not revert changes:** Do not revert changes to the codebase unless asked to do so by the user. Only revert changes made by you if they have resulted in an error or if the user has explicitly asked you to revert the changes.[39m
[31m+ - **Explain Before Acting:** Never call tools in silence. You MUST provide a concise, one-sentence explanation of your intent or strategy immediately before executing tool calls. This is essential for transparency, especially when confirming a request or answering a question. Silence is only acceptable for repetitive, low-level discovery operations (e.g., sequential file reads) where narration would be noisy.[39m

[2m  Mock Agent Directory[22m

[2m  # Hook Context[22m
[2m  - You may receive context from external hooks wrapped in `<hook_context>` tags.[22m
[33m@@ -67,11 +68,11 @@[39m

[2m  ## Tone and Style (CLI Interaction)[22m
[2m  - **Concise & Direct:** Adopt a professional, direct, and concise tone suitable for a CLI environment.[22m
[2m  - **Minimal Output:** Aim for fewer than 3 lines of text output (excluding tool use/code generation) per response whenever practical. Focus strictly on the user's query.[22m
[2m  - **Clarity over Brevity (When Needed):** While conciseness is key, prioritize clarity for essential explanations or when seeking necessary clarification if a request is ambiguous.[22m
[32m- - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m. Get straight to the action or answer[27m.[39m
[31m+ - **No Chitchat:** Avoid conversational filler, preambles ("Okay, I will now..."), or postambles ("I have finished the changes...")[7m unless they serve to explain intent as required by the 'Explain Before Acting' mandate[27m.[39m
[2m  - **Formatting:** Use GitHub-flavored Markdown. Responses will be rendered in monospace.[22m
[2m  - **Tools vs. Text:** Use tools for actions, text output *only* for communication. Do not add explanatory comments within tool calls or code blocks unless specifically part of the required code/command itself.[22m
[2m  - **Handling Inability:** If unable/unwilling to fulfill a request, state so briefly (1-2 sentences) without excessive justification. Offer alternatives if appropriate.[22m

[2m  ## Security and Safety Rules[22m

 â¯ src/core/prompts.test.ts:267:22
    265|       const prompt = getCoreSystemPrompt(mockConfig);
    266|       expect(prompt).not.toContain('# Active Approval Mode: Plan');
    267|       expect(prompt).toMatchSnapshot();
       |                      ^
    268|     });
    269| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[31/118]â¯

 FAIL  src/services/chatRecordingService.test.ts > ChatRecordingService > ENOSPC (disk full) graceful degradation - issue #16266 > should still throw for non-ENOSPC errors
AssertionError: expected [Function] to throw an error

[32m- Expected:[39m 
null

[31m+ Received:[39m 
undefined

 â¯ src/services/chatRecordingService.test.ts:606:9
    604|           model: 'gemini-pro',
    605|         }),
    606|       ).toThrow('Permission denied');
       |         ^
    607| 
    608|       // Recording should NOT be disabled for non-ENOSPC errors (file â€¦

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[32/118]â¯

 FAIL  src/services/gitService.test.ts > GitService > setupShadowGitRepository > should create a .gitconfig file with the correct content
AssertionError: expected '[user]\n  name = Codefly CLI\n  emailâ€¦' to be '[user]\n  name = Gemini CLI\n  email â€¦' // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[2m  [user][22m
[32m-   name = [7mGemini[27m CLI[39m
[31m+   name = [7mCodefly[27m CLI[39m
[2m    email = gemini-cli@google.com[22m
[2m  [commit][22m
[2m    gpgsign = false[22m


 â¯ src/services/gitService.test.ts:203:35
    201|         '[user]\n  name = Gemini CLI\n  email = gemini-cli@google.com\â€¦
    202|       const actualConfigContent = await fs.readFile(gitConfigPath, 'utâ€¦
    203|       expect(actualConfigContent).toBe(expectedConfigContent);
       |                                   ^
    204|     });
    205| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[33/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logCliConfiguration > should log the cli configuration
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logCliConfiguration src/telemetry/loggers.ts:84:23
 â¯ src/telemetry/loggers.test.ts:225:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[34/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logUserPrompt > should log a user prompt
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logUserPrompt src/telemetry/loggers.ts:96:18
 â¯ src/telemetry/loggers.test.ts:276:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[35/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logUserPrompt > should not log prompt if disabled
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logUserPrompt src/telemetry/loggers.ts:96:18
 â¯ src/telemetry/loggers.test.ts:310:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[36/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logApiResponse > should log an API response with all fields
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logApiResponse src/telemetry/loggers.ts:262:18
 â¯ src/telemetry/loggers.test.ts:409:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[37/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logApiError > should log an API error with all fields
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logApiError src/telemetry/loggers.ts:231:18
 â¯ src/telemetry/loggers.test.ts:567:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[38/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logApiRequest > should log an API request with request_text
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logApiRequest src/telemetry/loggers.ts:186:18
 â¯ src/telemetry/loggers.test.ts:657:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logApiRequest > should log an API request without request_text
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logApiRequest src/telemetry/loggers.ts:186:18
 â¯ src/telemetry/loggers.test.ts:687:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[40/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logApiRequest > should log an API request with full semantic details when logPrompts is enabled
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logApiRequest src/telemetry/loggers.ts:186:18
 â¯ src/telemetry/loggers.test.ts:754:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[41/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logApiRequest > should log an API request with semantic details, but without prompts when logPrompts is disabled
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logApiRequest src/telemetry/loggers.ts:186:18
 â¯ src/telemetry/loggers.test.ts:826:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[42/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logApiRequest > should correctly derive model from prompt details if available in semantic log
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logApiRequest src/telemetry/loggers.ts:186:18
 â¯ src/telemetry/loggers.test.ts:873:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[43/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logFlashFallback > should log flash fallback event
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logFlashFallback src/telemetry/loggers.ts:198:18
 â¯ src/telemetry/loggers.test.ts:895:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[44/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logRipgrepFallback > should log ripgrep fallback event
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logRipgrepFallback src/telemetry/loggers.ts:213:18
 â¯ src/telemetry/loggers.test.ts:923:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[45/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logRipgrepFallback > should log ripgrep fallback event with an error
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logRipgrepFallback src/telemetry/loggers.ts:213:18
 â¯ src/telemetry/loggers.test.ts:941:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[46/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logToolCall > should log a tool call with all fields
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logToolCall src/telemetry/loggers.ts:115:18
 â¯ src/telemetry/loggers.test.ts:1061:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[47/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logToolCall > should log a tool call with a reject decision
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logToolCall src/telemetry/loggers.ts:115:18
 â¯ src/telemetry/loggers.test.ts:1160:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[48/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logToolCall > should log a tool call with a modify decision
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logToolCall src/telemetry/loggers.ts:115:18
 â¯ src/telemetry/loggers.test.ts:1240:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[49/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logToolCall > should log a tool call without a decision
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logToolCall src/telemetry/loggers.ts:115:18
 â¯ src/telemetry/loggers.test.ts:1319:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[50/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logToolCall > should log a failed tool call with an error
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logToolCall src/telemetry/loggers.ts:115:18
 â¯ src/telemetry/loggers.test.ts:1397:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[51/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logToolCall > should log a tool call with mcp_server_name for MCP tools
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logToolCall src/telemetry/loggers.ts:115:18
 â¯ src/telemetry/loggers.test.ts:1494:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[52/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logFileOperation > should log a file operation event
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logFileOperation src/telemetry/loggers.ts:166:18
 â¯ src/telemetry/loggers.test.ts:1584:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[53/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logToolOutputTruncated > should log a tool output truncated event
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logToolOutputTruncated src/telemetry/loggers.ts:151:18
 â¯ src/telemetry/loggers.test.ts:1632:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[54/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logModelRouting > should log the event to Clearcut and OTEL, and record metrics
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logModelRouting src/telemetry/loggers.ts:470:18
 â¯ src/telemetry/loggers.test.ts:1675:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[55/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logModelRouting > should only log to Clearcut if OTEL SDK is not initialized
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logModelRouting src/telemetry/loggers.ts:470:18
 â¯ src/telemetry/loggers.test.ts:1707:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[56/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logExtensionInstall > should log extension install event
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logExtensionInstallEvent src/telemetry/loggers.ts:502:24
 â¯ src/telemetry/loggers.test.ts:1737:13

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[57/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logExtensionUpdate > should log extension update event
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logExtensionUpdateEvent src/telemetry/loggers.ts:532:24
 â¯ src/telemetry/loggers.test.ts:1781:13

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[58/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logExtensionUninstall > should log extension uninstall event
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logExtensionUninstall src/telemetry/loggers.ts:517:24
 â¯ src/telemetry/loggers.test.ts:1822:13

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[59/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logExtensionEnable > should log extension enable event
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logExtensionEnable src/telemetry/loggers.ts:547:24
 â¯ src/telemetry/loggers.test.ts:1860:13

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[60/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logExtensionDisable > should log extension disable event
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logExtensionDisable src/telemetry/loggers.ts:562:24
 â¯ src/telemetry/loggers.test.ts:1898:13

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[61/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logAgentStart > should log agent start event
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logAgentStart src/telemetry/loggers.ts:604:18
 â¯ src/telemetry/loggers.test.ts:1927:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[62/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logAgentFinish > should log agent finish event and record metrics
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logAgentFinish src/telemetry/loggers.ts:616:18
 â¯ src/telemetry/loggers.test.ts:1964:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[63/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logWebFetchFallbackAttempt > should log web fetch fallback attempt event
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logWebFetchFallbackAttempt src/telemetry/loggers.ts:650:18
 â¯ src/telemetry/loggers.test.ts:2001:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[64/118]â¯

 FAIL  src/telemetry/loggers.test.ts > loggers > logHookCall > should log hook call event to Clearcut and OTEL
TypeError: config?.getUsageStatisticsEnabled is not a function
 â¯ ClearcutLogger.getInstance src/telemetry/clearcut-logger/clearcut-logger.ts:278:42
    276| 
    277|   static getInstance(config?: Config): ClearcutLogger | undefined {
    278|     if (config === undefined || !config?.getUsageStatisticsEnabled())
       |                                          ^
    279|       return undefined;
    280|     if (!ClearcutLogger.instance) {
 â¯ Module.logHookCall src/telemetry/loggers.ts:703:18
 â¯ src/telemetry/loggers.test.ts:2041:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[65/118]â¯

 FAIL  src/tools/mcp-client.test.ts > connectToMcpServer with OAuth > should discover oauth config if not in www-authenticate header
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/tools/mcp-client.test.ts:1579:3
    1577|   });
    1578| 
    1579|   it('should discover oauth config if not in www-authenticate header',â€¦
       |   ^
    1580|     const serverUrl = 'http://test-server.com';
    1581|     const authUrl = 'http://auth.example.com/auth';

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[66/118]â¯

 FAIL  src/tools/memoryTool.test.ts > MemoryTool > shouldConfirmExecute > should return confirmation details when memory file is not allowlisted
AssertionError: expected 'Confirm Memory Save: ~/.codefly/CODEFâ€¦' to be 'Confirm Memory Save: ~/.codefly/GEMINâ€¦' // Object.is equality

Expected: [32m"Confirm Memory Save: ~/.codefly/[7mGEMINI[27m.md"[39m
Received: [31m"Confirm Memory Save: ~/.codefly/[7mCODEFLY[27m.md"[39m

 â¯ src/tools/memoryTool.test.ts:328:30
    326|       if (result && result.type === 'edit') {
    327|         const expectedPath = path.join('~', CODEFLY_DIR, 'GEMINI.md');
    328|         expect(result.title).toBe(`Confirm Memory Save: ${expectedPathâ€¦
       |                              ^
    329|         expect(result.fileName).toContain(
    330|           path.join('mock', 'home', CODEFLY_DIR),

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[67/118]â¯

 FAIL  src/tools/memoryTool.test.ts > MemoryTool > shouldConfirmExecute > should handle existing memory file with content
AssertionError: expected 'Confirm Memory Save: ~/.codefly/CODEFâ€¦' to be 'Confirm Memory Save: ~/.codefly/GEMINâ€¦' // Object.is equality

Expected: [32m"Confirm Memory Save: ~/.codefly/[7mGEMINI[27m.md"[39m
Received: [31m"Confirm Memory Save: ~/.codefly/[7mCODEFLY[27m.md"[39m

 â¯ src/tools/memoryTool.test.ts:428:30
    426|       if (result && result.type === 'edit') {
    427|         const expectedPath = path.join('~', CODEFLY_DIR, 'GEMINI.md');
    428|         expect(result.title).toBe(`Confirm Memory Save: ${expectedPathâ€¦
       |                              ^
    429|         expect(result.fileDiff).toContain('Index: GEMINI.md');
    430|         expect(result.fileDiff).toContain('+- New fact');

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[68/118]â¯

 FAIL  src/routing/strategies/defaultStrategy.test.ts > DefaultStrategy > should route to the preview model when requested model is preview auto
AssertionError: expected { â€¦(2) } to deeply equal { model: 'gemini-3-pro-preview', â€¦(1) }

[32m- Expected[39m
[31m+ Received[39m

[2m  {[22m
[2m    "metadata": {[22m
[2m      "latencyMs": 0,[22m
[32m-     "reasoning": "Routing to default model: gemini-3-pro-preview",[39m
[31m+     "reasoning": "Routing to default model: gemini-3-flash-preview",[39m
[2m      "source": "default",[22m
[2m    },[22m
[32m-   "model": "gemini-3-pro-preview",[39m
[31m+   "model": "gemini-3-flash-preview",[39m
[2m  }[22m

 â¯ src/routing/strategies/defaultStrategy.test.ts:54:22
     52|     const decision = await strategy.route(mockContext, mockConfig, mocâ€¦
     53| 
     54|     expect(decision).toEqual({
       |                      ^
     55|       model: PREVIEW_GEMINI_MODEL,
     56|       metadata: {

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[69/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs the total number of google accounts
TypeError: undefined is not iterable (cannot read property Symbol(Symbol.iterator))
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:269:40
    267|       const event = logger?.createLogEvent(EventNames.API_ERROR, []);
    268| 
    269|       expect(event?.event_metadata[0]).toContainEqual({
       |                                        ^
    270|         gemini_cli_key: EventMetadataKey.GEMINI_CLI_GOOGLE_ACCOUNTS_COâ€¦
    271|         value: '9001',

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[70/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs default metadata
AssertionError: expected undefined to deeply equal ArrayContaining{â€¦}

[32m- Expected:[39m 
ArrayContaining [
  {
    "gemini_cli_key": 40,
    "value": "my-session-id",
  },
  {
    "gemini_cli_key": 36,
    "value": "\"gemini-api-key\"",
  },
  {
    "gemini_cli_key": 37,
    "value": "123",
  },
  {
    "gemini_cli_key": 39,
    "value": "ide-1234",
  },
  {
    "gemini_cli_key": 54,
    "value": "0.24.2",
  },
  {
    "gemini_cli_key": 55,
    "value": "840efdea1",
  },
  {
    "gemini_cli_key": 35,
    "value": "my-prompt-123",
  },
  {
    "gemini_cli_key": 82,
    "value": "darwin",
  },
  {
    "gemini_cli_key": 84,
    "value": undefined,
  },
]

[31m+ Received:[39m 
undefined

 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:301:40
    299| 
    300|       // Ensure expected values exist
    301|       expect(event?.event_metadata[0]).toEqual(
       |                                        ^
    302|         expect.arrayContaining([
    303|           {

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[71/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs the current nodejs version
TypeError: undefined is not iterable (cannot read property Symbol(Symbol.iterator))
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:348:40
    346|       const event = logger?.createLogEvent(EventNames.API_ERROR, []);
    347| 
    348|       expect(event?.event_metadata[0]).toContainEqual({
       |                                        ^
    349|         gemini_cli_key: EventMetadataKey.GEMINI_CLI_NODE_VERSION,
    350|         value: process.versions.node,

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[72/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs all user settings
TypeError: undefined is not iterable (cannot read property Symbol(Symbol.iterator))
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:364:40
    362|       const event = logger?.createLogEvent(EventNames.TOOL_CALL, []);
    363| 
    364|       expect(event?.event_metadata[0]).toContainEqual({
       |                                        ^
    365|         gemini_cli_key: EventMetadataKey.GEMINI_CLI_USER_SETTINGS,
    366|         value: logger?.getConfigJson(),

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[73/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs the GPU information (single GPU)
AssertionError: expected undefined to be defined
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:383:28
    381|         (item) => item.gemini_cli_key === EventMetadataKey.GEMINI_CLI_â€¦
    382|       );
    383|       expect(gpuInfoEntry).toBeDefined();
       |                            ^
    384|       expect(gpuInfoEntry?.value).toBe('Single GPU');
    385|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[74/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs multiple GPUs
AssertionError: expected undefined to be 'GPU 1, GPU 2' // Object.is equality

[32m- Expected:[39m 
"GPU 1, GPU 2"

[31m+ Received:[39m 
undefined

 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:401:35
    399|         (m) => m.gemini_cli_key === EventMetadataKey.GEMINI_CLI_GPU_INâ€¦
    400|       );
    401|       expect(gpuInfoEntry?.value).toBe('GPU 1, GPU 2');
       |                                   ^
    402|     });
    403| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[75/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs NA when no GPUs are found
AssertionError: expected undefined to be 'NA' // Object.is equality

[32m- Expected:[39m 
"NA"

[31m+ Received:[39m 
undefined

 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:418:35
    416|         (m) => m.gemini_cli_key === EventMetadataKey.GEMINI_CLI_GPU_INâ€¦
    417|       );
    418|       expect(gpuInfoEntry?.value).toBe('NA');
       |                                   ^
    419|     });
    420| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[76/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs FAILED when GPU detection fails
TypeError: undefined is not iterable (cannot read property Symbol(Symbol.iterator))
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:431:40
    429|       const event = logger?.createLogEvent(EventNames.API_ERROR, []);
    430| 
    431|       expect(event?.event_metadata[0]).toContainEqual({
       |                                        ^
    432|         gemini_cli_key: EventMetadataKey.GEMINI_CLI_GPU_INFO,
    433|         value: 'FAILED',

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[77/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs the current surface as 'GitHub' from 'github action'
 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs the current surface as 'cloudshell' from 'Cloud Shell via EDITOR_IN_CLOUD_SHELL'
 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs the current surface as 'cloudshell' from 'Cloud Shell via CLOUD_SHELL'
 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs the current surface as 'vscode' from 'VSCode via TERM_PROGRAM'
 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs the current surface as 'ide-1234' from 'SURFACE env var'
 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs the current surface as 'ide-1234' from 'SURFACE env var takes precedence'
 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs the current surface as 'cursor' from 'Cursor'
 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs the current surface as 'firebasestudio' from 'Firebase Studio'
 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs the current surface as 'devin' from 'Devin'
 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > createLogEvent > logs the current surface as 'SURFACE_NOT_SET' from 'unidentified'
TypeError: undefined is not iterable (cannot read property Symbol(Symbol.iterator))
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:522:42
    520|         }
    521|         const event = logger?.createLogEvent(EventNames.API_ERROR, []);
    522|         expect(event?.event_metadata[0]).toContainEqual({
       |                                          ^
    523|           gemini_cli_key: EventMetadataKey.GEMINI_CLI_SURFACE,
    524|           value: expected,

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[78/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > GH_WORKFLOW_NAME metadata > includes workflow name when GH_WORKFLOW_NAME is set
TypeError: undefined is not iterable (cannot read property Symbol(Symbol.iterator))
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:536:40
    534| 
    535|       const event = logger?.createLogEvent(EventNames.API_ERROR, []);
    536|       expect(event?.event_metadata[0]).toContainEqual({
       |                                        ^
    537|         gemini_cli_key: EventMetadataKey.GEMINI_CLI_GH_WORKFLOW_NAME,
    538|         value: 'test-workflow',

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[79/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > GH_WORKFLOW_NAME metadata > does not include workflow name when GH_WORKFLOW_NAME is not set
AssertionError: expected undefined to be false // Object.is equality

[32m- Expected:[39m 
false

[31m+ Received:[39m 
undefined

 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:551:31
    549|           item.gemini_cli_key === EventMetadataKey.GEMINI_CLI_GH_WORKFâ€¦
    550|       );
    551|       expect(hasWorkflowName).toBe(false);
       |                               ^
    552|     });
    553|   });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[80/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > GITHUB_REPOSITORY metadata > includes hashed repository when GITHUB_REPOSITORY is set
AssertionError: expected undefined to be defined
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:566:34
    564|           EventMetadataKey.GEMINI_CLI_GH_REPOSITORY_NAME_HASH,
    565|       );
    566|       expect(repositoryMetadata).toBeDefined();
       |                                  ^
    567|       expect(repositoryMetadata?.value).toMatch(/^[a-f0-9]{64}$/);
    568|       expect(repositoryMetadata?.value).not.toBe('google/gemini-cli');

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[81/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > GITHUB_REPOSITORY metadata > hashes repository name consistently
AssertionError: expected undefined to be defined
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:589:21
    587|       )?.value;
    588| 
    589|       expect(hash1).toBeDefined();
       |                     ^
    590|       expect(hash2).toBeDefined();
    591|       expect(hash1).toBe(hash2);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[82/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > GITHUB_REPOSITORY metadata > produces different hashes for different repositories
AssertionError: expected undefined to be defined
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:614:21
    612|       )?.value;
    613| 
    614|       expect(hash1).toBeDefined();
       |                     ^
    615|       expect(hash2).toBeDefined();
    616|       expect(hash1).not.toBe(hash2);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[83/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > GITHUB_REPOSITORY metadata > does not include repository when GITHUB_REPOSITORY is not set
AssertionError: expected undefined to be false // Object.is equality

[32m- Expected:[39m 
false

[31m+ Received:[39m 
undefined

 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:629:29
    627|           EventMetadataKey.GEMINI_CLI_GH_REPOSITORY_NAME_HASH,
    628|       );
    629|       expect(hasRepository).toBe(false);
       |                             ^
    630|     });
    631|   });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[84/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logChatCompressionEvent > logs an event with proper fields
TypeError: Cannot read properties of undefined (reading 'events')
 â¯ getEvents src/telemetry/clearcut-logger/clearcut-logger.test.ts:166:5
    164|   // A helper to get the internal events array for testing
    165|   const getEvents = (l: ClearcutLogger): LogEventEntry[][] =>
    166|     l['events'].toArray() as LogEventEntry[][];
       |     ^
    167| 
    168|   const getEventsSize = (l: ClearcutLogger): number => l['events'].sizâ€¦
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:643:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[85/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logRipgrepFallbackEvent > logs an event with the proper name
TypeError: Cannot convert undefined or null to object
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:663:10
    661|       const flushSpy = vi
    662|         // eslint-disable-next-line @typescript-eslint/no-explicit-any
    663|         .spyOn(logger!, 'flushToClearcut' as any)
       |          ^
    664|         .mockResolvedValue({ nextRequestWaitMs: 0 });
    665| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[86/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > enqueueLogEvent > should add events to the queue
TypeError: Cannot read properties of undefined (reading 'enqueueLogEvent')
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:678:15
    676|     it('should add events to the queue', () => {
    677|       const { logger } = setup();
    678|       logger!.enqueueLogEvent(logger!.createLogEvent(EventNames.API_ERâ€¦
       |               ^
    679|       expect(getEventsSize(logger!)).toBe(1);
    680|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[87/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > enqueueLogEvent > should evict the oldest event when the queue is full
TypeError: Cannot read properties of undefined (reading 'enqueueLogEvent')
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:686:17
    684| 
    685|       for (let i = 0; i < TEST_ONLY.MAX_EVENTS; i++) {
    686|         logger!.enqueueLogEvent(
       |                 ^
    687|           logger!.createLogEvent(EventNames.API_ERROR, [
    688|             {

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[88/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > flushToClearcut > allows for usage with a configured proxy agent
TypeError: Cannot read properties of undefined (reading 'enqueueLogEvent')
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:734:15
    732|       });
    733| 
    734|       logger!.enqueueLogEvent(logger!.createLogEvent(EventNames.API_ERâ€¦
       |               ^
    735| 
    736|       const response = await logger!.flushToClearcut();

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[89/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > flushToClearcut > should clear events on successful flush
TypeError: Cannot read properties of undefined (reading 'enqueueLogEvent')
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:744:15
    742|       const { logger } = setup();
    743| 
    744|       logger!.enqueueLogEvent(logger!.createLogEvent(EventNames.API_ERâ€¦
       |               ^
    745|       const response = await logger!.flushToClearcut();
    746| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[90/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > flushToClearcut > should handle a network error and requeue events
TypeError: Cannot read properties of undefined (reading 'enqueueLogEvent')
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:755:15
    753| 
    754|       server.resetHandlers(http.post(CLEARCUT_URL, () => HttpResponse.â€¦
    755|       logger!.enqueueLogEvent(logger!.createLogEvent(EventNames.API_REâ€¦
       |               ^
    756|       logger!.enqueueLogEvent(logger!.createLogEvent(EventNames.API_ERâ€¦
    757|       expect(getEventsSize(logger!)).toBe(2);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[91/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > flushToClearcut > should handle an HTTP error and requeue events
TypeError: Cannot read properties of undefined (reading 'enqueueLogEvent')
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:785:15
    783|       );
    784| 
    785|       logger!.enqueueLogEvent(logger!.createLogEvent(EventNames.API_REâ€¦
       |               ^
    786|       logger!.enqueueLogEvent(logger!.createLogEvent(EventNames.API_ERâ€¦
    787| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[92/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > requeueFailedEvents logic > should limit the number of requeued events to max_retry_events
TypeError: Cannot read properties of undefined (reading 'requeueFailedEvents')
 â¯ requeueFailedEvents src/telemetry/clearcut-logger/clearcut-logger.test.ts:171:5
    169| 
    170|   const requeueFailedEvents = (l: ClearcutLogger, events: LogEventEntrâ€¦
    171|     l['requeueFailedEvents'](events);
       |     ^
    172| 
    173|   afterEach(() => {
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:811:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[93/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > requeueFailedEvents logic > should not requeue more events than available space in the queue
TypeError: Cannot read properties of undefined (reading 'enqueueLogEvent')
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:829:17
    827|       const initialEventCount = maxEvents - spaceToLeave;
    828|       for (let i = 0; i < initialEventCount; i++) {
    829|         logger!.enqueueLogEvent(logger!.createLogEvent(EventNames.API_â€¦
       |                 ^
    830|       }
    831|       expect(getEventsSize(logger!)).toBe(initialEventCount);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[94/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logModelRoutingEvent > logs a successful routing event
TypeError: Cannot read properties of undefined (reading 'events')
 â¯ getEvents src/telemetry/clearcut-logger/clearcut-logger.test.ts:166:5
    164|   // A helper to get the internal events array for testing
    165|   const getEvents = (l: ClearcutLogger): LogEventEntry[][] =>
    166|     l['events'].toArray() as LogEventEntry[][];
       |     ^
    167| 
    168|   const getEventsSize = (l: ClearcutLogger): number => l['events'].sizâ€¦
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:875:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[95/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logModelRoutingEvent > logs a failed routing event with a reason
TypeError: Cannot read properties of undefined (reading 'events')
 â¯ getEvents src/telemetry/clearcut-logger/clearcut-logger.test.ts:166:5
    164|   // A helper to get the internal events array for testing
    165|   const getEvents = (l: ClearcutLogger): LogEventEntry[][] =>
    166|     l['events'].toArray() as LogEventEntry[][];
       |     ^
    167| 
    168|   const getEventsSize = (l: ClearcutLogger): number => l['events'].sizâ€¦
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:909:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[96/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logAgentStartEvent > logs an event with proper fields
TypeError: Cannot read properties of undefined (reading 'events')
 â¯ getEvents src/telemetry/clearcut-logger/clearcut-logger.test.ts:166:5
    164|   // A helper to get the internal events array for testing
    165|   const getEvents = (l: ClearcutLogger): LogEventEntry[][] =>
    166|     l['events'].toArray() as LogEventEntry[][];
       |     ^
    167| 
    168|   const getEventsSize = (l: ClearcutLogger): number => l['events'].sizâ€¦
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:942:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[97/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logExperiments > async path includes exp.gws_experiment field with experiment IDs
TypeError: Cannot read properties of undefined (reading 'createLogEvent')
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:959:29
    957|     it('async path includes exp.gws_experiment field with experiment Iâ€¦
    958|       const { logger } = setup();
    959|       const event = logger!.createLogEvent(EventNames.START_SESSION, [â€¦
       |                             ^
    960| 
    961|       await logger?.enqueueLogEventAfterExperimentsLoadAsync(event);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[98/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logExperiments > async path includes empty gws_experiment array when no experiments
TypeError: Cannot read properties of undefined (reading 'createLogEvent')
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:983:29
    981|         } as unknown as Partial<ConfigParameters>,
    982|       });
    983|       const event = logger!.createLogEvent(EventNames.START_SESSION, [â€¦
       |                             ^
    984| 
    985|       await logger?.enqueueLogEventAfterExperimentsLoadAsync(event);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[99/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logExperiments > non-async path does not include exp.gws_experiment field
TypeError: Cannot read properties of undefined (reading 'events')
 â¯ getEvents src/telemetry/clearcut-logger/clearcut-logger.test.ts:166:5
    164|   // A helper to get the internal events array for testing
    165|   const getEvents = (l: ClearcutLogger): LogEventEntry[][] =>
    166|     l['events'].toArray() as LogEventEntry[][];
       |     ^
    167| 
    168|   const getEventsSize = (l: ClearcutLogger): number => l['events'].sizâ€¦
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:1000:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[100/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logAgentFinishEvent > logs an event with proper fields (success)
TypeError: Cannot read properties of undefined (reading 'events')
 â¯ getEvents src/telemetry/clearcut-logger/clearcut-logger.test.ts:166:5
    164|   // A helper to get the internal events array for testing
    165|   const getEvents = (l: ClearcutLogger): LogEventEntry[][] =>
    166|     l['events'].toArray() as LogEventEntry[][];
       |     ^
    167| 
    168|   const getEventsSize = (l: ClearcutLogger): number => l['events'].sizâ€¦
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:1020:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[101/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logAgentFinishEvent > logs an event with proper fields (error)
TypeError: Cannot read properties of undefined (reading 'events')
 â¯ getEvents src/telemetry/clearcut-logger/clearcut-logger.test.ts:166:5
    164|   // A helper to get the internal events array for testing
    165|   const getEvents = (l: ClearcutLogger): LogEventEntry[][] =>
    166|     l['events'].toArray() as LogEventEntry[][];
       |     ^
    167| 
    168|   const getEventsSize = (l: ClearcutLogger): number => l['events'].sizâ€¦
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:1057:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[102/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logToolCallEvent > logs an event with all diff metadata
TypeError: Cannot read properties of undefined (reading 'events')
 â¯ getEvents src/telemetry/clearcut-logger/clearcut-logger.test.ts:166:5
    164|   // A helper to get the internal events array for testing
    165|   const getEvents = (l: ClearcutLogger): LogEventEntry[][] =>
    166|     l['events'].toArray() as LogEventEntry[][];
       |     ^
    167| 
    168|   const getEventsSize = (l: ClearcutLogger): number => l['events'].sizâ€¦
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:1091:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[103/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logToolCallEvent > logs an event with partial diff metadata
TypeError: Cannot read properties of undefined (reading 'events')
 â¯ getEvents src/telemetry/clearcut-logger/clearcut-logger.test.ts:166:5
    164|   // A helper to get the internal events array for testing
    165|   const getEvents = (l: ClearcutLogger): LogEventEntry[][] =>
    166|     l['events'].toArray() as LogEventEntry[][];
       |     ^
    167| 
    168|   const getEventsSize = (l: ClearcutLogger): number => l['events'].sizâ€¦
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:1147:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[104/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logToolCallEvent > does not log diff metadata if diffStat is not present
TypeError: Cannot read properties of undefined (reading 'events')
 â¯ getEvents src/telemetry/clearcut-logger/clearcut-logger.test.ts:166:5
    164|   // A helper to get the internal events array for testing
    165|   const getEvents = (l: ClearcutLogger): LogEventEntry[][] =>
    166|     l['events'].toArray() as LogEventEntry[][];
       |     ^
    167| 
    168|   const getEventsSize = (l: ClearcutLogger): number => l['events'].sizâ€¦
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:1192:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[105/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > flushIfNeeded > should not flush if the interval has not passed
TypeError: Cannot convert undefined or null to object
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:1206:10
    1204|       const flushSpy = vi
    1205|         // eslint-disable-next-line @typescript-eslint/no-explicit-any
    1206|         .spyOn(logger!, 'flushToClearcut' as any)
       |          ^
    1207|         .mockResolvedValue({ nextRequestWaitMs: 0 });
    1208| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[106/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > flushIfNeeded > should flush if the interval has passed
TypeError: Cannot convert undefined or null to object
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:1217:10
    1215|       const flushSpy = vi
    1216|         // eslint-disable-next-line @typescript-eslint/no-explicit-any
    1217|         .spyOn(logger!, 'flushToClearcut' as any)
       |          ^
    1218|         .mockResolvedValue({ nextRequestWaitMs: 0 });
    1219| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[107/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logWebFetchFallbackAttemptEvent > logs an event with the proper name and reason
TypeError: Cannot read properties of undefined (reading 'events')
 â¯ getEvents src/telemetry/clearcut-logger/clearcut-logger.test.ts:166:5
    164|   // A helper to get the internal events array for testing
    165|   const getEvents = (l: ClearcutLogger): LogEventEntry[][] =>
    166|     l['events'].toArray() as LogEventEntry[][];
       |     ^
    167| 
    168|   const getEventsSize = (l: ClearcutLogger): number => l['events'].sizâ€¦
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:1235:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[108/118]â¯

 FAIL  src/telemetry/clearcut-logger/clearcut-logger.test.ts > ClearcutLogger > logHookCallEvent > logs an event with proper fields
TypeError: Cannot read properties of undefined (reading 'events')
 â¯ getEvents src/telemetry/clearcut-logger/clearcut-logger.test.ts:166:5
    164|   // A helper to get the internal events array for testing
    165|   const getEvents = (l: ClearcutLogger): LogEventEntry[][] =>
    166|     l['events'].toArray() as LogEventEntry[][];
       |     ^
    167| 
    168|   const getEventsSize = (l: ClearcutLogger): number => l['events'].sizâ€¦
 â¯ src/telemetry/clearcut-logger/clearcut-logger.test.ts:1263:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[109/118]â¯


  Snapshots  14 failed
 Test Files  14 failed | 213 passed (227)
      Tests  118 failed | 4092 passed | 24 skipped (4234)
   Start at  10:16:53
   Duration  13.40s (transform 4.77s, setup 800ms, collect 83.28s, tests 37.20s, environment 21ms, prepare 8.98s)

JUNIT report written to /Users/robinx/code/codefly-cli/packages/core/junit.xml
npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path /Users/robinx/code/codefly-cli/packages/core
npm error workspace @codeflyai/codefly-core@0.24.0-nightly.20251227.37be16243
npm error location /Users/robinx/code/codefly-cli/packages/core
npm error command failed
npm error command sh -c vitest run

npm error Lifecycle script `test` failed with error:
npm error workspace @codeflyai/codefly-test-utils@0.24.0-nightly.20251227.37be16243
npm error location /Users/robinx/code/codefly-cli/packages/test-utils
npm error Missing script: "test"
npm error
npm error To see a list of scripts, run:
npm error   npm run --workspace=@codeflyai/codefly-test-utils@0.24.0-nightly.20251227.37be16243


> codefly-vscode-ide-companion@0.24.0-nightly.20251227.37be16243 test
> vitest run


 RUN  v3.2.4 /Users/robinx/code/codefly-cli/packages/vscode-ide-companion

 âœ“ src/open-files-manager.test.ts (17 tests) 10ms
 âœ“ src/extension.test.ts (11 tests) 18ms
 âœ“ src/ide-server.test.ts (13 tests | 1 skipped) 51ms

 Test Files  3 passed (3)
      Tests  40 passed | 1 skipped (41)
   Start at  10:17:06
   Duration  1.17s (transform 469ms, setup 0ms, collect 2.03s, tests 79ms, environment 0ms, prepare 75ms)

